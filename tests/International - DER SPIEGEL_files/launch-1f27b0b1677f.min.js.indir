// For license information, see `https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/launch-1f27b0b1677f.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2021-09-23T10:28:21Z",turbineBuildDate:"2021-08-11T20:25:49Z",turbineVersion:"27.2.0"},environment:{id:"ENb1359345772b400fa918ecea10189d66",stage:"production"},dataElements:{"Click | Component Embed ID [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.embedded_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.timing.performance-server-response:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/serverResponseTime.js",settings:{}},"Event | Source [co]":{defaultValue:"default",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.source",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page | is PUR Tracking [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_consent_required",callback:function(e){return!1===e},doCustomCode:!0,convertToString:!1}},"_config.store.sara-count-end-of-article:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_count_eoa"}},"Page | IVW Code AGOF Substring: Channel/Subchannel [co]":{defaultValue:"",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"homepage",method:"exact match",output:"homepage/homepage"},1:{input:"article",method:"exact match",output:"%page.attributes.channel_slug:sd%/%page.attributes.subchannel_slug:sd%"},2:{input:"channel",method:"exact match",output:"%page.attributes.channel_slug:sd%/channel"},3:{input:"subchannel",method:"exact match",output:"%page.attributes.channel_slug:sd%/%page.attributes.subchannel_slug:sd%"},4:{input:"topic",method:"exact match",output:"%Page | IVW Code AGOF Substring: Topic Page [co]%"},5:{input:"partner",method:"exact match",output:"%Page | IVW Code AGOF Substring: Partner Page [co]%"},6:{input:"page",method:"exact match",output:"backstage/page"},7:{input:"newsletter",method:"exact match",output:"newsletter/channel"},8:{input:"headlines",method:"exact match",output:"schlagzeilen/channel"},9:{input:"plus",method:"exact match",output:"plus/plus"},10:{input:"fuermich",method:"exact match",output:"fuermich/plus"},11:{input:"search",method:"exact match",output:"suche/search"},12:{input:"audio",method:"exact match",output:"audio/audio"},13:{input:"video",method:"exact match",output:"video/video"},14:{input:"author",method:"exact match",output:"backstage/author"},15:{input:"magazinearticle",method:"exact match",output:"spiegel/magazinearticle"},16:{input:"issue",method:"exact match",output:"spiegel/magazine"},17:{input:"issues",method:"exact match",output:"spiegel/magazinearchive"},18:{input:"newsarchive",method:"exact match",output:"nachrichtenachriv/newsarchive"},19:{input:"topics",method:"exact match",output:"thema/channel"},20:{input:"consent",method:"exact match",output:"backstage/consent"},size:21,dataElement:"%page.category.route:sd%",defaultValueEmpty:!0}},"User | Emetriq ID [co]":{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"adp_pid"}},"page.custom.wirtschaft-finanzcheck:map":{defaultValue:"finanzcheckFalse",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"wirtschaft|article|service",method:"exact match",output:"finanzcheckTrue"},1:{input:"wirtschaft|channel|channel",method:"exact match",output:"finanzcheckTrue"},2:{input:"wirtschaft|subchannel",method:"starts with",output:"finanzcheckTrue"},3:{input:"gesundheit|article|",method:"starts with",output:"finanzcheckTrue"},4:{input:"psychologie|article|",method:"starts with",output:"finanzcheckTrue"},5:{input:"familie|article|",method:"starts with",output:"finanzcheckTrue"},6:{input:"reise|article|",method:"starts with",output:"finanzcheckTrue"},7:{input:"stil|article|",method:"starts with",output:"finanzcheckTrue"},size:8,dataElement:"%page.attributes.channel_slug:sd%|%page.category.route:sd%|%page.attributes.subchannel_slug:sd%",defaultValueEmpty:!0}},"_qs.value.event-action-name-label:dea":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%event.info.action:sd%"},{delimiter:"|",dataElement:"%event.info.name:sd%"},{delimiter:"|",dataElement:"%event.attributes.label:sd%"}]}},"target.elements.eigenwerbung:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:'["rectangle_2", "superbanner_3", "superbanner_5","mobile_3","mobile_4","mobile_5","teaser_11"]'}},"_config.store.sara-aam-uuid:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_aam_uuid"}},"paywall.attributes.is_active:sd.rw":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.attributes.is_active",callback:function(e){return!0===e?"has_paywall":"no_paywall"},doCustomCode:!0,convertToString:!1}},"Hit | Visibility Stats [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return[window.stats.status.initiallyVisible,window.stats.status.isEngaged,window.stats.status.isTabVisible].join("~")}catch(e){}}}},"page.custom.campaign-id-external:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=new URL(window.location).searchParams.get("sara_ecid")||("redirect_page"==_satellite.getVar("Page | is Redirect Page [gl]")?new URL(document.referrer).searchParams.get("sara_ecid"):null);return"string"!=typeof e?"":"sea_pd_"==e.substring(0,7)?_satellite.getVar("util.function.check-campaign-parameter:cc")(e):e||void 0}catch(t){return}}}},"qs.value.launch-version-date:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.buildInfo.turbineBuildDate"}},"Editorial |\xa0Topics:String [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.topics",callback:function(e){if(e)return e.toString()},doCustomCode:!0,convertToString:!1}},"editorial.info.channel+subchannel:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("editorial.info.channel:sd")+":"+_satellite.getVar("editorial.info.subchannel:sd")}}},"User | is New [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"isNewVisitor"}},"paywall.attributes.is_active:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.attributes.is_active",convertToString:!1}},"page.timing.mark-load-libraries:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return Math.round(performance.getEntriesByName("sara_load_libraries")[0].startTime)}}},"page.custom.url-path:pi":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"pathname"}},"editorial.category.genre:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.category.genre",callback:function(){},doCustomCode:!1,convertToString:!1}},"Config | is PUR Tracking [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_spiegelNoAdsMonthly_access",callback:function(e){return e||_satellite.getVar("Page | is PUR Tracking [co]")},doCustomCode:!0,convertToString:!1}},"Cookie | Consent [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"polygon_consent"}},"event.custom.click-paywall:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:">paywall-purchase-button",method:"contains",output:"paywall:click"},size:1,dataElement:"%event.attributes.click_id:sd%",defaultValueEmpty:!0}},"editorial.info.intro:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.intro",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.attributes.is_phone:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_phone",convertToString:!1}},"event.attributes.autostart:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.autostart",callback:function(e){return!0===e?"has_autostart":"no_autostart"},doCustomCode:!0,convertToString:!1}},"page.custom.url-search-sara_ecid:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"sara_ecid",caseInsensitive:!0}},"editorial.attributes.is_listExcluded:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_listExcluded",callback:function(e){return!0===e?"is_listexcluded":"is_not_listexcluded"},doCustomCode:!0,convertToString:!1}},"_config.store.sara-count-end-of-hp:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_count_eoh"}},"Page | IVW Code AGOF Substring [co]":{defaultValue:"",storageDuration:"pageview",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%Page | IVW Code AGOF Substring: Channel/Subchannel [co]%"},{delimiter:"",dataElement:"%Page | IVW Code AGOF Substring: Paid/Free [co] %"}]}},"_config.store.sara-user-session:const":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_user_session"}},"event.attributes.pos:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.pos",callback:function(){},doCustomCode:!1,convertToString:!1}},"Editorial | Topics:List [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.topics",callback:function(e){if(e)return e.join("~")},doCustomCode:!0,convertToString:!1}},"editorial.attributes.has_author:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_author",callback:function(){},doCustomCode:!1,convertToString:!1}},"_config.store.sara-prev-page-data:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_prev_data"}},"Form | Class [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.category.class",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.timing.previous-performance-page-render:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.page_render}}},"user.segment.has_conditional_access:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_conditional_access",callback:function(e){return!0===e?"has_conditionalAccess":"no_conditionalAccess"},doCustomCode:!0,convertToString:!1}},"page.attributes.is_mobile:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_mobile",callback:function(e){return!0!==e&&"desktop"},doCustomCode:!0,convertToString:!1}},"page.custom.previous-article-id:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).page.article_id}catch(e){return}}}},"Hit | Timestamp ISO [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return(new Date).toISOString()}}},"event.attributes.volume:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.volume",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.info.canonical_url:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.canonical_url",callback:function(e){return e||_satellite.getVar("Page | URL: Host + Path [gl]")},doCustomCode:!0,convertToString:!1}},"click.custom.on-page-load-position:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("click.custom.on-page-load-attributes:cookie")).pos}catch(e){return}}}},"Product | ID in App [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"iapTrackingId",caseInsensitive:!0}},"qs.value.launch-environment:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.environment.stage"}},"Marketing Pixel | Facebook ID: webnetz [vm]":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"devWEBNETZ"},1:{input:"production",method:"exact match",output:"109763999395282"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"event.attributes.click_id:sd":{defaultValue:"",forceLowerCase:!0,modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.click_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.attributes.has_audio:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_audio",callback:function(){},doCustomCode:!1,convertToString:!1}},"_config.value.rsid-prod:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"spiegel.ng.spieg.main"}},"page.timing.time-total:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeTotal"}},"page.attributes.channel_slug:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.channel_slug",callback:function(e){return e||_satellite.getVar("page.custom.url-path:pi").toString().split("/")[1]||_satellite.getVar("page.category.route:sd")},doCustomCode:!0,convertToString:!1}},"event.attributes.duration:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.duration",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.attributes.label:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.label",convertToString:!1}},"Page | URL on Entry [gl]":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e="consent"==_satellite.getVar("page.category.route:sd"),t=""!=_satellite.getVar("page.custom.url-search-from:qsp"),n=1==_satellite.getVar("Session | Page View Count [gl]")&&"app"!=_satellite.getVar("page.info.platform:sd");return t||e?document.referrer:n?_satellite.getVar("page.info.canonical_url:sd"):void 0}}},"_qs.value.launch-build:dea":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%qs.value.launch-environment:jsv%"},{delimiter:"|",dataElement:"%qs.value.launch-buildDate:jsv%"}]}},"user.segment.has_paid_access:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_paid_access",callback:function(e){return!0===e?"has_paidAccess":"no_paidAccess"},doCustomCode:!0,convertToString:!1}},"Editorial | Topics:Array [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.topics",callback:function(e){return e.join("~")},doCustomCode:!1,convertToString:!1}},"editorial.info.date_modified:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.date_modified",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.custom.url-hostname-is-friendly:map":{defaultValue:"is_foreign",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"harvardbusinessmanager.de",method:"contains",output:"is_friendly"},1:{input:"manager-magazin.de",method:"contains",output:"is_friendly"},2:{input:"bento.de",method:"contains",output:"is_friendly"},3:{input:"(?<!www)\\.spiegel\\.de",method:"regex",output:"is_friendly"},size:4,dataElement:"%event.custom.url-hostname:cc%",defaultValueEmpty:!0}},"editorial.info.header_image_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.header_image_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page | Context [co]":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"context",caseInsensitive:!0}},"page.timing.time-active:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeEngaged"}},"Marketing Pixel | Facebook Events [lo]":{defaultValue:"not_defined",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"article|no_paywall|free|has_paidAccess",method:"exact match",output:"ViewFreeContent_Subscriber"},1:{input:"article|no_paywall|free",method:"starts with",output:"ViewFreeContent"},2:{input:"article|no_paywall|paid",method:"starts with",output:"ViewPaidContent"},3:{input:"article|no_paywall|conditional",method:"starts with",output:"ViewConditionalContent"},4:{input:"article|has_paywall|",method:"starts with",output:"ViewPaywall"},5:{input:"homepage|",method:"starts with",output:"ViewHomePage"},6:{input:"plus|",method:"starts with",output:"ViewPlusCP"},size:7,dataElement:"%page.category.route:sd%|%paywall.attributes.is_active:sd.rw%|%paywall.category.type:sd%|%user.segment.has_paid_access:sd.rw%",defaultValueEmpty:!0}},"page.timing.previous-time-first-visible:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_first_visible}}},"click.custom.on-page-load-click-id:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("click.custom.on-page-load-attributes:cookie")).click_id}catch(e){return}}}},"Page | URL: Path L1 [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/")[1]}}},"User | has Consent updated [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Cookie | Consent [gl]");return e?_satellite.getVar("Function | Parse (JWToken) [gl]")(e).updated_at:undefined}}},"Util | Opt-Out Cookie: IVW [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_optout_ivw"}},"Form | Field Opt-In (String) [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.fields.opt_in",callback:function(e){return!0===e?"has_optIn":"no_optIn"},doCustomCode:!0,convertToString:!1}},"event.custom.url-name-concat:dea":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%event.custom.url-name-prefix:map%"},{delimiter:".",dataElement:"%event.custom.url-subdomains:cc%"},{delimiter:" > ",dataElement:"%event.custom.url-name-substring:cc%"}]}},"page.info.canonical_url:sd.rwAT":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.canonical_url",callback:function(e){return e.replace("prod.www.spiegel.de","www.spiegel.de")},doCustomCode:!0,convertToString:!1}},"Cookie | Session [co]":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_user_session"}},"page.custom.activity_map:cookie":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"s_sq"}},"_config.value.rsid-dev:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"spiegel.ng.spieg.qsdev"}},"external.ivw.iam_data:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return{st:_satellite.getVar("Page | IVW Site [co]"),cp:_satellite.getVar("Page | IVW Code [co]"),sv:_satellite.getVar("external.ivw.survey:map"),sc:"yes"}}}},"editorial.category.type:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.category.type",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page | URL: Path L3 [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/")[3]}}},"page.attributes.subchannel_slug:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.subchannel_slug",callback:function(e){return e||_satellite.getVar("page.custom.url-path:pi").toString().split("/")[2]||_satellite.getVar("page.category.route:sd")},doCustomCode:!0,convertToString:!1}},"page.custom.id:cc":{defaultValue:"index",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("editorial.info.article_id:sd")||_satellite.getVar("page.custom.url-path:pi").match(/(\/.+)/g).toString()}catch(e){return}}}},"Page | URL: targetURL or current [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=new Url(_satellite.getVar("Page | Target URL [gl]")).pathname}catch(t){e=_satellite.getVar("page.custom.url-path:pi")}return e}}},"editorial.author.names:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.author.names",callback:function(){},doCustomCode:!1,convertToString:!1}},"Product | Price in App [co]":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"spon_iap_subscription",method:"contains",output:"19.99"},1:{input:"spiegel_no_ads_monthly",method:"exact match",output:"4.99"},2:{input:"de.spiegel.spon.SpiegelPlusMonthly",method:"exact match",output:"19.99"},3:{input:"de.spiegel.spon.SpiegelAdFreeMonthly",method:"exact match",output:"4.99"},size:4,dataElement:"%Product | ID in App [co]%",defaultValueEmpty:!0}},"paywall.category.type:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.category.type",convertToString:!1}},"Link | Social Share [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return-1<["facebook.com/share.php"].indexOf(_satellite.getVar("event.attributes.target_url:sd"))}}},"event.attributes.item-description:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.description",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.attributes.el:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.el",convertToString:!1}},"event.attributes.item-title:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.title",callback:function(){},doCustomCode:!1,convertToString:!1}},"Product | Type in App [co]":{defaultValue:"not_defined",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"sp_iap_subscription_audioplus",method:"regex matching",output:"AUDIO+"},1:{input:"sp\\w+iap\\w+subscription",method:"regex matching",output:"SPIEGEL+"},2:{input:"spiegel_no_ads_monthly\\w*",method:"regex matching",output:"PUR"},3:{input:"de\\.spiegel\\.spon\\.(\\w+\\.)?SpiegelPlusMonthly\\w*",method:"regex matching",output:"SPIEGEL+"},4:{input:"de\\.spiegel\\.spon\\.(\\w+\\.)?SpiegelAdFreeMonthly\\w*",method:"regex matching",output:"PUR"},5:{input:"de\\.spiegel\\.spon\\.(\\w+\\.)?AudioPlusMonthly\\w*",method:"regex matching",output:"AUDIO+"},size:6,dataElement:"%Product | ID in App [co]%",defaultValueEmpty:!1}},"Hit | Timing Stats (seconds) [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return[Math.round(window.stats.status.timeTotal/1e3),Math.round(window.stats.status.timeEngaged/1e3),Math.round(window.stats.status.timeTabbedIn/1e3),Math.round(window.stats.status.timeTabbedOut/1e3),Math.round(window.stats.status.timeFirstVisible/1e3)].join("~")}catch(e){}}}},"Page | PUR Tracking [co]":{defaultValue:"not_PUR",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_consent_required",callback:function(e){return!1===e?"pure_tracking":"all_tracking"},doCustomCode:!0,convertToString:!1}},"_config.store.sara-click-attributes:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_clk_att"}},"editorial.custom.[categories]:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){var t=a+":"+r+":"+e;n.push(t)}try{var n=[],t=_satellite.getVar("Editorial | Topics:Array [co]"),a=_satellite.getVar("editorial.info.channel:sd"),r=_satellite.getVar("editorial.info.subchannel:sd");return t.forEach(e),a+","+a+":"+r+","+n.toString()}catch(i){return}}}},"external.optimization.hotjar-id:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"staging",method:"regex",output:"1632107"},1:{input:"production",method:"exact match",output:"90357"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"Form | Field Opt-In [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.fields.opt_in",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.attributes.viewable:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.viewable",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.info.article_id:sd.rw.20char":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.article_id",callback:function(e){return e.match(/(\w+)/g)[0]+e.match(/(\w+)/g)[4]},doCustomCode:!0,convertToString:!1}},"Click | on Article Component: data-component [prov]":{defaultValue:"",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"data-component",elementSelector:"article [data-component]"}},"user.custom.userInfo:cookie":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"userInfo"}},"Page | Previous Data Check [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!!_satellite.getVar("page.custom.on-page-load-previous-data:cookie")||!!_satellite.getVar("click.custom.on-page-load-attributes:cookie")}}},"randomNumber|100|Pageview":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/randomNumber.js",settings:{max:100,min:0}},"event.custom.click-type:map":{defaultValue:"other_click",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"http",method:"contains",output:"link_click"},size:1,dataElement:"%event.attributes.target_url:sd%",defaultValueEmpty:!0}},"Media | Stream Type [co]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.streamType",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.url-hash:jsv":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.location.hash"}},"user.segment.has_conditional_access:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_conditional_access",convertToString:!1}},"util.function.check-campaign-parameter:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t="sea";if("string"!=typeof e)return"";if("sea_pd_"!==e.substring(0,7))return"";var n=e.split("_"),a=n[2]||"noNetwork",r=n[3]||"noAdgroupID",i=n[4],o=n[5],s=n[6];if("novt"===a)return e;if("string"==typeof i&&""!==i){var c={};i.split(":").forEach(function(e){var t=e.split("-");c[t[0]]=t[1]}),i=c}else i={};var u="noMatchingID";return i&&i.pla?(u=s||"noProductID",a+="s"):"d"===a?(u=o||"noCreative",t="disp"):u=i.kwd||i.dsa||"noKWD",[t,"pd",a,r,u].join("_")}}}},"product.custom.app-refresh-subscription:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"refreshInAppSubscriptions",caseInsensitive:!0}},"Embed | Gallery ID [c;prov]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(document.querySelector("[data-component=GalleryTeaser]").getAttribute("data-settings")).id}}},"page.custom.url-search-from:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"from",caseInsensitive:!0}},"user.info.tracking_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.info.tracking_id",convertToString:!1}},"external.ivw.survey:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"homepage",method:"contains",output:"ke"},1:{input:"true",method:"starts with",output:"mo"},2:{input:"false",method:"starts with",output:"in"},size:3,dataElement:"%page.attributes.is_phone:sd%|%page.category.route:sd%",defaultValueEmpty:!0}},"Function | Parse (JWToken) [gl]":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t=(e.split(".")[1]||e).replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}}}},"editorial.attributes.has_author:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_author",callback:function(e){return!0===e?"has_author":"no_author"},doCustomCode:!0,convertToString:!1}},"external.marketing.bing-id:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"devSPIEGEL"},1:{input:"production",method:"exact match",output:"5279339"},size:2,dataElement:"%qs.value.launch-environment:jsv%",
defaultValueEmpty:!0}},"page.custom.campaign-id-all:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.campaign-id-external:cc")||_satellite.getVar("page.custom.url-search-sara_icid:qsp")}}},"page.timing.time-active-sec:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return Math.round(window.stats.status.timeEngaged/1e3)}}},"RADAR | Conversion String [gl]":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"conversion"},{delimiter:":",dataElement:"%page.info.platform:sd%"}]}},"page.custom.url-search-referrer:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"ref",caseInsensitive:!0}},"event.custom.url-hostname:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("event.attributes.target_url:sd");return e?new URL(e).hostname:void 0}}},"user.custom.is_new:cvb":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"isNewVisitor"}},"User | has Emetriq ID [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return void 0===_satellite.cookie.get("adp_pid")?"no_emetriqID":"has_emetriqID"}}},"User | has SSO ID [gl]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.info.tracking_id",callback:function(e){return"string"==typeof e?"has_ssoID":"no_ssoID"},doCustomCode:!0,convertToString:!1}},"Page URL | Facebook Click ID [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return new URL(window.location).searchParams.get("fbclid")||("redirect_page"==_satellite.getVar("Page | is Redirect Page [gl]")?new URL(document.referrer).searchParams.get("fbclid"):null)}catch(e){return}}}},"util:get.subdomain-from-host:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){var t=_satellite.getVar(e).split(".");return t.splice(0,t.length-2).reverse().join(".")}}}},"click.custom.on-page-load-headline:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("click.custom.on-page-load-attributes:cookie")).headline}catch(e){return}}}},"event.attributes.mute:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.mute",callback:function(e){return!0===e?"is_muted":"not_muted"},doCustomCode:!0,convertToString:!1}},"editorial.info.article_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.article_id",convertToString:!1}},"randomNumber |\xa01000 | Visitor":{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/randomNumber.js",settings:{max:1e3,min:0}},"page.timing.previous-time-total:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_total}}},"page.custom.adreload:map":{defaultValue:"reloadAdFalse",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"wissenschaft|",method:"starts with",output:"reloadAdTrue"},1:{input:"|homepage",method:"contains",output:"reloadAdTrue"},size:2,dataElement:"%page.attributes.channel_slug:sd%|%page.category.route:sd%|",defaultValueEmpty:!0}},"click.custom.on-page-load-attributes:cookie":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_clk_att"}},"event.custom.url-pathname:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return new URL(_satellite.getVar("event.attributes.target_url:sd")).pathname}}},"page.custom.empty-adslots-count:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e){"load"==e.event.info.action&&++t}var t=0;return SARAs_data.getEventHistory().forEach(e),t}}},"page.info.domain:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.domain",convertToString:!1}},"editorial.info.thumbnail_url:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=document.querySelector('[data-image-el="img"]').src}catch(t){}return e}}},"page.custom.hostname:pi":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},"editorial.attributes.has_noContentAds:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_noContentAds",callback:function(e){return!0===e?"no_contentAds":"has_contentAds"},doCustomCode:!0,convertToString:!1}},"Page | URL: Host + Path  [gl]":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return location.protocol+"//"+location.hostname+location.pathname}}},"editorial.attributes.has_gallery:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_gallery",callback:function(e){return!0===e?"has_gallery":"no_gallery"},doCustomCode:!0,convertToString:!1}},"external.vg_wort.id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"external.vg_wort.id",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.category.style:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.category.style",callback:function(e){return"default"===e?"article":e},doCustomCode:!0,convertToString:!1}},"Click | Component Name [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.component_name",callback:function(e){return e.replace("Teaser","")},doCustomCode:!1,convertToString:!1}},"Editorial | Magazine Context [co]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/contextCustomCode.js",settings:{callback:function(){return"issue"==_satellite.getVar("Page | Context [co]")?"magazine_layout":"regular_layout"}}},"RADAR | Subscription String [gl]":{defaultValue:"regular",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"has_paywall:no_paidAccess",method:"exact match",output:"paywall:load:%page.info.platform:sd%"},1:{input:"\\w+:has_paidAccess",method:"regex",output:"subscribed"},size:2,dataElement:"%paywall.attributes.is_active:sd.rw%:%user.segment.has_paid_access:sd.rw%",defaultValueEmpty:!0}},"external.vg_wort.request-url:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"paid\\|.+",method:"regex matching",output:"https://spiegel.met.vgwort.de/na/pw-%external.vg_wort.id:sd%"},1:{input:"\\w+\\|.+",method:"regex matching",output:"https://spiegel.met.vgwort.de/na/%external.vg_wort.id:sd%"},2:{input:"paid\\|$",method:"regex matching",output:"https://spiegel.met.vgwort.de/na/pw-vgzm.2780134-%editorial.info.article_id:sd%"},3:{input:"\\w+\\|$",method:"regex matching",output:"https://spiegel.met.vgwort.de/na/vgzm.2780134-%editorial.info.article_id:sd%"},size:4,dataElement:"%paywall.category.type:sd%|%external.vg_wort.id:sd%",defaultValueEmpty:!0}},"Form | Name [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.info.name",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.info.headline:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.headline",convertToString:!1}},"event.attributes.contains_ad:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.contains_ad",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.custom.url-name-prefix:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"bento.de",method:"contains",output:"be"},1:{input:"manager-magazin.de",method:"contains",output:"mm"},2:{input:"spiegel.de",method:"contains",output:"sp"},size:3,dataElement:"%event.custom.url-hostname:cc%",defaultValueEmpty:!0}},"editorial.attributes.is_comments_enabled:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_comments_enabled",callback:function(e){return!0===e?"has_comments":"no_comments"},doCustomCode:!0,convertToString:!1}},"event.attributes.count:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.count",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.previous-free-adslots-count:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).advertising.free_adslots_count}catch(e){return}}}},"page.attributes.is_phone:sd.rw":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_phone",callback:function(e){return!0===e&&"phone"},doCustomCode:!0,convertToString:!1}},"editorial.attributes.is_exclusive:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_exclusive",callback:function(e){return!0===e?"is_exclusive":"not_exclusive"},doCustomCode:!0,convertToString:!1}},"event.attributes.playerID:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.playerID",callback:function(){},doCustomCode:!1,convertToString:!1}},"Util | Opt-Out Cookie: Adobe [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_optout_adobe"}},"event.attributes.state:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.state",callback:function(e){return e||_satellite.getVar("Event | Source [co]")},doCustomCode:!0,convertToString:!1}},"page.custom.name-concat:dea":{defaultValue:"",storageDuration:"pageview",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%page.custom.name-prefix:map%"},{delimiter:".",dataElement:"%page.custom.url-subdomains:cc%"},{delimiter:" > ",dataElement:"%page.category.type:sd%"},{delimiter:" > ",dataElement:"%page.custom.id:cc%"}]}},"user.info.device_advertising_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.info.device_advertising_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.timing.performance-page-render:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/pageRenderTime.js",settings:{}},"event.details:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return e.detail}}},"page.timing.previous-performance-dom-complete:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.server_response}}},"event.info.name:sd":{defaultValue:"",forceLowerCase:!0,modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.info.name",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.attributes.is_listExcluded:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_listExcluded",callback:function(e){return!0===e?"is_listExcluded":"not_listExcluded"},doCustomCode:!0,convertToString:!1}},"randomNumber|100|Visitor":{defaultValue:"",storageDuration:"visitor",modulePath:"core/src/lib/dataElements/randomNumber.js",settings:{max:100,min:0}},"Page URL | Newsletter ID [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return window.s.getQueryParam("nlid","",location.href)||("redirect_page"==_satellite.getVar("Page | is Redirect Page [gl]")?window.s.getQueryParam("nlid","",document.referrer):null)}}},"event.custom.url-subdomains:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("util:get.subdomain-from-host:cc")("event.custom.url-hostname:cc")}}},"page.custom.referrer-category:map":{defaultValue:"from_nocat_nodef",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"https:\\/\\/(\\w*\\.){0,2}www\\.spiegel\\.de\\/?$",method:"regex",output:"from_int_homepage"},1:{input:".+\\.spiegel\\.de\\/consent.+",method:"regex",output:"from_int_consent"},2:{input:".*news\\.google.*|.*news\\.url\\.google.*",method:"regex",output:"from_ext_googlenews"},3:{input:"\\.google\\.",method:"regex",output:"from_ext_google"},4:{input:"\\.facebook\\.",method:"regex",output:"from_ext_facebook"},5:{input:".+(harvardbusinessmanager\\.de|manager-magazin\\.de|bento\\.de).*",method:"regex",output:"from_ext_spiegelgruppe"},6:{input:"spiegel.de/",method:"contains",output:"from_int_other"},7:{input:"\\0",method:"exact match",output:"from_ext_unknown"},8:{input:".",method:"contains",output:"from_ext_other"},size:9,dataElement:"%page.custom.referrer-url-without-search:cc%",defaultValueEmpty:!0}},"event.attributes.target_url:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.target_url",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page | IVW Code [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){var t,n,a=[],r=_satellite.getVar("Page | IVW Code AGOF Substring [co]");switch(a.push("__01_"),_satellite.getVar("page.info.language:sd")){case"de":a.push("d");break;case"en":a.push("a");break;default:a.push("a")}switch(_satellite.getVar("event.info.action:sd",e)){case"page_data_ready":case"virtual_page":a.push("b");break;case"video":a.push("v");break;case"audio":a.push("a");break;default:a.push("b")}return a.push("r"),"homepage"!=_satellite.getVar("page.category.route:sd")||/video|audio/.test(_satellite.getVar("event.info.action:sd"))?a.push("s"):a.push("h"),"mobspieg"==_satellite.getVar("Page | IVW Site [co]")||"mobmamag"==_satellite.getVar("Page | IVW Site [co]")?a.push("m"):a.push("o"),a.push("w"),a.push("f"),n=_satellite.getVar("Page | IVW Inhalt [co]"),a.push(n),a.push("_"+r),t=a.toString().replace(/,/g,""),/__01_\w{10}(_.+)?$/.test(t)?t:"err:novalidcode"}}},"editorial.info.headline_social:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.headline_social",callback:function(){},doCustomCode:!1,convertToString:!1}},"user.custom.landing-page:cvb":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"landingPage"}},"page.category.type:sd":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"article",method:"exact match",output:"%editorial.category.style:sd.rw%"},1:{input:".*",method:"regex",output:"%page.category.route:sd%"},size:2,dataElement:"%page.category.route:sd%",defaultValueEmpty:!0}},"Consent | CMP action [co]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"consent.info.action",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.info.language:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.language",convertToString:!1}},"Page | Referrer: default  [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"referrer"}},"user.custom.page-views-lifetime:cvb":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"lifetimePageViewCount"}},"editorial.category.style:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.category.style",callback:function(e){return"default"===e?"article":e},doCustomCode:!1,convertToString:!1}},"Click | Component ID [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.component_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"Util | TechLab API: Embed Bridge [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=document.createElement("div"),t=document.createElement("script");t.src="production"==_satellite.environment.stage?"https://cdn.prod.www.spiegel.de/public/shared/generated/js/EmbedBridge.js":"https://cdn.review.www.spiegel.de/public/shared/generated/js/EmbedBridge.js";var n=document.createElement("script");return n.innerHTML="var embedBridge = new EmbedBridge({autoResize: true,});",e.appendChild(t),e.appendChild(n),e}}},"Page | Adobe Consent: Previous Permissions [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e={aa:!0,aam:!_satellite.getVar("Consent | is PUR Tracking [co]"),ecid:!0,target:!0};return JSON.stringify(e)}}},"util.function.get-polygon-from-ce-id:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){function t(e,t,n){var a=t-e.length,r=n||" ";return a<=0?e:new Array(a+1).join(r)+e}function n(e){return t((a.str(e)>>>0).toString(16),8,"0")+"-0001-0001-0000-"+t(e,12,"0")}var a,r;return r=function(e){function t(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}function n(e,t){for(var n=-1^t,a=e.length-1,r=0;r<a;)n=(n=n>>>8^s[255&(n^e.charCodeAt(r++))])>>>8^s[255&(n^e.charCodeAt(r++))];return r===a&&(n=n>>>8^s[255&(n^e.charCodeAt(r))]),-1^n}function a(e,t){if(1e4<e.length)return i(e,t);for(var n=-1^t,a=e.length-3,r=0;r<a;)n=(n=(n=(n=n>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])];for(;r<a+3;)n=n>>>8^s[255&(n^e[r++])];return-1^n}function i(e,t){for(var n=-1^t,a=e.length-7,r=0;r<a;)n=(n=(n=(n=(n=(n=(n=(n=n>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])])>>>8^s[255&(n^e[r++])];for(;r<a+7;)n=n>>>8^s[255&(n^e[r++])];return-1^n}function r(e,t){for(var n,a,r=-1^t,i=0,o=e.length;i<o;)(n=e.charCodeAt(i++))<128?r=r>>>8^s[255&(r^n)]:n<2048?r=(r=r>>>8^s[255&(r^(192|n>>6&31))])>>>8^s[255&(r^(128|63&n))]:55296<=n&&n<57344?(n=64+(1023&n),a=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^s[255&(r^(240|n>>8&7))])>>>8^s[255&(r^(128|n>>2&63))])>>>8^s[255&(r^(128|a>>6&15|(3&n)<<4))])>>>8^s[255&(r^(128|63&a))]):r=(r=(r=r>>>8^s[255&(r^(224|n>>12&15))])>>>8^s[255&(r^(128|n>>6&63))])>>>8^s[255&(r^(128|63&n))];return-1^r}e.version="1.2.0";var s=t();e.table=s,e.bstr=n,e.buf=a,e.str=r},"undefined"==typeof DO_NOT_EXPORT_CRC?"object"==typeof exports?r(exports):"function"==typeof define&&define.amd?define(function(){var e={};return r(e),e}):r(a={}):r(a={}),n(e)}}}},"Page | IVW Code AGOF Substring: Partner Page [co]":{defaultValue:"default/partner",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"sportdaten",method:"exact match",output:"sport/partner"},1:{input:"spiele",method:"exact match",output:"spiele/%Page | Path Depth [gl]%/partner"},2:{input:"lotto",method:"exact match",output:"lotto/partner"},3:{input:"gluecksspirale",method:"exact match",output:"gluecksspirale/partner"},4:{input:"contentgarden",method:"exact match",output:"contentgarden/partner"},5:{input:"sportwetten",method:"exact match",output:"sportwetten/partner"},size:6,dataElement:"%page.custom.url-subdomains:cc%",defaultValueEmpty:!0}},"editorial.attributes.is_breaking:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_breaking",callback:function(e){return!0===e?"is_breakingNews":"not_breakingNews"},doCustomCode:!0,convertToString:!1}},"_config.store.sara-user-day:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_user_day"}},"page.timing.performance-total-load:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/totalPageLoadTime.js",settings:{}},target_test_cookie:{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"target_spiegel_test"}},"user.custom.minutes-on-site:cvb":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"minutesOnSite"}},"user.custom.user-agent:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"navigator.userAgent"}},"Page | URL: Path L2 [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/")[2]}}},"event.attributes.item-type:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.type",callback:function(e){return e[0].type},doCustomCode:!1,convertToString:!1}},"Cookie | Day Usage [co]":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_user_day"}},"_config.store.sara-count-end-of-page:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_count_eop"}},"page.attributes.is_tablet:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_tablet",callback:function(e){return!0===e&&"tablet"},doCustomCode:!0,convertToString:!1}},"page.timing.previous-performance-repsonse-complete:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.response_complete}}},"Cookie | Dynamic Paygate [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return decodeURIComponent(_satellite.cookie.get("sara_target_dpg"))}}},"page.timing.previous-performance-load-libraries:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.load_libraries}}},"page.info.title:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.title",convertToString:!1}},"editorial.info.channel:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.channel",convertToString:!1}},"page.timing.time-background:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeTabbedOut"}},"User | has Consent [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("Cookie | Consent:TCF [gl]");return"notcstring"!=e&&e&&"complete"==_satellite.getVar("Consent | CMP action [co]")?"has_consent":"no_consent"}}},"editorial.attributes.has_audio:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_audio",callback:function(e){return!0===e?"has_audio":"no_audio"},doCustomCode:!0,convertToString:!1}},"product.custom.string:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"product",callback:function(e){function t(e){var t="",n=e.info.id,a=1,r=e.price.price,i="",o="eVar161="+e.info.id+"|eVar162="+e.attributes.paywall_id+"|eVar163="+e.category.type;s.push(t+";"+n+";"+a+";"+r+";"+i+";"+o)}var s=[];return e.forEach(t),s.join()},doCustomCode:!0,convertToString:!1}},"qs.value.launch-version:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.buildInfo.turbineVersion"}},"Marketing Pixel | Facebook ID [vm]":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"%Debug: Marketing Pixel | Facebook ID [vm]%"},1:{input:"production",method:"exact match",output:"468291950412468"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"Event Item | Newsletter ID [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.newsletter_id",callback:function(){},doCustomCode:!1,convertToString:!1}},"Editorial | has Affiliate [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_affiliate",callback:function(e){return!0===e?"has_affiliate":"no_affiliate"},doCustomCode:!0,convertToString:!1}},"Page | URL: Path L4 [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/")[4]}}},"editorial.author.abbreviation:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.author.abbreviation",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.attributes.headline:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.headline",convertToString:!1}},"event.attributes.item-series:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.series",callback:function(){},doCustomCode:!1,convertToString:!1}}," spm.anzeigenX.const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:'["rectangle_1","teaser_11", "superbanner_2", "superbanner_3","mobile_2","mobile_3","mobile_4"]'}},"page.custom.name-prefix:map":{defaultValue:"",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"spon",method:"exact match",output:"sp"},1:{input:"bento",method:"exact match",output:"be"},2:{input:"mmo",method:"exact match",output:"mm"},size:3,dataElement:"%page.info.domain:sd%",defaultValueEmpty:!0}},"Consent | CMP vendor mapping [co]":{modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"Google Ads",method:"exact match",output:"12"},size:1,dataElement:"%Consent | CMP allowed vendors [co]%",defaultValueEmpty:!0}},"_qs.value.launch-property-turbine:dea":{defaultValue:"",modulePath:"data-element-assistant/src/lib/dataElements/concatenate.js",settings:{trailingDelimiter:"",dataElementsAndDelimiters:[{delimiter:"",dataElement:"%qs.value.launch-property:jsv%"},{delimiter:"|",dataElement:"%qs.value.launch-version:jsv%"},{delimiter:"|",dataElement:"%qs.value.launch-version-date:jsv%"}]}},"qs.value.launch-property:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.property.name"}},"Page | is Redirect Page [gl]":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"consent|",method:"starts with",output:"redirect_page"},1:{input:"|404",method:"contains",output:"redirect_page"},size:2,dataElement:"%page.category.route:sd%|%page.custom.url-search-from:qsp%",defaultValueEmpty:!0}},"event.attributes.size.array[1]:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.size",callback:function(e){return e[1]},doCustomCode:!0,convertToString:!1}},"Click | on Gallery: data-component [prov]":{defaultValue:"",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"data-component",elementSelector:"[data-component=GalleryTeaser]"}},"user.custom.device-type:cc":{defaultValue:"not_detected",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.attributes.is_mobile:sd.rw")||_satellite.getVar("page.attributes.is_phone:sd.rw")||_satellite.getVar("page.attributes.is_tablet:sd.rw")}}},"_config.store.media-session-play:const":{defaultValue:"",modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"sara_media_sp"}},"Cookie | Consent:TCF [gl]":{defaultValue:"notcstring",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"euconsent-v2"}},"Session | Page View Count [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/visitorBehavior.js",settings:{attribute:"sessionPageViewCount"}},"page.attributes.is_mobile:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_mobile",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.visibility-state:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.visibilityState"}},"Form | Status Code [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.status.code",callback:function(){},doCustomCode:!1,convertToString:!1}},"Cookie | Consent:Polygon [gl]":{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"polygon_consent"}},"Paywall | Subscriptions Array [co]":{storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.category.subscriptions",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.attributes.has_video:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_video",convertToString:!1}},"Page | IVW Code AGOF Substring: Paid/Free [co] ":{defaultValue:"",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"paid|true",method:"exact match",output:".pp"},1:{input:"paid|false",method:"exact match",output:".pf"},2:{input:"conditional|true",method:"exact match",output:".pp"},3:{input:"conditional|false",method:"exact match",output:".pf"},4:{input:"free|false",method:"exact match",output:".ff"},size:5,dataElement:"%paywall.category.type:sd%|%paywall.attributes.is_active:sd%",defaultValueEmpty:!0}},"user.segment.is_loggedIn:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.is_loggedIn",callback:function(e){return!0===e?"logged_in":"logged_out"},doCustomCode:!0,convertToString:!1}},"user.segment.has_spiegelNoAdsMonthly_access:sd.rw":{defaultValue:"",storageDuration:"pageview",
modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_spiegelNoAdsMonthly_access",callback:function(e){return!0===e?"has_noAdsAccess":"no_noAdsAccess"},doCustomCode:!0,convertToString:!1}},"Page | Path Depth [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.custom.url-path:pi").split("/").length-1}}},"page.timing.mark-track-pageview:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return Math.round(performance.getEntriesByName("sara_track_pageview")[0].startTime)}}},"event.info.action:sd":{defaultValue:"",forceLowerCase:!0,modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.info.action",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.referrer-domain:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Page | Referrer [gl]").split("/")[2]}}},"user.segment.has_spiegelNoAdsMonthly_access:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_spiegelNoAdsMonthly_access",convertToString:!1}},"Form | Fields Total Count [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.info..fields_total",callback:function(e){return e||2},doCustomCode:!0,convertToString:!1}},"Form | Field email [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.fields.email",callback:function(){},doCustomCode:!1,convertToString:!1}},"click.custom.on-page-load-referrer:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("click.custom.on-page-load-attributes:cookie")).referrer}catch(e){return null}}}},"product.info.id:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"iapTrackingId",caseInsensitive:!0}},"user.segment.has_paid_access:sd":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_paid_access",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.timing.previous-time-visible:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_visible}}},"page.custom.url-search:jsv":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.location.search"}},"Marketing Pixel | Facebook Campaign Landing Page Events [lo]":{defaultValue:"not_defined",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"c5e0263f-042a-4b18-b053-00584795fe8c",method:"exact match",output:"ViewLaunchCampaignLP"},size:1,dataElement:"%editorial.info.article_id:sd%",defaultValueEmpty:!0}},"Form | Status [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.status.status",callback:function(){},doCustomCode:!1,convertToString:!1}},"Consent | CMP allowed vendors [co]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"consent.vendors.allow_list",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.attributes.size.array[0]:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.size",callback:function(e){return e[0]},doCustomCode:!0,convertToString:!1}},"event.attributes.autostart:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.autostart",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page | IVW Code AGOF Substring: Topic Page [co]":{defaultValue:"channel/subchannel",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"/leben/",method:"contains",output:"leben/channel"},1:{input:"/thema/",method:"contains",output:"%page.attributes.channel_slug:sd%/%page.attributes.subchannel_slug:sd%"},size:2,dataElement:"%page.custom.id:cc%",defaultValueEmpty:!0}},"qs.value.launch-buildDate:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"_satellite.buildInfo.buildDate"}},"Page | Target URL [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"targetUrl",caseInsensitive:!0}},"editorial.attributes.has_noAds:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_noAds",callback:function(e){return!0===e?"no_ads":"has_ads"},doCustomCode:!0,convertToString:!1}},"page.timing.previous-time-active:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_active}}},"user.custom.ecid:ecid":{defaultValue:"",modulePath:"adobe-mcid/src/lib/dataElements/ecid.js",settings:{}},"editorial.attributes.has_video:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.has_video",callback:function(e){return!0===e?"has_video":"no_video"},doCustomCode:!0,convertToString:!1}},"page.timing.time-hidden:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeTabbedOut"}},"external.marketing.outbrain-id:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"devSPIEGEL"},1:{input:"production",method:"exact match",output:"00bf784a92253a49c50216eea8b47eb721"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"Page | IVW Site [co]":{defaultValue:"spiegel",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"web|true|karriere",method:"exact match",output:"mobmamag"},1:{input:"web|false|karriere",method:"exact match",output:"managerm"},2:{input:"|true|",method:"contains",output:"mobspieg"},3:{input:"|false|",method:"contains",output:"spiegel"},size:4,dataElement:"%page.info.platform:sd%|%page.attributes.is_phone:sd%|%page.attributes.channel_slug:sd%",defaultValueEmpty:!0}},"page.custom.on-page-load-previous-data:cookie":{defaultValue:"",modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"sara_prev_data"}},"Consent | CMP eventStatus [co]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"consent.info.status",callback:function(){},doCustomCode:!1,convertToString:!1}},"Debug: Marketing Pixel | Facebook ID [vm]":{defaultValue:"devSPIEGEL",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"true"==localStorage.getItem("sara.debug.facebook-pixel")||"1"==localStorage.getItem("sara.debug.facebook-pixel")?"468291950412468":"devSPIEGEL"}}},"Page | Referrer [gl]":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.referrer",callback:function(e){return e||document.referrer||_satellite.getVar("click.custom.on-page-load-referrer:cc")},doCustomCode:!0,convertToString:!1}},"Form | Type [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.category.type",callback:function(){},doCustomCode:!1,convertToString:!1}},"user.segment.is_loggedIn:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.is_loggedIn",callback:function(){},doCustomCode:!1,convertToString:!1}},"event.attributes:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes",callback:function(){},doCustomCode:!1,convertToString:!1}},"Page | IVW Inhalt [co]":{defaultValue:"tso",storageDuration:"pageview",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"homepage",method:"contains",output:"tve"},1:{input:"politik/",method:"starts with",output:"tak"},2:{input:"ausland/",method:"starts with",output:"tak"},3:{input:"wirtschaft/",method:"starts with",output:"twr"},4:{input:"panorama/leute",method:"exact match",output:"ten"},5:{input:"panorama/gesellschaft",method:"exact match",output:"ten"},6:{input:"panorama/",method:"starts with",output:"tak"},7:{input:"sport/",method:"starts with",output:"tsp"},8:{input:"kultur/literatur",method:"exact match",output:"tku"},9:{input:"kultur/kino",method:"exact match",output:"ten"},10:{input:"kultur/musik",method:"exact match",output:"ten"},11:{input:"kultur/tv",method:"exact match",output:"ten"},12:{input:"kultur/",method:"starts with",output:"tve"},13:{input:"netzwelt/apps",method:"exact match",output:"tco"},14:{input:"netzwelt/netzpolitik",method:"exact match",output:"tco"},15:{input:"netzwelt/web",method:"exact match",output:"ttk"},16:{input:"netzwelt/gadgets",method:"exact match",output:"tce"},17:{input:"netzwelt/games",method:"exact match",output:"tcg"},18:{input:"netzwelt/",method:"starts with",output:"tco"},19:{input:"wissenschaft/",method:"starts with",output:"tws"},20:{input:"geschichte/",method:"starts with",output:"tve"},21:{input:"auto/",method:"starts with",output:"tau"},22:{input:"gesundheit/psychologie",method:"exact match",output:"tli"},23:{input:"gesundheit/sex",method:"exact match",output:"tli"},24:{input:"gesundheit/ernaehrung",method:"exact match",output:"tes"},25:{input:"gesundheit/schwangerschaft",method:"exact match",output:"tge"},26:{input:"gesundheit/",method:"starts with",output:"tge"},27:{input:"psychologie/",method:"starts with",output:"tli"},28:{input:"familie/",method:"starts with",output:"tfa"},29:{input:"partnerschaft/",method:"starts with",output:"tli"},30:{input:"leben/",method:"starts with",output:"tve"},31:{input:"stil/",method:"starts with",output:"tve"},32:{input:"reise/",method:"starts with",output:"tre"},33:{input:"fitness/",method:"starts with",output:"tge"},34:{input:"newsletter/",method:"starts with",output:"tuk"},35:{input:"schlagzeilen/",method:"starts with",output:"tve"},36:{input:"spiegel/magazinearchive",method:"exact match",output:"tuk"},37:{input:"spiegel/",method:"starts with",output:"tve"},38:{input:"plus/",method:"starts with",output:"tve"},39:{input:"international/",method:"starts with",output:"tak"},40:{input:"karriere/",method:"starts with",output:"twr"},41:{input:"spiele/1",method:"starts with",output:"gsp"},42:{input:"spiele/2",method:"starts with",output:"gsa"},43:{input:"deinspiegel/",method:"starts with",output:"tve"},44:{input:"video/",method:"starts with",output:"tve"},45:{input:"audio/",method:"starts with",output:"tve"},46:{input:"lotto/",method:"starts with",output:"sso"},47:{input:"gluecksspirale/",method:"starts with",output:"sso"},48:{input:"services/",method:"starts with",output:"tuk"},49:{input:"backstage/",method:"starts with",output:"tuk"},50:{input:"start/",method:"starts with",output:"tve"},51:{input:"nachrichtenachriv/",method:"starts with",output:"sve"},52:{input:"thema/",method:"starts with",output:"sve"},size:53,dataElement:"%Page | IVW Code AGOF Substring [co]%",defaultValueEmpty:!0}},"User | has Visitor API [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"undefined"!=typeof Visitor?"has_visitorAPI":"no_visitorAPI"}}},"event.custom.url-name-substring:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){var e=_satellite.getVar("event.custom.url-pathname:cc"),t=e.match(/(\/.+\/)/g),n=/(\w+)-(\d{5,}){1}-?\d{0,2}\.html|(\w+)-([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}){1}|(\d+)\/(?:#\w+)*$/g.exec(e);if(n){var a=n[4]||_satellite.getVar("util.function.get-polygon-from-ce-id:cc")(n[2]),r=n[1]||n[3];switch(r){case"a":r="article";break;case"fotostrecke":r="gallery";break;default:r=r}return[r,a].join(" > ")}return["other",t].join(" > ").replace(/.>.$/,"")}}},"_config.value.data-model-version:const":{modulePath:"core/src/lib/dataElements/constant.js",settings:{value:"v1.8.2_core-20210923_local:sp_421:feature"}},"editorial.attributes.is_comments_enabled:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.is_comments_enabled",callback:function(e){return!0===e?"comments_enabled":"no_comments_enabled"},doCustomCode:!0,convertToString:!1}},"Page | PUR opt-outs [co]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return!0===_satellite.getVar("Config | is PUR Tracking [co]")?'{"aam":false, "target": false}':void 0}}},"event.attributes.position:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.position",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.info.subchannel:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.subchannel",convertToString:!1}},"App | Version [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"application.info.app_version",callback:function(){},doCustomCode:!1,convertToString:!1}},"editorial.info.date_modified:sd.rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.date_modified",callback:function(e){return e.match(2020)?"actual":e.match(2021)?"actual":"old"},doCustomCode:!0,convertToString:!1}},"User | New or Returning [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("User | is New [gl]")?"new_visitor":"return_visitor"}}},"page.info.referrer:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.referrer",callback:function(){},doCustomCode:!1,convertToString:!1}},"Consent | no AAM Tracking [co]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"user.segment.has_spiegelNoAdsMonthly_access",callback:function(e){return e||_satellite.getVar("Page | is PUR Tracking [co]")},doCustomCode:!0,convertToString:!1}},"page.custom.url-subdomains:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("util:get.subdomain-from-host:cc")("page.custom.url-hostname:pi")}}},"page.timing.previous-time-hidden:cc ":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).engagement.time_hidden}}},"paywall.attributes.is_active:sd.rwAT":{defaultValue:"",storageDuration:"pageview",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.attributes.is_active",callback:function(e){return!0===e?"paywall_active":"paywall_inactive"},doCustomCode:!0,convertToString:!1}},"topic-coronavirus":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:".*Coronavirus.*",method:"regex",output:"topic-coronavirus"},1:{input:".*\\/thema\\/coronavirus\\/",method:"regex",output:"topic-coronavirus"},size:2,dataElement:"%Editorial |\xa0Topics:String [co]%|%page.info.canonical_url:sd%",defaultValueEmpty:!0}},"Consent | CMP ready [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return e.detail.activation}}},"editorial.info.date_published:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.info.date_published",convertToString:!1}},"event.attributes.item:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.category.route:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.category.route",convertToString:!1}},"Consent | is PUR Tracking [co]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/contextCustomCode.js",settings:{callback:function(){return _satellite.getVar("Page | is PUR Tracking [co]")||!_satellite.getVar("User | has TC-Consent-String [gl]")||_satellite.getVar("user.segment.has_spiegelNoAdsMonthly_access:sd")}}},"event.attributes.target_url:sd:rw":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.target_url",callback:function(e){return!0===e.includes("traffic.outbrain.com")?e.split("?")[0]:e},doCustomCode:!0,convertToString:!1}},"page.custom.url-search:dom":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"search",elementSelector:"document.location"}},"page.custom.slug:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("page.attributes.channel_slug:sd")+"/"+_satellite.getVar("page.attributes.subchannel_slug:sd")}}},"editorial.attributes.magazine:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.attributes.magazine",callback:function(e){return e||_satellite.getVar("Page | Magazine [co]")},doCustomCode:!0,convertToString:!1}},"page.attributes.is_tablet:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.is_tablet",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.url-hostname:pi":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},"editorial.author.departments:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"editorial.author.departments",callback:function(){},doCustomCode:!1,convertToString:!1}},"User | has TC-Consent-String [gl]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"notcstring"!=_satellite.getVar("Cookie | Consent:TCF [gl]")}}},"page.custom.previous-article-channel:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).page.channel}catch(e){return}}}},"page.custom.is_hidden:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"document.hidden"}},"page.custom.referrer-url-without-search:cc":{defaultValue:"",cleanText:!0,modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return _satellite.getVar("Page | Referrer [gl]").split("?")[0]}}},"page.timing.performance-response-complete:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/responseCompleteTime.js",settings:{}},"paywall.info.position:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"paywall.info.position",convertToString:!1}},"page.timing.time-visible:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeTabbedIn"}},"saras_data.state:cc":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return SARAs_data.getState()}}},"page.custom.url-hash:dom":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/domAttribute.js",settings:{elementProperty:"hash",elementSelector:"document.location"}},"Page | Magazine [co]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.attributes.magazine",callback:function(){},doCustomCode:!1,convertToString:!1}},"Media | Playtime [co]":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.dtPlayed",callback:function(e){return Math.round(e/1e3)},doCustomCode:!0,convertToString:!1}},"event.attributes.item-media_id:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.item.mediaid",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.custom.url-search-sara_icid:qsp":{defaultValue:"",modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"sara_icid",caseInsensitive:!0}},"page.timing.previous-performance-server-response:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.server_response}}},"event.attributes.mute:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"event.attributes.mute",callback:function(){},doCustomCode:!1,convertToString:!1}},"page.timing.previous-performance-track-pageview:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.track_pageview}}},"Form | Status Message [gl]":{modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"form.status.message",callback:function(){},doCustomCode:!1,convertToString:!1}},"target.custom.property:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"production:article:false",method:"exact match",output:"0a35d2b1-94aa-7d3b-119d-63e32554317b"},1:{input:"staging:article:false",method:"exact match",output:"ca9b4386-3c6c-5122-82eb-620cb52d7098"},2:{input:"development:article:false",method:"exact match",output:"ca9b4386-3c6c-5122-82eb-620cb52d7098"},3:{input:"production:homepage",method:"starts with",output:"38ba2140-e3c3-a0ae-0e8a-9a858c8495c8"},4:{input:"staging:homepage",method:"starts with",output:"2e3b7e82-ced5-3027-8650-b3ea6cdd0b50"},5:{input:"development:homepage",method:"starts with",output:"2e3b7e82-ced5-3027-8650-b3ea6cdd0b50"},6:{input:"\\bproduction:article:paid\\b|\\bproduction:article:conditional\\b",method:"regex matching",output:"eaa7fc85-37fa-bc5d-2e66-06d09076a43c"},7:{input:"\\bstaging:article:paid\\b|\\bstaging:article:conditional\\b",method:"regex matching",output:"036d6366-e7a3-e835-32e9-cc72af90b94a"},8:{input:"\\bdevelopment:article:paid\\b|\\bdevelopment:article:conditional\\b",method:"regex matching",output:"036d6366-e7a3-e835-32e9-cc72af90b94a"},9:{input:"production:",method:"starts with",output:"0a35d2b1-94aa-7d3b-119d-63e32554317b"},10:{input:"staging:",method:"starts with",output:"ca9b4386-3c6c-5122-82eb-620cb52d7098"},11:{input:"development:",method:"starts with",output:"ca9b4386-3c6c-5122-82eb-620cb52d7098"},size:12,dataElement:"%qs.value.launch-environment:jsv%:%page.category.route:sd%:%paywall.category.type:sd%",defaultValueEmpty:!1}},"Hit | Timing Stats (minutes) [co]":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return[Math.floor(window.stats.status.timeTotal/1e3/60),Math.floor(window.stats.status.timeEngaged/1e3/60),Math.floor(window.stats.status.timeTabbedIn/1e3/60),Math.floor(window.stats.status.timeTabbedOut/1e3/60),Math.floor(window.stats.status.timeFirstVisible/1e3/60)].join("~")}catch(e){}}}},"page.timing.time-first-visible:jsv":{defaultValue:"",modulePath:"core/src/lib/dataElements/javascriptVariable.js",settings:{path:"window.stats.status.timeFirstVisible"}},"page.info.platform:sd":{defaultValue:"",modulePath:"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js",settings:{value:"page.info.platform",convertToString:!1}},"external.marketing.google-id:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"development|staging",method:"regex",output:"devSPIEGEL"},1:{input:"production",method:"exact match",output:"1036667778"},size:2,dataElement:"%qs.value.launch-environment:jsv%",defaultValueEmpty:!0}},"page.timing.performance-dom-complete:asm":{defaultValue:"",modulePath:"accessible-page-speed-metrics/src/lib/dataElements/totalDomCompleteTime.js",settings:{}},"page.timing.previous-performance-total-load:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.total_load}}},"page.timing.previous-performance-response-complete:cc":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return JSON.parse(_satellite.getVar("page.custom.on-page-load-previous-data:cookie")).performance.response_complete}}},"Hit | Timestamp HH:MM [gl]":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return(new Date).toLocaleTimeString("de-DE",{timeZone:"Europe/Berlin",hour:"2-digit",minute:"2-digit"})}}},"page.custom.has_media:map":{defaultValue:"",modulePath:"mapping-table/src/lib/dataElements/mappingTable.js",settings:{0:{input:"homepage",method:"exact match",output:"true"},size:1,dataElement:"%page.category.route:sd%",defaultValueEmpty:!0}}},extensions:{"accessible-page-speed-metrics":{displayName:"Accessible Site Speed Metrics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPa1a59448b3504baa857fea92b07672de/",modules:{"accessible-page-speed-metrics/src/lib/dataElements/serverResponseTime.js":{name:"server-response-time",displayName:"Server Response Time",script:function(e){"use strict";e.exports=function(e,t){if(t&&t.timingsFromTrigger){_satellite.logger.log("Setting serverResponseTime from trigger context");var n=t.timingsFromTrigger.responseStart-t.timingsFromTrigger.requestStart}else window.performance&&window.performance.timing&&window.performance.timing.requestStart&&window.performance.timing.responseStart?(_satellite.logger.log("Setting serverResponseTime from window.performance"),n=window.performance.timing.responseStart-window.performance.timing.requestStart):n=0;return-1<n?n:null}}},"accessible-page-speed-metrics/src/lib/dataElements/pageRenderTime.js":{name:"page-render-time",displayName:"Page Render Time",script:function(e){"use strict";e.exports=function(e,t){if(t&&t.timingsFromTrigger){_satellite.logger.log("Setting pageRenderTime from trigger context");var n=t.timingsFromTrigger.domComplete-t.timingsFromTrigger.domLoading}else window.performance&&window.performance.timing&&window.performance.timing.domLoading&&window.performance.timing.domComplete?(_satellite.logger.log("Setting pageRenderTime from window.performance"),n=window.performance.timing.domComplete-window.performance.timing.domLoading):n=0;return-1<n?n:null}}},"accessible-page-speed-metrics/src/lib/dataElements/totalPageLoadTime.js":{name:"page-speed-metrics",displayName:"Total Page Load Time",script:function(e){"use strict";e.exports=function(e,t){if(t&&t.timingsFromTrigger){_satellite.logger.log("Setting totalPageLoadTime from trigger context");var n=t.timingsFromTrigger.loadEventEnd-t.timingsFromTrigger.navigationStart}else window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&window.performance.timing.loadEventEnd?(_satellite.logger.log("Setting totalPageLoadTime from window.performance"),n=window.performance.timing.loadEventEnd-window.performance.timing.navigationStart):n=0;return-1<n?n:null}}},"accessible-page-speed-metrics/src/lib/dataElements/responseCompleteTime.js":{name:"response-complete-time",displayName:"Response Complete Time",script:function(e){"use strict";e.exports=function(e,t){if(t&&t.timingsFromTrigger){_satellite.logger.log("Setting responseCompleteTime from trigger context");var n=t.timingsFromTrigger.responseEnd-t.timingsFromTrigger.requestStart}else window.performance&&window.performance.timing&&window.performance.timing.requestStart&&window.performance.timing.responseEnd?(_satellite.logger.log("Setting responseCompleteTime from window.performance"),n=window.performance.timing.responseEnd-window.performance.timing.requestStart):n=0;return-1<n?n:null}}},"accessible-page-speed-metrics/src/lib/dataElements/totalDomCompleteTime.js":{name:"total-dom-complete-time",displayName:"Total DOM Complete Time",script:function(e){"use strict";e.exports=function(e,t){if(t&&t.timingsFromTrigger){_satellite.logger.log("Setting totalDomCompleteTime from trigger context");var n=t.timingsFromTrigger.domComplete-t.timingsFromTrigger.navigationStart}else window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&window.performance.timing.domComplete?(_satellite.logger.log("Setting totalDomCompleteTime from window.performance"),n=window.performance.timing.domComplete-window.performance.timing.navigationStart):n=0;return-1<n?n:null}}}}},"bing-ads-extension":{displayName:"Bing Ads UET Tag",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP05eac6e292f1486a812623da300a51b4/",settings:{qname:"uetq",tagid:"5279339",navTimingApi:!0,storeConvTrackCookies:!0},modules:{"bing-ads-extension/src/lib/actions/baseTag.js":{name:"basetag",displayName:"Base Tag",script:function(e,t,n,a){"use strict";e.exports=function(){n("../helpers/getBatJsBase")().then(function(){a.logger.log("Base code loaded and a page load event is sent.")})}}},"bing-ads-extension/src/lib/helpers/getBatJsBase.js":{script:function(e,t,r,i){"use strict";e.exports=function(){var t=r("@adobe/reactor-window"),e=r("@adobe/reactor-load-script"),n=i.getExtensionSettings(),a=n.qname||"uetq";return t[a]=t[a]||[],e("//bat.bing.com/bat.js").then(function(){var e={ti:n.tagid,navTimingApi:n.navTimingApi,storeConvTrackCookies:n.storeConvTrackCookies,tm:"al001"};e.q=t[a],t[a]=new UET(e),t[a].push("pageLoad"),i.logger.log("BingAds Base Code successfully loaded.")})["catch"](function(){i.logger.error("BingAds Base Code could not be loaded.")})}}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf6d694462bf64d2fba8034e8cee23924/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.4.1",endpoint:"/rest/v1/delivery",imsOrgId:"79655FCF5C1D42160A495E15@AdobeOrg",clientCode:"spiegelverlagrudolfa",secureOnly:!1,serverState:{},optinEnabled:!1,serverDomain:"sats.spiegel.de",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,globalMboxName:"target-global-mbox",bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/addPageLoadParams.js":{name:"add-page-load-params",displayName:"Add Params to Page Load Request",script:function(e,t,n){"use strict";var a=n("./modules/params-store").mergePageLoadParams;e.exports=function(e){a(e.params)}}},"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window"),r=n(
"@adobe/reactor-document"),i=n("./modules/load-target"),o=i.initLibrarySettings,s=i.overridePublicApi,c=n("./modules/optin"),u=c.shouldUseOptIn,l=c.isTargetApproved,d=n("./analyticsIntegration");e.exports=function(){var e=o();e&&e.enabled?((0,n("./modules/libs/at-launch").init)(a,r,e),u()&&!l()||d()):s(a)}}},"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,n,a){"use strict";function r(){return i.adobe&&i.adobe.target&&i.adobe.target.VERSION}var i=n("@adobe/reactor-window"),o=n("./modules/libs/at-launch"),s=o.initConfig,c=o.initDelivery,u=n("./modules/page-load"),l=n("./messages");e.exports=function(e){var t=u(e);r()?(s(t),c()):i.console&&a.logger.warn(l.NO_REQUEST)}}},"adobe-target-v2/lib/addParams.js":{name:"add-params",displayName:"Add Params to All Requests",script:function(e,t,n){"use strict";var a=n("./modules/params-store").mergeParams;e.exports=function(e){a(e.params)}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,n){"use strict";function o(e){return void 0!==e&&null!=e&&Object.prototype.hasOwnProperty.call(e,"value")&&null!=e.checked}function a(r){var i={};return Object.keys(r).forEach(function(e){var t=r[e];if(o(t)){var n=t.checked,a=t.value;n&&""===a||(i[e]=a)}else i[e]=t}),i}function r(e){var t=a(e);u(l,t)}function i(e){var t=a(e);u(d,t)}function s(){return l}function c(){return d}var u=n("./object-override"),l={},d={};e.exports={mergeParams:r,mergePageLoadParams:i,getParams:s,getPageLoadParams:c}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function a(e,t,n,a){t[n]!==a&&(e[n]=t[n])}function r(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(t,n,e){Object.keys(n).filter(r,{subset:e}).forEach(function(e){a(t,n,e)})}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,n,a){"use strict";function r(e){var t=e.compatMode,n=e.documentMode;return t&&"CSS1Compat"===t&&(!n||9<=n)}function i(e){var t=function t(){},n=function n(){return l.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:n,applyOffer:t,applyOffers:n,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function o(){return c.adobe&&c.adobe.target&&"undefined"!=typeof c.adobe.target.getOffer}function s(){return o()?(a.logger.warn(d.ALREADY_INITIALIZED),null):(g.mboxParams=m(),g.globalMboxParams=f(),v(g,c.targetGlobalSettings||{},b),v(g,h||{},["version"]),r(u)||(g.enabled=!1,a.logger.warn(d.DELIVERY_DISABLED)),g)}var c=n("@adobe/reactor-window"),u=n("@adobe/reactor-document"),l=n("@adobe/reactor-promise"),d=n("../messages"),p=n("./params-store"),m=p.getParams,f=p.getPageLoadParams,g=n("../targetSettings").targetSettings,v=n("./object-override"),h=n("../librarySettings").TARGET_DEFAULT_SETTINGS,b=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName","decisioningMethod"];e.exports={initLibrarySettings:s,overridePublicApi:i}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,n){"use strict";function a(e){return"undefined"===(void 0===e?"undefined":l(e))||null===e}function r(e){var t=void 0===e?"undefined":l(e);return null!==e&&("object"===t||"function"===t)}function i(e){return r(e[g])&&r(e[p])}function o(e,t){return!!t&&!a(e)&&!a(e[f])&&i(e[f])}function s(e,t){return e[p](t)}function c(){var e=d[f];return s(e,e[v][h])}function u(){var e=b[m];return o(d,e)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n("@adobe/reactor-window").adobe,p="isApproved",m="optinEnabled",f="optIn",g="fetchPermissions",v="Categories",h="TARGET",b=n("../targetSettings").targetSettings;e.exports={shouldUseOptIn:u,isTargetApproved:c}}},"adobe-target-v2/lib/analyticsIntegration.js":{script:function(e,t,n,a){"use strict";function r(n,e){return new s(function(t){n?e.then(function(e){e&&(n.abort=!0),t()}):t()})}function i(e){if(e){var t=new s(function(t){var n=setTimeout(function(){t(!1)},d.targetSettings.timeout),a=function a(e){e.detail&&!0===e.detail.redirect?t(!0):t(!1),clearTimeout(n),l(o,e,a)},r=function r(e){t(!1),clearTimeout(n),l(o,e,r)};u(o,m,a),u(o,f,r)});e(function(e){return r(e,t)})}}var o=n("@adobe/reactor-document"),s=n("@adobe/reactor-promise"),c=n("./modules/event-util"),u=c.addEventListener,l=c.removeEventListener,d=n("./targetSettings").extensionSettings,p=a.getSharedModule("adobe-analytics","augment-tracker"),m="at-request-succeeded",f="at-request-failed";e.exports=function(){i(p)}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function f(e){return null==e}function r(e){return jl.call(e)}function i(e){return r(e)}function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=tt(e);return null!=e&&("object"===t||"function"===t)}function c(e){return!!d(e)&&i(e)===xl}function o(e){return e}function s(e){return c(e)?e:o}function l(e){return f(e)?[]:Object.keys(e)}function g(e,t){return f(t)?[]:(Tl(t)?Vl:Il)(s(e),t)}function p(e){return e&&e.length?e[0]:undefined}function v(e){return f(e)?[]:[].concat.apply([],e)}function m(i){for(var o=this,s=i?i.length:0,e=s;e-=1;)if(!c(i[e]))throw new TypeError("Expected a function");return function(){for(var e=0,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=s?i[e].apply(o,n):n[0];(e+=1)<s;)r=i[e].call(o,r);return r}}function h(e,t){f(t)||(Tl(t)?Ol:Al)(s(e),t)}function b(e){return null!=e&&"object"===tt(e)}function y(e){return"string"==typeof e||!Tl(e)&&b(e)&&i(e)===Dl}function _(e){if(!y(e))return-1;for(var t=0,n=e.length,a=0;a<n;a+=1)t=(t<<5)-t+e.charCodeAt(a)&4294967295;return t}function w(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Nl}function P(e){return null!=e&&w(e.length)&&!c(e)}function C(e,t){return Ll(function(e){return t[e]},e)}function E(e){for(var t=0,n=e.length,a=Array(n);t<n;)a[t]=e[t],t+=1;return a}function k(e){return e.split("")}function S(e){return f(e)?[]:P(e)?y(e)?k(e):E(e):C(l(e),e)}function T(e){if(null==e)return!0;if(P(e)&&(Tl(e)||y(e)||c(e.splice)))return!e.length;for(var t in e)if(Rl.call(e,t))return!1;return!0}function j(e){return f(e)?"":Ml.call(e)}function x(e){return y(e)?!j(e):T(e)}function O(e){return"number"==typeof e||b(e)&&i(e)===Ul}function A(e){return Object.getPrototypeOf(Object(e))}function V(e){if(!b(e)||i(e)!==ql)return!1;var t=A(e);if(null===t)return!0;var n=zl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Wl.call(n)===Gl}function I(e,t){return Tl(t)?t.join(e||""):""}function D(e,t){return f(t)?[]:(Tl(t)?Ll:Jl)(s(e),t)}function N(){return(new Date).getTime()}function L(e,t,n){return f(n)?t:(Tl(n)?$l:Yl)(s(e),t,n)}function R(e){return null==e?e:Kl.call(e)}function M(e,t){return x(t)?[]:t.split(e||"")}function F(e,t){return e+Math.floor(Math.random()*(t-e+1))}function U(){var n=N();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+F(0,16))%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}function q(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:0;return setTimeout(e,Number(n)||0)}function H(e){clearTimeout(e)}function B(e,t){return e(t={exports:{}},t.exports),t.exports}function W(e,t){if(!e)return undefined;t=t||{};for(var a={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=a.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;i--;)r[a.key[i]]=n[i]||"";return r[a.q.name]={},r[a.key[12]].replace(a.q.parser,function(e,t,n){t&&(r[a.q.name][t]=n)}),r}function z(t,n){t[im]&&(f(n[dm])||(t[Wm]=n[dm]),h(function(e){f(n[e])||(t[e]=n[e])},Df))}function G(e){var t=e.documentMode;return!t||10<=t}function J(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function $(e){return Af.test(e)}function Y(e){if($(e))return e;var t=R(M(".",e)),n=t.length;return 3<=n&&Vf.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===n?t[0]:t[1]+"."+t[0]}function K(e,t,n){var a="";e.location.protocol===Of||(a=Y(e.location.hostname)),n[Tm]=a,n[im]=J(t)&&G(t),z(n,e[Fm]||{})}function Q(e){K(window,document,e);var t=window.location.protocol===Of;(If=Pl({},e))[vm]=e[vm]/1e3,If[hm]=e[hm]/1e3,If[Sm]=If[Cm]||t?"https:":""}function nt(){return If}function X(e){try{return Nf(e)}catch(t){return{}}}function Z(e){try{return Lf(e)}catch(t){return""}}function ee(e){try{return decodeURIComponent(e)}catch(t){return e}}function te(e){try{return encodeURIComponent(e)}catch(t){return e}}function ne(e){if(Mf[e])return Mf[e];Rf.href=e;var t=td(Rf.href);return t.queryKey=X(t.query),Mf[e]=t,Mf[e]}function ae(e,t,n){return{name:e,value:t,expires:n}}function re(e){var t=M("#",e);return T(t)||t.length<3?null:isNaN(parseInt(t[2],10))?null:ae(ee(t[0]),ee(t[1]),Number(t[2]))}function ie(e){return x(e)?[]:M("|",e)}function oe(){var e=D(re,ie(Ff(Hf))),t=Math.ceil(N()/1e3),n=function n(e){return d(e)&&t<=e.expires};return L(function(e,t){return e[t.name]=t,e},{},g(n,e))}function se(e){var t=oe()[e];return d(t)?t.value:""}function ce(e){return I("#",[te(e.name),te(e.value),e.expires])}function ue(e){return e.expires}function le(e){var t=D(ue,e);return Math.max.apply(null,t)}function de(e,t,n){var a=S(e),r=Math.abs(1e3*le(a)-N()),i=I("|",D(ce,a)),o=new Date(N()+r),s=Pl({domain:t,expires:o,secure:n},n?{sameSite:jf}:{});Uf(Hf,i,s)}function pe(e){var t=e.name,n=e.value,a=e.expires,r=e.domain,i=e.secure,o=oe();o[t]=ae(t,n,Math.ceil(a+N()/1e3)),de(o,r,i)}function me(e){return Fl(Ff(e))}function fe(e,t){var n=X(e.location.search);return Fl(n[t])}function ge(e,t){var n=ne(e.referrer).queryKey;return!f(n)&&Fl(n[t])}function ve(e,t,n){return me(n)||fe(e,n)||ge(t,n)}function he(){var e=nt(),t=e[Tm],n=e[Cm],a=Pl({domain:t,secure:n},n?{sameSite:jf}:{});Uf(Fd,Ud,a);var r=Ff(Fd)===Ud;return qf(Fd),r}function be(){return ve(window,document,Rd)}function ye(){return nt()[im]&&he()&&!be()}function _e(){return ve(window,document,Ld)}function we(){return ve(window,document,Md)}function Pe(e,t){var n=e.console;return!f(n)&&c(n[t])}function Ce(e,t){var n=e.console;Pe(e,"warn")&&n.warn.apply(n,[Bf].concat(t))}function Ee(e,t){var n=e.console;Pe(e,"debug")&&_e()&&n.debug.apply(n,[Bf].concat(t))}function ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ce(window,t)}function Se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ee(window,t)}function Te(n){return L(function(e,t){return e[t]=n[t],e},{},Df)}function je(e,t,n){var a=e[Mm]||[];if(e[Mm]=a,n){var r=a.push;a[pm]=Wf,a[Nm]=Te(t),a[Lm]=[],a[Rm]=[],a.push=function i(e){a[Rm].push(Pl({timestamp:N()},e)),r.call(this,e)}}}function xe(e,t,n,a){t===Rm&&e[Mm].push(n),a&&t!==Rm&&e[Mm][t].push(Pl({timestamp:N()},n))}function Oe(){je(window,nt(),_e())}function Ae(e){xe(window,Rm,e,_e())}function Ve(e){xe(window,Lm,e,_e())}function Ie(){return c(Gf)}function De(e){return new Gf(e)}function Ne(){var e=document.createTextNode(""),t=function t(){e.textContent=0<e.textContent.length?"":"a"},n=[];return De(function(){for(var e=n.length,t=0;t<e;t+=1)n[t]();n.splice(0,e)}).observe(e,{characterData:!0}),function(e){n.push(e),t()}}function Le(){return function(e){var t=zf("<script>");t.on("readystatechange",function(){t.on("readystatechange",null),t.remove(),t=null,e()}),zf(document.documentElement).append(t)}}function Re(){Ie()?kl._setImmediateFn(Ne()):-1!==window.navigator.userAgent.indexOf("MSIE 10")&&kl._setImmediateFn(Le())}function Me(e){return new kl(e)}function Fe(e){return kl.resolve(e)}function Ue(e){return kl.reject(e)}function qe(e){return Tl(e)?kl.race(e):Ue(new TypeError(Jf))}function He(e){return Tl(e)?kl.all(e):Ue(new TypeError(Jf))}function Be(e,n,a){var r=-1;return qe([e,Me(function(e,t){r=q(function(){return t(new Error(a))},n)})]).then(function(e){return H(r),e},function(e){throw H(r),e})}function We(e){if(f(e[pf]))return!1;var t=e[pf];if(f(t[mf]))return!1;var n=t[mf];return c(n[gf])&&c(n[ff])}function ze(e,t){return!!t&&We(e)}function Ge(e,t){if(!We(e))return!0;var n=e[pf][mf],a=(e[pf][mf][vf]||{})[t];return n[ff](a)}function Je(e,t){if(!We(e))return Fe(!0);var n=e[pf][mf],a=(e[pf][mf][vf]||{})[t];return Me(function(e,t){n[gf](function(){n[ff](a)?e(!0):t(_f)},!0)})}function $e(){var e=nt()[yf];return ze(window,e)}function Ye(){return Ge(window,hf)}function Ke(){return Ge(window,bf)}function Qe(){return Je(window,hf)}function Xe(){return X(window.location.search)[Om]}function Ze(e,t){pe({name:Im,value:e,expires:t[hm],domain:t[Tm],secure:t[Cm]})}function et(e){Ze(e,nt())}function at(){if($e()&&!Ye())return $f;var e=Xe();if(Fl(e))return et(e),se(Im);var t=se(Im);return x(t)?et($f):et(t),se(Im)}function rt(e){var t=nt();pe({name:Am,value:e,expires:t[vm],domain:t[Tm],secure:t[Cm]})}function it(){return se(Am)}function ot(e){if(x(e))return"";var t=Yf.exec(e);return T(t)||2!==t.length?"":t[1]}function st(){if(!nt()[_m])return"";var e=Ff(Vm);return x(e)?"":e}function ct(e){var t=nt();if(t[_m]){var n=t[Tm],a=new Date(N()+t[wm]),r=t[Cm],i=Ff(Vm),o=Pl({domain:n,expires:a,secure:r},r?{sameSite:jf}:{});if(Fl(i))Uf(Vm,i,o);else{var s=ot(e);x(s)||Uf(Vm,s,o)}}}function ut(e,a){function t(e,t){var n=a.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:undefined},n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}c(e.CustomEvent)||(t.prototype=e.Event.prototype,e.CustomEvent=t)}function lt(e,t){var n=e(),a=t(),r={};return r.sessionId=n,Fl(a)&&(r.deviceId=a),r}function dt(e,t,n,a){var r=new e.CustomEvent(n,{detail:a});t.dispatchEvent(r)}function pt(e,t){var n=t.mbox,a=t.error,r=t.url,i=t.analyticsDetails,o=t.responseTokens,s=t.execution,c={type:e,tracking:lt(at,it)};return f(n)||(c.mbox=n),f(a)||(c.error=a),f(r)||(c.url=r),T(i)||(c.analyticsDetails=i),T(o)||(c.responseTokens=o),T(s)||(c.execution=s),c}function mt(){var e=pt(Kf,{});dt(window,document,Kf,e)}function ft(e){var t=pt(Qf,e);dt(window,document,Qf,t)}function gt(e,t){var n=pt(Xf,e);n.redirect=t,dt(window,document,Xf,n)}function vt(e){var t=pt(Zf,e);dt(window,document,Zf,t)}function ht(e){var t=pt(eg,e);dt(window,document,eg,t)}function bt(e){var t=pt(tg,e);dt(window,document,tg,t)}function yt(e){var t=pt(ng,e);dt(window,document,ng,t)}function _t(e){var t=pt(ag,e);dt(window,document,ag,t)}function wt(e){var t=pt(rg,e);dt(window,document,rg,t)}function Pt(e){return b(e)&&1===e.nodeType&&!V(e)}function Ct(e){var t=e.charAt(0),n=e.charAt(1),a=e.charAt(2),r={key:e};return r.val="-"===n?""+t+n+"\\3"+a+" ":t+"\\3"+n+" ",r}function Et(e){var t=e.match(cg);return T(t)?e:L(function(e,t){return e.replace(t.key,t.val)},e,D(Ct,t))}function kt(e){for(var t,n,a,r,i=[],o=j(e),s=o.indexOf(ig);-1!==s;)t=j(o.substring(0,s)),r=(n=j(o.substring(s))).indexOf(og),a=j(n.substring(sg,r)),s=(o=j(n.substring(r+1))).indexOf(ig),t&&a&&i.push({sel:t,eq:Number(a)});return o&&i.push({sel:o}),i}function St(e){if(Pt(e))return zf(e);if(!y(e))return zf(e);var t=Et(e);if(-1===t.indexOf(ig))return zf(t);var n=kt(t);return L(function(e,t){var n=t.sel,a=t.eq;return e=e.find(n),O(a)&&(e=e.eq(a)),e},zf(document),n)}function Tt(e){return 0<St(e).length}function jt(e){return zf("<"+np+"/>").append(e)}function xt(e){return zf(e)}function Ot(e){return St(e).prev()}function At(e){return St(e).next()}function Vt(e){return St(e).parent()}function It(e,t){return St(t).is(e)}function Dt(e,t){return St(t).find(e)}function Nt(e){return St(e).children()}function Lt(){window[dg]=window[dg]||{},window[dg].querySelectorAll=St}function Rt(e){var t=e[tf];window[dg][mg]=t}function Mt(){document.addEventListener(Kd,function(e){c(window[dg][pg])&&window[dg][pg](e)},!0)}function Ft(){if(we()){Lt();var e=nt()[km],t=function t(){return Mt()},n=function n(){return ke(ug)};Se(lg),Sl(e).then(t)["catch"](n)}}function Ut(e){return parseInt(e,10)}function qt(e){var t=Ut(e);return isNaN(t)?null:t}function Ht(e){return M(_g,e)}function Bt(e){var t=M(_g,e),n=qt(t[0]);if(f(n))return null;var a={};a.activityIndex=n;var r=qt(t[1]);return f(r)||(a.experienceIndex=r),a}function Wt(e){return g(wg,D(Bt,e))}function zt(e){return Tl(e)?Wt(e):Wt([e])}function Gt(e){var t=X(e),n=t[gg];if(x(n))return null;var a={};a.token=n;var r=t[hg];Fl(r)&&r===Ud&&(a.listedActivitiesOnly=!0);var i=t[bg];Fl(i)&&(a.evaluateAsTrueAudienceIds=Ht(i));var o=t[yg];Fl(o)&&(a.evaluateAsFalseAudienceIds=Ht(o));var s=t[vg];return T(s)||(a.previewIndexes=zt(s)),a}function Jt(e){var t=Gt(e.location.search);if(!f(t)){var n=new Date(N()+186e4),a=nt()[Cm],r=Pl({expires:n,secure:a},a?{sameSite:jf}:{});Uf(fg,JSON.stringify(t),r)}}function $t(){var e=Ff(fg);if(x(e))return{};try{return JSON.parse(e)}catch(t){return{}}}function Yt(e){var t=X(e)[Cg];return x(t)?null:{token:t}}function Kt(e){var t=Yt(e.location.search);if(!f(t)){var n=new Date(N()+186e4),a=nt()[Cm],r=Pl({expires:n,secure:a},a?{sameSite:jf}:{});Uf(Pg,JSON.stringify(t),r)}}function Qt(){var e=Ff(Pg);if(x(e))return{};try{return JSON.parse(e)}catch(t){return{}}}function Xt(e){return St(e).empty().remove()}function Zt(e,t){return St(t).after(e)}function en(e,t){return St(t).before(e)}function tn(e,t){return St(t).append(e)}function nn(e,t){return St(t).prepend(e)}function an(e,t){return St(t).html(e)}function rn(e){return St(e).html()}function on(e,t){return St(t).text(e)}function sn(e,t){return"<"+Zd+" "+$d+'="'+e+'" '+Yd+'="'+nm+'">'+t+"</"+Zd+">"}function cn(e,t){return sn(Eg+_(t),t+" {"+e+"}")}function un(e,t){return sn(Tg,t+" {"+e+"}")}function ln(e){if(!0===e[gm]&&!Tt(Sg)){var t=e[fm];tn(sn(kg,t),Qd)}}function dn(e){!0===e[gm]&&Tt(Sg)&&Xt(Sg)}function pn(e,t){if(!T(t)){var n=function n(e){return!Tt("#"+(Eg+_(e)))},a=g(n,t);if(!T(a)){var r=e[mm],i=function i(e){return cn(r,e)};tn(I("\n",D(i,a)),Qd)}}}function mn(e,t){T(t)||Tt("#"+Tg)||tn(un(e[mm],I(", ",t)),Qd)}function fn(){ln(nt())}function gn(){dn(nt())}function vn(e){pn(nt(),e)}function hn(e){mn(nt(),e)}function bn(e){Xt("#"+(Eg+_(e)))}function yn(){var e="#"+Tg;Tt(e)&&Xt(e)}function _n(e){return!f(e[$d])}function wn(e){return!f(e[zm])}function Pn(e){switch(e){case 0:return"unknown";case 1:return"authenticated";case 2:return"logged_out";default:return"unknown"}}function Cn(e){return e[$m]}function En(e){return _n(e)||wn(e)}function kn(e,r){return L(function(e,t,n){var a={};return a[Jm]=n,_n(t)&&(a[$d]=t[$d]),wn(t)&&(a[Gm]=Pn(t[zm])),a[nd]=r,Cn(t)&&(a[$m]=!0),e.push(a),e},[],g(En,e))}function Sn(e){if(!e.nameSpaces&&!e.dataSources)return kn(e,Rg);var t=[];return e.nameSpaces&&t.push.apply(t,kn(e.nameSpaces,Lg)),e.dataSources&&t.push.apply(t,kn(e.dataSources,Rg)),t}function Tn(e){if(f(e))return[];if(!c(e[Dg]))return[];var t=e[Dg](Ng);return d(t)?Sn(t):[]}function jn(e,t){return f(e)?null:c(e[Ig])?e[Ig](t):null}function xn(e,t){if(f(e))return null;var n=e[t];return f(n)?null:n}function On(e,t,n){if(x(t))return null;if(f(e[Ug]))return null;if(!c(e[Ug][qg]))return null;var a=e[Ug][qg](t,{sdidParamExpiry:n});return d(a)&&c(a[Hg])&&a[Hg]()?a:null}function An(e,t){if(!c(e.getVisitorValues))return Fe({});var n=[Ag,xg,Og];return t&&n.push(Vg),Me(function(t){e.getVisitorValues(function(e){return t(e)},n)})}function Vn(e){return Se(Wg,e),{}}function In(e,t,n){return f(e)?Fe({}):Be(An(e,n),t,Bg)["catch"](Vn)}function Dn(e,t){if(!c(e.getVisitorValues))return{};var n=[Ag,xg,Og];t&&n.push(Vg);var a={};return e.getVisitorValues(function(e){return Pl(a,e)},n),a}function Nn(e,t){return f(e)?{}:Dn(e,t)}function Ln(){var e=nt(),t=e[sm],n=e[Em];return On(window,t,n)}function Rn(){var e=Ln(),t=nt();return In(e,t[ym],t[Pm])}function Mn(){return Nn(Ln(),nt()[Pm])}function Fn(){return Tn(Ln())}function Un(e){return jn(Ln(),e)}function qn(e){return xn(Ln(),e)}function Hn(e,t){zg[e]=t}function Bn(e){return zg[e]}function Wn(e){var t=e[Fm];if(f(t))return!1;var n=t[qm];return!(!Tl(n)||T(n))}function zn(e){var t=e[Gp];if(!y(t)||T(t))return!1;var n=e[pm];if(!y(n)||T(n))return!1;var a=e[um];return!(!f(a)&&!O(a)||!c(e[em]))}function Gn(e){return Me(function(n,a){e(function(e,t){f(e)?n(t):a(e)})})}function Jn(e,t,n,a,r,i){var o={};o[e]=t,o[n]=a,o[r]=i;var s={};return s[Um]=o,s}function $n(e){var n=e[Gp],a=e[pm],t=e[um]||$g;return Be(Gn(e[em]),t,Jg).then(function(e){var t=Jn(Gp,n,pm,a,$p,e);return Se(Gg,qp,t),Ve(t),e})["catch"](function(e){var t=Jn(Gp,n,pm,a,Rp,e);return Se(Gg,Rp,t),Ve(t),{}})}function Yn(e){var t=L(function(e,t){return Pl(e,t)},{},e);return Hn(qm,t),t}function Kn(e){return Wn(e)?He(D($n,g(zn,e[Fm][qm]))).then(Yn):Fe({})}function Qn(){var e=Bn(qm);return f(e)?{}:e}function Xn(){return Kn(window)}function Zn(){return Qn()}function ea(e){var t=X(e.location.search)[Yg];return x(t)?null:t}function ta(){var e=Ff(Kg);return x(e)?null:e}function na(){var e=ea(window),t=ta();return e||t}function aa(e){return!T(e)&&2===e.length&&Fl(e[0])}function ra(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function ia(e,n,a,r){h(function(e,t){d(e)?(n.push(t),ia(e,n,a,r),n.pop()):T(n)?a[r(t)]=e:a[r(I(".",n.concat(t)))]=e},e)}function oa(e){return g(function(e,t){return Fl(t)},X(e))}function sa(e){return L(function(e,t){return e[ee(j(t[0]))]=ee(j(t[1])),e},{},g(aa,L(function(e,t){return e.push(ra(t)),e},[],g(Fl,e))))}function ca(e,t){var n={};return f(t)?ia(e,[],n,o):ia(e,[],n,t),n}function ua(e){if(!c(e))return{};var t=null;try{t=e()}catch(n){return{}}return f(t)?{}:Tl(t)?sa(t):y(t)&&Fl(t)?oa(t):d(t)?ca(t):{}}function la(e){return Pl({},e,ua(window.targetPageParamsAll))}function da(e){return Pl({},e,ua(window.targetPageParams))}function pa(e){var t=nt(),n=t[lm],a=t[jm],r=t[xm];return n!==e?la(a||{}):Pl(la(a||{}),da(r||{}))}function ma(){var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(f(t))return null;var n=t.getExtension("WEBGL_debug_renderer_info");if(f(n))return null;var a=t.getParameter(n.UNMASKED_RENDERER_WEBGL);return f(a)?null:a}function fa(){var e=window.devicePixelRatio;if(!f(e))return e;e=1;var t=window.screen,n=t.systemXDPI,a=t.logicalXDPI;return!f(n)&&!f(a)&&a<n&&(e=n/a),e}function ga(){var e=window.screen,t=e.orientation,n=e.width,a=e.height;if(f(t))return a<n?"landscape":"portrait";if(f(t.type))return null;var r=M("-",t.type);if(T(r))return null;var i=r[0];return f(i)?null:i}function va(){return Qg}function ha(e){return e===Zg}function ba(e){return-1!==e.indexOf(Xg)}function ya(e){return e===ev}function _a(e){return e===tv}function wa(e){return e===nv}function Pa(e){return e===av}function Ca(e){return e===rv}function Ea(e){return e===iv}function ka(e){return ba(e)||ha(e)||ya(e)||_a(e)||wa(e)||Pa(e)||Ca(e)||Ea(e)}function Sa(e){return e.substring(Xg.length)}function Ta(e){return e[Zg]}function ja(e){return e[ev]}function xa(e){return e[tv]}function Oa(e){return e[nv]}function Aa(e){var t=D(j,M(",",e[av]));return g(Fl,t)}function Va(e){return e[rv]}function Ia(e){return e[iv]}function Da(e){return L(function(e,t,n){return ka(n)||(e[n]=f(t)?"":t),e},{},e)}function Na(e){return L(function(e,t,n){if(!ba(n))return e;var a=Sa(n);return x(a)||(e[a]=f(t)?"":t),e},{},e)}function La(r,i,o){return r.onload=function(){var e=1223===r.status?204:r.status;if(e<100||599<e)o(new Error(sv));else{var t;try{t=JSON.parse(r.responseText)}catch(a){return void o(new Error(uv))}var n=r.getAllResponseHeaders();i({status:e,headers:n,response:t})}},r}function Ra(e,t){return e.onerror=function(){t(new Error(sv))},e}function Ma(e,t,n){return e.timeout=t,e.ontimeout=function(){n(new Error(cv))},e}function Fa(n,e){return h(function(e,t){Tl(e)&&h(function(e){n.setRequestHeader(t,e)},e)},1<arguments.length&&e!==undefined?arguments[1]:{}),n}function Ua(e){var a=e.url,r=e.headers,i=e.body,o=e.timeout,s=e.async;return Me(function(e,t){var n=new window.XMLHttpRequest;(n=Ra(n=La(n,e,t),t)).open(ov,a,s),n.withCredentials=!0,n=Fa(n,r),s&&(n=Ma(n,o,t)),n.send(JSON.stringify(i))}).then(function(e){var t=e.response,n=t.status,a=t.message;if(!f(n)&&!f(a))throw new Error(a);return t})}function qa(e){if(e[Vg])throw new Error(jg);return e}function Ha(){var e=Rn(),t=Xn();return He([e.then(qa),t])}function Ba(){return[Mn(),Zn()]}function Wa(e){var t=nt()[lm];return Pl({},e,pa(t))}function za(){return-(new Date).getTimezoneOffset()}function Ga(){var e=window.screen;return{width:e.width,height:e.height,orientation:ga(),colorDepth:e.colorDepth,pixelRatio:fa()}}function Ja(){var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function $a(){return{host:window.location.hostname,webGLRenderer:va()}}function Ya(){return{url:window.location.href,referringUrl:document.referrer}}function Ka(e){if(!f(e)&&e.channel===xf)return e;var t=(e||{}).beacon;return{userAgent:window.navigator.userAgent,timeOffsetInMinutes:za(),channel:xf,screen:Ga(),window:Ja(),browser:$a(),address:Ya(),geo:e&&e.geo,beacon:t}}function Qa(e,t){if(!f(e))return e;var n={};if(T(t))return n;var a=t[Og],r=parseInt(a,10);isNaN(r)||(n.locationHint=r);var i=t[xg];return Fl(i)&&(n.blob=i),n}function Xa(e){var t=e.id,n=e.integrationCode,a=e.authenticatedState,r=e.type,i=e.primary,o={};return Fl(t)&&(o.id=t),Fl(n)&&(o.integrationCode=n),Fl(a)&&(o.authenticatedState=a),Fl(r)&&(o.type=r),i&&(o.primary=i),o}function Za(e){return D(Xa,e)}function er(e,t,n,a,r){var i={};Fl(t)&&(i.tntId=t),Fl(n)&&(i.thirdPartyId=n),Fl(e.thirdPartyId)&&(i.thirdPartyId=e.thirdPartyId);var o=a[Ag];return Fl(o)&&(i.marketingCloudVisitorId=o),Fl(e.marketingCloudVisitorId)&&(i.marketingCloudVisitorId=e.marketingCloudVisitorId),T(e.customerIds)?T(r)||(i.customerIds=Za(r)):i.customerIds=e.customerIds,i}function tr(e,t){var n={},a=Qa(e.audienceManager,t);return T(a)||(n.audienceManager=a),T(e.analytics)||(n.analytics=e.analytics),n}function nr(e,t){if(!f(e)&&Fl(e.token))return e;var n={},a=ja(t);return Fl(a)&&(n.token=a),n}function ar(e){if(!f(e)&&Fl(e.authorizationToken))return e;var t={},n=na();return Fl(n)&&(t.authorizationToken=n),t}function rr(e){return f(e)?Qt():e}function ir(e){return f(e)?$t():e}function or(e){var t={},n=xa(e);f(n)||(t.id=n);var a=Oa(e),r=parseFloat(a);isNaN(r)||(t.total=r);var i=Aa(e);return T(i)||(t.purchasedProductIds=i),t}function sr(e){var t={},n=Va(e);f(n)||(t.id=n);var a=Ia(e);return f(a)||(t.categoryId=a),t}function cr(e,t){var n={},a=Pl({},Da(t),e.parameters||{}),r=Pl({},Na(t),e.profileParameters||{}),i=Pl({},or(t),e.order||{}),o=Pl({},sr(t),e.product||{});return T(a)||(n.parameters=a),T(r)||(n.profileParameters=r),T(i)||(n.order=i),T(o)||(n.product=o),n}function ur(e,t,n){var a=2<arguments.length&&n!==undefined?arguments[2]:{},r=nt()[lm],i=e.index,o=e.name,s=e.address,c=cr(e,Pl({},o===r?t:a,pa(o)));return f(i)||(c.index=i),Fl(o)&&(c.name=o),T(s)||(c.address=s),c}function lr(e,t){var n=e.name,a=e.address,r=cr(e,t);return Fl(n)&&(r.name=n),T(a)||(r.address=a),r}function dr(e,t,n){var a=e.execute,r=void 0===a?{}:a,i={};if(T(r))return i;var o=r.pageLoad;f(o)||(i.pageLoad=cr(o,t));var s=r.mboxes;if(!f(s)&&Tl(s)&&!T(s)){var c=g(pv,D(function(e){return ur(e,t,n)},s));T(c)||(i.mboxes=c)}return i}function pr(e,t,n){var a=e.prefetch,r=void 0===a?{}:a,i={};if(T(r))return i;var o=r.mboxes;f(o)||!Tl(o)||T(o)||(i.mboxes=D(function(e){return ur(e,t,n)},o));var s=r.views;return f(s)||!Tl(s)||T(s)||(i.views=D(function(e){return lr(e,t)},s)),i}function mr(e,t){if($e()&&!Ke())return null;var n=nt(),a=Un(e),r=qn(Mg),i=qn(Fg),o=t.experienceCloud,s=(void 0===o?{}:o).analytics,c=void 0===s?{}:s,u=c.logging,l=c.supplementalDataId,d=c.trackingServer,p=c.trackingServerSecure,m={};return f(u)?m.logging=n[wf]:m.logging=u,f(l)||(m.supplementalDataId=l),Fl(a)&&(m.supplementalDataId=a),f(d)||(m.trackingServer=d),Fl(r)&&(m.trackingServer=r),f(p)||(m.trackingServerSecure=p),Fl(i)&&(m.trackingServerSecure=i),T(m)?null:m}function fr(e,t,n){var a=Wa(n),r=it(),i=Ta(a),o=Fn(),s=er(e.id||{},r,i,t,o),c=nr(e.property,a),u=tr(e.experienceCloud||{},t),l=ar(e.trace),d=rr(e.preview),p=ir(e.qaMode),m=dr(e,a,n),f=pr(e,a,n),g=e.notifications,v={};return v.requestId=U(),v.context=Ka(e.context),T(s)||(v.id=s),T(c)||(v.property=c),T(l)||(v.trace=l),T(u)||(v.experienceCloud=u),T(d)||(v.preview=d),T(p)||(v.qaMode=p),T(m)||(v.execute=m),T(f)||(v.prefetch=f),T(g)||(v.notifications=g),v}function gr(e,t,n){var a=n[0],r=n[1];return fr(e,a,Pl({},r,t))}function vr(t,n){return Ha().then(function(e){return gr(t,n,e)})}function hr(e,t){return gr(e,t,Ba())}function br(e,t){return O(t)?t<0?e[um]:t:e[um]}function yr(e){var t=e[cm];if(!e[_m])return t;var n=st();return x(n)?t:""+lv+n+dv}function _r(e){return e[Sm]+"//"+yr(e)+e[Hm]+"?"+Z({client:e[om],sessionId:at(),version:e[pm]})}function wr(e,t){var n=nt();return Ua({url:_r(n),headers:u({},af,[rf]),body:e,timeout:br(n,t),async:!0}).then(function(e){return Pl(e,{decisioningMethod:Ql.SERVER_SIDE})})}function Pr(e,t,n){return Se(Zp,t),Ve({request:t}),wr(t,n).then(function(e){return Se(Xp,e),Ve({response:e}),{request:t,response:e}})}function Cr(e,t){return{status:qp,type:e,data:t}}function Er(e,t){return{status:Rp,type:e,data:t}}function kr(e){return d(e)}function Sr(e){return!!kr(e)&&Fl(e.eventToken)}function Tr(e){return!T(e)&&!x(e.type)&&Fl(e.eventToken)}function jr(e){return!!Tr(e)&&Fl(e.selector)}function xr(e){var t=e.id;return d(t)&&Fl(t.tntId)}function Or(e){var t=e.response;return xr(t)&&rt(t.id.tntId),e}function Ar(e){var t=e.response;return xr(t)&&ct(t.id.tntId),ct(null),e}function Vr(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).trace;T(t)||Ae(t)}function Ir(e){var t=e.response,n=t.execute,a=void 0===n?{}:n,r=t.prefetch,i=void 0===r?{}:r,o=t.notifications,s=void 0===o?{}:o,c=a.pageLoad,u=void 0===c?{}:c,l=a.mboxes,d=void 0===l?[]:l,p=i.mboxes,m=void 0===p?[]:p,f=i.views,g=void 0===f?[]:f;return Vr(u),h(Vr,d),h(Vr,m),h(Vr,g),h(Vr,s),e}function Dr(e){var t=e.queryKey,n=t[Nv];if(!y(n))return t;if(x(n))return t;var a=Math.round(N()/1e3);return t[Nv]=n.replace(/\|TS=\d+/,"|TS="+a),t}function Nr(e){return e.queryKey}function Lr(e,t,n){var a=ne(e),r=a.protocol,i=a.host,o=a.path,s=""===a.port?"":":"+a.port,c=x(a.anchor)?"":"#"+a.anchor,u=n(a),l=Z(Pl({},u,t));return r+"://"+i+s+o+(x(l)?"":"?"+l)+c}function Rr(e,t){return Lr(e,t,Dr)}function Mr(e,t){return Lr(e,t,Nr)}function Fr(e){var t=e.content;if(x(t))return Se(Tp,e),null;var n=Pl({},e);return n.content=Rr(t,{}),n}function Ur(e){throw new Error(e)}function qr(e){var t=e[qv]||Fv,n=e[Hv]||Ur(Mv),a=e[Bv]||{},r=e[Wv]||null,i=e[zv]||!1,o=e[Gv]||3e3,s=!!f(e[Jv])||!0===e[Jv],c={};return c[qv]=t,c[Hv]=n,c[Bv]=a,c[Wv]=r,c[zv]=i,c[Gv]=o,c[Jv]=s,c}function Hr(a,r,i){return a.onload=function(){var e=1223===a.status?204:a.status;if(e<100||599<e)i(new Error(Lv));else{var t=a.responseText,n=a.getAllResponseHeaders();r({status:e,headers:n,response:t})}},a}function Br(e,t){return e.onerror=function(){t(new Error(Lv))},e}function Wr(e,t,n){return e.timeout=t,e.ontimeout=function(){n(new Error(Rv))},e}function zr(e,t){return!0===t&&(e.withCredentials=t),e}function Gr(n,e){return h(function(e,t){h(function(e){return n.setRequestHeader(t,e)},e)},e),n}function Jr(a,e){var t=qr(e),r=t[qv],i=t[Hv],o=t[Bv],s=t[Wv],c=t[zv],u=t[Gv],l=t[Jv];return Me(function(e,t){var n=new a.XMLHttpRequest;(n=Br(n=Hr(n,e,t),t)).open(r,i,l),n=Gr(n=zr(n,c),o),l&&(n=Wr(n,u,t)),n.send(s)})}function $r(e){return Jr(window,e)}function Yr(e,t,n){var a={};return a[qv]=Fv,a[Hv]=Mr(e,t),a[Gv]=n,a}function Kr(e){return 200<=e&&e<300||304===e}function Qr(e){if(!Kr(e.status))return null;var t=e.response;if(x(t))return null;var n={};return n.type=Wd,n.content=t,n}function Xr(e){return $r(Yr(e.content,{},nt()[Gv])).then(Qr)["catch"](function(){return null})}function Zr(e){
var t=e[dd];if(x(t))return"";var n=$v.exec(t);return T(n)||2!==n.length?"":n[1]}function ei(e,t){var n=document.createElement(np);n.innerHTML=t;var a=n.firstElementChild;return f(a)?t:(a.id=e,a.outerHTML)}function ti(e){var t=e[ad],n=Zr(e);if(x(n)||x(t))return e;var a=e[dd];return e[dd]=a.replace(Yv,""),e[ad]=ei(n,t),e}function ni(e){return!f(e.selector)}function ai(e){if(!ni(e))return null;var t=ti(e);return y(t[ad])?t:(Se(wp,t),null)}function ri(e){if(!ni(e))return null;var t=ti(e);return y(t[ad])?t:(Se(wp,t),null)}function ii(e){if(!ni(e))return null;var t=ti(e);return y(t[ad])?t:(Se(wp,t),null)}function oi(e){if(!ni(e))return null;var t=ti(e);return y(t[ad])?t:(Se(wp,t),null)}function si(e){if(!ni(e))return null;var t=ti(e);return y(t[ad])?t:(Se(wp,t),null)}function ci(e){if(!ni(e))return null;var t=ti(e);return y(t[ad])?t:(Se(wp,t),null)}function ui(e){if(!ni(e))return null;var t=ti(e);return y(t[ad])?t:(Se(wp,t),null)}function li(e){return ni(e)?y(e[ad])?e:(Se(wp,e),null):null}function di(e){return ni(e)?d(e[ad])?e:(Se(Pp,e),null):null}function pi(e){return ni(e)?y(e[ad])?e:(Se(jp,e),null):null}function mi(e){return ni(e)?d(e[ad])?e:(Se(Cp,e),null):null}function fi(e){return ni(e)?d(e[ad])?e:(Se(Ep,e),null):null}function gi(e){return ni(e)?d(e[ad])?e:(Se(kp,e),null):null}function vi(e){return ni(e)?e:null}function hi(e){return ni(e)?d(e[ad])?e:(Se(Sp,e),null):null}function bi(e){var t=e.content;return x(t)?(Se(Tp,e),null):(e.content=Rr(t,{}),e)}function yi(e){var t=e[nd];if(x(t))return null;switch(t){case md:return ai(e);case gd:return ri(e);case Od:return ii(e);case Vd:return oi(e);case Dd:return si(e);case jd:return ci(e);case xd:return ui(e);case Ed:return li(e);case hd:return di(e);case bd:return pi(e);case yd:return mi(e);case wd:return fi(e);case Pd:return gi(e);case Cd:return vi(e);case _d:return hi(e);case kd:return bi(e);default:return null}}function _i(e){var t=e[ad];if(!Tl(t))return null;if(T(t))return null;var n=g(Kv,D(yi,t));if(T(n))return null;var a=Pl({},e);return a.content=n,a}function wi(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).options;return Tl(t)?T(t)?[]:wv(D(Sv,t)):[]}function Pi(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=t.execute,a=void 0===n?{}:n,r=t.prefetch,i=void 0===r?{}:r,o=a.pageLoad,s=void 0===o?{}:o,c=a.mboxes,u=void 0===c?[]:c,l=i.mboxes,d=void 0===l?[]:l,p=i.views,m=void 0===p?[]:p;return v([wi(s),v(D(wi,u)),v(D(wi,d)),v(D(wi,m))])}function Ci(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).execute,n=void 0===t?{}:t,a=n.pageLoad,r=void 0===a?{}:a,i=n.mboxes,o=void 0===i?[]:i,s=v([Cv(r)||[],v(wv(D(Cv,o)))]),c=v(D(Ev,g(yv,s))),u=g(_v,s),l=g(_v,c),d=u.concat(l),p={};if(T(d))return p;var m=d[0].content;return x(m)||(p.url=m),p}function Ei(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).analytics;return T(t)?[]:[t]}function ki(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=t.execute,a=void 0===n?{}:n,r=t.prefetch,i=void 0===r?{}:r,o=a.pageLoad,s=void 0===o?{}:o,c=a.mboxes,u=void 0===c?[]:c,l=i.mboxes,d=void 0===l?[]:l,p=i.views,m=void 0===p?[]:p,f=i.metrics,g=void 0===f?[]:f;return v([Ei(s),v(D(Ei,u)),v(D(Ei,d)),v(D(Ei,m)),v(D(Ei,g))])}function Si(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function Ti(e,t){var n=t[0],a=t[1],r=!T(n),i=!T(a);return(r||i)&&(r&&(e.options=n),i&&(e.metrics=a)),e}function ji(e){switch(e.type){case kd:return Fe(Fr(e));case zd:return Xr(e);case Yp:return Fe(_i(e));default:return Fe(e)}}function xi(e,t){if(!Tl(e))return Fe([]);if(T(e))return Fe([]);var n=g(t,e);return T(n)?Fe([]):He(D(function(e){return ji(e)},n)).then(wv)}function Oi(e,t){return Tl(e)?T(e)?Fe([]):Fe(g(t,e)):Fe([])}function Ai(e){var t=e.response.execute;if(!d(t))return Fe(null);var n=t.pageLoad;if(!d(n))return Fe(null);var a=n.analytics,r=n.options,i=n.metrics,o={analytics:a};return He([xi(r,kr),Oi(i,jr)]).then(function(e){return Ti(o,e)})}function Vi(e){var t=e.name,n=e.analytics,a=e.options,r=e.metrics,i={name:t,analytics:n};return He([xi(a,kr),Oi(r,Tr)]).then(function(e){return Ti(i,e)})}function Ii(e){var t=e.response.execute;if(!d(t))return Fe([]);var n=t.mboxes;return!Tl(n)||T(n)?Fe([]):He(D(Vi,g(xv,n))).then(wv)}function Di(e,t,n){return e.index===t&&e.name===n}function Ni(e,t,n){var a=e.prefetch,r=(void 0===a?{}:a).mboxes,i=void 0===r?[]:r;return T(i)?null:p(g(function(e){return Di(e,t,n)},i))}function Li(e,t){var n=t.index,a=t.name,r=t.state,i=t.analytics,o=t.options,s=t.metrics,c=Ni(e,n,a),u={name:a,state:r,analytics:i};return f(c)||Si(u,c),He([xi(o,Sr),Oi(s,Tr)]).then(function(e){return Ti(u,e)})}function Ri(e){var t=e.request,n=e.response.prefetch;if(!d(n))return Fe([]);var a=n.mboxes;if(!Tl(a)||T(a))return Fe([]);var r=g(Ov,a),i=function i(e){return Li(t,e)};return He(D(i,r)).then(wv)}function Mi(e){var t=e.prefetch,n=(void 0===t?{}:t).views,a=void 0===n?[]:n;return T(a)?null:a[0]}function Fi(e,t){var n=t.name,a=t.state,r=t.analytics,i=t.options,o=t.metrics,s=Mi(e),c={name:n.toLowerCase(),state:a,analytics:r};return f(s)||Si(c,s),He([xi(i,Sr),Oi(o,jr)]).then(function(e){return Ti(c,e)})}function Ui(e){var t=e.request,n=e.response.prefetch;if(!d(n))return Fe([]);var a=n.views;if(!Tl(a)||T(a))return Fe([]);var r=g(Av,a),i=function i(e){return Fi(t,e)};return He(D(i,r)).then(wv)}function qi(e){var t=e.response.prefetch;return d(t)?Oi(t.metrics,jr):Fe([])}function Hi(e){var t=e.response,n=t.remoteMboxes,a=t.remoteViews,r=t.decisioningMethod,i={};return d(n)&&(i.remoteMboxes=n),d(a)&&(i.remoteViews=a),y(r)&&(i.decisioningMethod=r),Fe(i)}function Bi(e){return f(e)||x(e.id)?Fe(null):Fe({id:e.id})}function Wi(e){var t=e.response.notifications;return Tl(t)?He(D(Bi,t)).then(wv):Fe([])}function zi(e){var t=e[0],n=e[1],a=e[2],r=e[3],i=e[4],o=e[5],s=e[6],c={},u={};d(t)&&(u.pageLoad=t),T(n)||(u.mboxes=n);var l={};return T(a)||(l.mboxes=a),T(r)||(l.views=r),T(i)||(l.metrics=i),T(u)||(c.execute=u),T(l)||(c.prefetch=l),T(o)||(c.meta=o),T(s)||(c.notifications=s),c}function Gi(e){var t=m([Ir,Or,Ar])(e);return He([Ai(t),Ii(t),Ri(t),Ui(t),qi(t),Hi(t),Wi(t)]).then(zi)}function Ji(e){return!T(Ci(e))}function $i(e){var t=Pi(e),n={};return T(t)||(n.responseTokens=t),n}function Yi(e){var t=$i(e),n=ki(e);return T(n)||(t.analyticsDetails=n),Se(bp,e),gt(t,Ji(e)),Fe(e)}function Ki(e,t){var n=$i(t);return n.mbox=e,Se(bp,t),gt(n,Ji(t)),Fe(t)}function Qi(e){return ke(hp,e),vt({error:e}),Ue(e)}function Xi(e,t){return ke(hp,t),vt({mbox:e,error:t}),Ue(t)}function Zi(t){var e=nt()[lm],n=t.mbox,a=t.timeout,r=d(t.params)?t.params:{},i=function i(e){return Ki(n,e)},o=function o(e){return Xi(n,e)},s={},c={};n===e?c.pageLoad={}:c.mboxes=[{index:0,name:n}],s.execute=c;var u=mr(n,s);if(!T(u)){var l={};l.analytics=u,s.experienceCloud=l}return ft({mbox:n}),vr(s,r).then(function(e){return Pr(t,e,a)}).then(Gi).then(i)["catch"](o)}function eo(t){var e=nt()[lm],n=t.consumerId,a=void 0===n?e:n,r=t.request,i=t.timeout,o=mr(a,r),s=function s(e){return Yi(e)},c=function c(e){return Qi(e)};if(!T(o)){var u=r.experienceCloud||{};u.analytics=o,r.experienceCloud=u}return ft({}),vr(r,{}).then(function(e){return Pr(t,e,i)}).then(Gi).then(s)["catch"](c)}function to(e,t){return St(t).addClass(e)}function no(e,t){return St(t).css(e)}function ao(e,t){return St(t).attr(e)}function ro(e,t,n){return St(n).attr(e,t)}function io(e,t){return St(t).removeAttr(e)}function oo(e,t,n){var a=ao(e,n);Fl(a)&&(io(e,n),ro(t,a,n))}function so(e,t){return Fl(ao(e,t))}function co(e){return new Error("Could not find: "+e)}function uo(a,r,i){return Me(function(t,e){var n=De(function(){var e=i(a);T(e)||(n.disconnect(),t(e))});q(function(){n.disconnect(),e(co(a))},r),n.observe(document,{childList:!0,subtree:!0})})}function lo(){return document[Qv]===Xv}function po(a,r,i){return Me(function(t,e){function n(){var e=i(a);T(e)?window.requestAnimationFrame(n):t(e)}n(),q(function(){e(co(a))},r)})}function mo(a,r,i){return Me(function(t,e){function n(){var e=i(a);T(e)?q(n,Zv):t(e)}n(),q(function(){e(co(a))},r)})}function fo(e,t,n){var a=1<arguments.length&&t!==undefined?arguments[1]:nt()[bm],r=2<arguments.length&&n!==undefined?arguments[2]:St,i=r(e);return T(i)?Ie()?uo(e,a,r):lo()?po(e,a,r):mo(e,a,r):Fe(i)}function go(e){return ao(Hd,e)}function vo(e){return so(Hd,e)}function ho(e){return h(function(e){return oo(Jd,Hd,e)},S(Dt(tp,e))),e}function bo(e){return h(function(e){return oo(Hd,Jd,e)},S(Dt(tp,e))),e}function yo(e){return Se(Ap,e),ao(Jd,ro(Jd,e,xt("<"+tp+"/>")))}function _o(e){var t=g(vo,S(Dt(tp,e)));return T(t)||h(yo,D(go,t)),e}function wo(e){return m([ho,_o,bo])(e)}function Po(e){var t=ao(Jd,e);return Fl(t)?t:null}function Co(e){return g(Fl,D(Po,S(Dt(Gd,e))))}function Eo(e){return L(function(e,t){return e.then(function(){return Se(Lp,t),Ve({remoteScript:t}),Sl(t)})},Fe(),e)}function ko(e){return e}function So(e,t){return ke(vp,t),Ve({action:e,error:t}),e}function To(e,t){var n,a=St(t[dd]),r=wo(jt(t[ad])),i=Co(r);try{n=Fe(e(a,r))}catch(o){return Ue(So(t,o))}return T(i)?n.then(function(){return ko(t)})["catch"](function(e){return So(t,e)}):n.then(function(){return Eo(i)}).then(function(){return ko(t)})["catch"](function(e){return So(t,e)})}function jo(e){var t=jt(e);return I("",L(function(e,t){return e.push(rn(jt(t))),e},[],S(Dt(eh,t))))}function xo(e){var t=Pl({},e),n=t[ad];if(x(n))return t;var a=St(t[dd]);return It(Qd,a)&&(t[nd]=Od,t[ad]=jo(n)),t}function Oo(e){return e.indexOf("px")===e.length-2?e:e+"px"}function Ao(e,t){return an(rn(t),e)}function Vo(e){return Se(_p,e),To(Ao,e)}function Io(e){var t=St(e[dd]),n=e[ad];return Se(_p,e),Ve({action:e}),on(n,t),Fe(e)}function Do(e,t){return tn(rn(t),e)}function No(e){return Se(_p,e),To(Do,e)}function Lo(e,t){return nn(rn(t),e)}function Ro(e){return Se(_p,e),To(Lo,e)}function Mo(e,t){var n=Vt(e);return Xt(en(rn(t),e)),n}function Fo(e){return Se(_p,e),To(Mo,e)}function Uo(e,t){return Ot(en(rn(t),e))}function qo(e){return Se(_p,e),To(Uo,e)}function Ho(e,t){return At(Zt(rn(t),e))}function Bo(e){return Se(_p,e),To(Ho,e)}function Wo(e,t){return Vt(en(rn(t),e))}function zo(e){return Se(_p,e),To(Wo,e)}function Go(e){var t=e[ad],n=St(e[dd]);return Se(_p,e),Ve({action:e}),io(Jd,n),ro(Jd,yo(t),n),Fe(e)}function Jo(e){var t=e[ad],n=St(e[dd]);return Se(_p,e),Ve({action:e}),h(function(e,t){return ro(t,e,n)},t),Fe(e)}function $o(e,t,a){h(function(n){h(function(e,t){return n.style.setProperty(t,e,a)},t)},S(e))}function Yo(e){var t=St(e[dd]),n=e[ad],a=n[ld];return Se(_p,e),Ve({action:e}),x(a)?no(n,t):$o(t,n,a),Fe(e)}function Ko(e){var t=St(e[dd]),n=e[ad];return n[id]=Oo(n[id]),n[rd]=Oo(n[rd]),Se(_p,e),Ve({action:e}),no(n,t),Fe(e)}function Qo(e){var t=St(e[dd]),n=e[ad];return n[od]=Oo(n[od]),n[sd]=Oo(n[sd]),Se(_p,e),Ve({action:e}),no(n,t),Fe(e)}function Xo(e){var t=St(e[dd]);return Se(_p,e),Ve({action:e}),Xt(t),Fe(e)}function Zo(e){var t=St(e[dd]),n=e[ad],a=Number(n[cd]),r=Number(n[ud]);if(isNaN(a)&&isNaN(r))return Se(Op,e),Ue(e);var i=S(Nt(t)),o=i[a],s=i[r];return Tt(o)&&Tt(s)?(Se(_p,e),Ve({action:e}),a<r?Zt(o,s):en(o,s),Fe(e)):(Se(xp,e),Ue(e))}function es(e){var t=xo(e);switch(t[nd]){case md:return Vo(t);case gd:return Io(t);case Od:return No(t);case Vd:return Ro(t);case Dd:return Fo(t);case jd:return qo(t);case xd:return Bo(t);case Ed:return zo(t);case hd:return Jo(t);case bd:return Go(t);case yd:return Yo(t);case wd:return Ko(t);case Pd:return Qo(t);case Cd:return Xo(t);case _d:return Zo(t);default:return Fe(t)}}function ts(e){return e[nd]===Sd||e[nd]===Td}function ns(e){var t=e[dd];return Fl(t)||Pt(t)}function as(e){var t=e.key;if(!x(t)&&ns(e)){var n=e[dd];ro(th,t,n)}}function rs(e){var t=e[pd];x(t)||bn(t)}function is(e){if(ns(e)){var t=e[dd];ts(e)?to(rm,t):(to(am,t),rs(e))}else rs(e)}function os(e){h(is,e)}function ss(e){var t=e.key;if(x(t))return!0;if(e[nd]===Ed)return e[Ym];var n=e[dd],a=ao(th,n);return a!==t||a===t&&!e[Ym]}function cs(n){return ss(n)?es(n).then(function(){return Se(yp,n),Ve({action:n}),as(n),is(n),n})["catch"](function(e){ke(vp,e),Ve({action:n,error:e}),is(n);var t=Pl({},n);return t[Rp]=!0,t}):(is(n),n)}function us(e){var t=g(function(e){return!0===e[Rp]},e);return T(t)?Fe():(os(t),Ue(e))}function ls(t){return fo(t[dd]).then(function(){return t})["catch"](function(){var e=Pl({},t);return e[Rp]=!0,e})}function ds(e){return ls(e).then(cs)}function ps(e){return He(D(ds,e)).then(us)}function ms(e,t,n){return St(n).on(e,t)}function fs(e,t,n){return St(n).off(e,t)}function gs(e){return fo(e[dd]).then(function(){return Ve({metric:e}),Pl({found:!0},e)})["catch"](function(){return ke(nh,e),Ve({metric:e,message:nh}),e})}function vs(e){var t=e.name,n=Bn(Qm)||{};n[t]=e,Hn(Qm,n)}function hs(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},a=n.page,r=void 0===a||a,i=(Bn(Qm)||{})[e];if(f(i))return i;var o=n.impressionId;return f(o)?i:Pl({page:r,impressionId:o},i)}function bs(e){h(vs,e)}function ys(e,t,n){return e[ah][rh](t,n)}function _s(e,t,n){var a={};a[af]=[rf];var r={};r[qv]=Uv,r[Hv]=t,r[Wv]=n,r[zv]=!0,r[Jv]=!1,r[Bv]=a;try{e(r)}catch(i){return!1}return!0}function ws(e){return ah in e&&rh in e[ah]}function Ps(e,t){return ws(window)?ys(window,e,t):_s($r,e,t)}function Cs(e){var t=mr(e,{}),n={context:{beacon:!0}};if(!T(t)){var a={};a.analytics=t,n.experienceCloud=a}return n}function Es(e,t,n){var a=hr(Cs(e),t);return a.notifications=n,a}function ks(e,t,n){return vr(Cs(e),t).then(function(e){return e.notifications=n,e})}function Ss(e,t,n){var a={id:U(),type:t,timestamp:N(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return T(n)||(a.tokens=n),a}function Ts(e,t,n){var a=e.name,r=e.state,i=Ss(e,t,n);return i.mbox={name:a,state:r},i}function js(e,t,n){var a=e.name,r=e.state,i=Ss(e,t,n);return i.view={name:a,state:r},i}function xs(e){var t=_r(nt());return Ps(t,JSON.stringify(e))?(Se(ih,t,e),!0):(ke(oh,t,e),!1)}function Os(e,t,n){var a=pa(nt()[lm]),r=Ss(cr({},a),t,[n]),i=Es(U(),a,[r]);Se(lh,e,r),Ve({source:e,event:t,request:i}),xs(i)}function As(e,t,n){var a=pa(e),r=Ss(cr({},a),t,[n]);r.mbox={name:e};var i=Es(U(),a,[r]);Se(dh,e,r),Ve({mbox:e,event:t,request:i}),xs(i)}function Vs(e){var t=nt()[lm],i=[],o=nf;if(h(function(e){var t=e.mbox,n=e.data;if(!f(n)){var a=n.eventTokens,r=void 0===a?[]:a;T(r)||i.push(Ts(t,o,r))}},e),!T(i)){var n=Es(t,{},i);Se(uh,i),Ve({source:mh,event:fh,request:n}),xs(n)}}function Is(e,t,n){var a=pa(nt()[lm]),r=Ss(cr({},a),t,[n]);r.view={name:e};var i=Es(U(),a,[r]);Se(ph,e,r),Ve({view:e,event:t,request:i}),xs(i)}function Ds(e){var t=e.viewName,n=e.impressionId,a=pa(nt()[lm]),r=Ss(cr({},a),nf,[]);r.view={name:t},Se(sh,t),ks(t,a,[r]).then(function(e){e.impressionId=n,Ve({view:t,event:gh,request:e}),xs(e)})}function Ns(e){if(!f(e)){var t=e.view,n=e.data,a=(void 0===n?{}:n).eventTokens,r=void 0===a?[]:a,i=t.name,o=t.impressionId,s=hs(i);if(!f(s)){var c=Es(i,{},[js(s,nf,r)]);c.impressionId=o,Se(ch,i,r),Ve({view:i,event:fh,request:c}),xs(c)}}}function Ls(e,t){e===Kd&&to(rm,t)}function Rs(e,t){return!f(vh[e])&&!f(vh[e][t])}function Ms(e,a,r){if(f(vh[e])){var t=l(vh);T(t)||h(function(n){h(function(e){var t=vh[n][e];fs(a,t,r)},l(vh[n])),delete vh[n]},t)}}function Fs(e,t,n){vh[e]=vh[e]||{},vh[e][t]=n}function Us(e,t,n,a){var r=n.type,i=n.selector,o=n.eventToken,s=_(r+":"+i+":"+o),c=function c(){return a(e,r,o)};Ls(r,i),t?Rs(e,s)||(Ms(e,r,i),Fs(e,s,c),ms(r,c,i)):ms(r,c,i)}function qs(t,n,e,a){return He(D(gs,e)).then(function(e){return h(function(e){return Us(t,n,e,a)},g(function(e){return e.found},e)),_h()})["catch"](wh)}function Hs(e){return qs(e.name,!1,yh(e),As)}function Bs(e){return qs(e.name,!0,yh(e),Is)}function Ws(e){return qs(hh,!1,yh(e),Os)}function zs(e){return qs(bh,!1,yh(e),Os)}function Gs(e){var t=D(Ch,e);vn(Pv(t))}function Js(e){var t=D(Ch,e);hn(wv(t))}function $s(e){var t=g(yv,Cv(e));return v(D(Ph,t))}function Ys(e){return d(e)&&e.type!==vd}function Ks(e,t,n){return D(function(e){return Pl({key:t,page:n},e)},g(Ys,e))}function Qs(e,t,n){var a=e.eventToken,r=e.responseTokens;return ps(Ks(e.content,t,n)).then(function(){return Eh({eventToken:a,responseTokens:r})})["catch"](kh)}function Xs(e){return d(e)&&e.type!==Bd}function Zs(e,t){return D(e,g(Xs,Cv(t)))}function ec(e,t,n){var a=u({status:qp},e,t),r=D(Iv,g(bv,n)),i={};return T(r)||(a.status=Rp,i.errors=r),T(i)||(a.data=i),a}function tc(e,t,n){var a=u({status:qp},e,t),r=D(Iv,g(bv,n)),i=D(Iv,g(Sh,n)),o=wv(D(kv,i)),s=wv(D(Sv,i)),c={};return T(r)||(a.status=Rp,c.errors=r),T(o)||(c.eventTokens=o),T(s)||(c.responseTokens=s),T(c)||(a.data=c),a}function nc(t,e,n){var a=function a(e){return Qs(e,!0)};return He(Zs(a,t)).then(e).then(function(e){return n(t),e})}function ac(t,n,a,r){var i=n.name,o=function o(e){return Qs(e,i,a)};return He(Zs(o,n)).then(function(e){return tc(t,n,e)}).then(function(e){return r(n),e})}function rc(t){var n=function n(e){return ec(Wp,t,e)};return nc(t,n,Hs)}function ic(e){return ac(Wp,e,!0,Hs)}function oc(e){Gs($s(e))}function sc(e,t){if(!(1<arguments.length&&t!==undefined&&arguments[1])){var n=e.execute,a=(void 0===n?{}:n).pageLoad,r=void 0===a?{}:a;T(r)||oc(r)}}function cc(e){var t=e.prefetch,n=(void 0===t?{}:t).views,a=void 0===n?[]:n;T(a)||Js(v(D($s,a)))}function uc(e){Gs($s(e)),yn()}function lc(t){var n=function n(e){return ec(tm,t,e)};return nc(t,n,Ws)}function dc(e){return He(D(rc,e))}function pc(e){return He(D(ic,e))}function mc(e){return He([zs(e)]).then(ec)}function fc(e){var t=e.page;return ac(Km,e,t,Bs)}function gc(){}function vc(){return new Th}function hc(e,t,n){e.emit(t,n)}function bc(e,t,n){e.on(t,n)}function yc(e,t){hc(xh,e,t)}function _c(e,t){bc(xh,e,t)}function wc(e){return{type:kd,content:e.url}}function Pc(e){var t={};return t.type=md,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Cc(e){var t={};return t.type=gd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Ec(e){var t={};return t.type=Od,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function kc(e){var t={};return t.type=Vd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Sc(e){var t={};return t.type=Dd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Tc(e){var t={};return t.type=jd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function jc(e){var t={};return t.type=xd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function xc(e){var t={};return t.type=Ed,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Oc(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===Jd)return t.type=bd,t.content=e.value,t;t.type=hd;var n={};return n[e.attribute]=e.value,t.content=n,t}function Ac(e){var t=e.style,n=void 0===t?{}:t,a={};return a.selector=e.selector,a.cssSelector=e.cssSelector,f(n.left)||f(n.top)?f(n.width)||f(n.height)?a.type=yd:a.type=wd:a.type=Pd,a.content=n,a}function Vc(e){var t={};return t.type=Cd,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Ic(e){var t={};t.from=e.from,t.to=e.to;var n={};return n.type=_d,n.selector=e.selector,n.cssSelector=e.cssSelector,n.content=t,n}function Dc(e){return Fl(e.selector)&&Fl(e.cssSelector)}function Nc(e){var t={};if(T(e))return t;var n=[],a=[],r=[];h(function(e){switch(e.action){case fd:Dc(e)?r.push(Pc(e)):n.push({type:Wd,content:e.content});break;case vd:T(e.content)||h(function(e){return n.push({type:Bd,content:e})},e.content);break;case gd:r.push(Cc(e));break;case Ad:r.push(Ec(e));break;case Id:r.push(kc(e));break;case Nd:r.push(Sc(e));break;case jd:r.push(Tc(e));break;case xd:r.push(jc(e));break;case Ed:r.push(xc(e));break;case hd:r.push(Oc(e));break;case yd:r.push(Ac(e));break;case Cd:r.push(Vc(e));break;case _d:r.push(Ic(e));break;case kd:n.push(wc(e));break;case Sd:a.push({type:Kd,selector:e.selector,eventToken:e.clickTrackId})}},e);var i={};if(!T(r)&&n.push({type:Yp,content:r}),!T(n)&&(i.options=n),!T(a)&&(i.metrics=a),T(i))return t;var o={};return o.pageLoad=i,t.execute=o,t}function Lc(e,t){var n={};if(T(t))return n;var a=[],r=[];h(function(e){switch(e.action){case fd:a.push({type:Wd,content:e.content});break;case vd:T(e.content)||h(function(e){return a.push({type:Bd,content:e})},e.content);break;case kd:a.push(wc(e));break;case Td:r.push({type:Kd,eventToken:e.clickTrackId})}},t);var i={name:e};if(!T(a)&&(i.options=a),!T(r)&&(i.metrics=r),T(i))return n;var o={},s=[i];return o.mboxes=s,n.execute=o,n}function Rc(e,t,n){return n?Nc(t):Lc(e,t)}function Mc(e){var t=e.status,n=e.data,a={status:t,pageLoad:!0};return f(n)||(a.data=n),a}function Fc(e){var t=e.status,n=e.mbox,a=e.data,r={status:t,mbox:n.name};return f(a)||(r.data=a),r}function Uc(e){var t=e.status,n=e.view,a=e.data,r={status:t,view:n.name};return f(a)||(r.data=a),r}function qc(e){var t=e.status,n=e.data,a={status:t,prefetchMetrics:!0};return f(n)||(a.data=n),a}function Hc(e){if(f(e))return[null];var t=D(Mc,[e]);return Dh(t)&&ke(Oh,e),t}function Bc(e){if(f(e))return[null];var t=D(Fc,e);return Dh(t)&&ke(Ah,e),t}function Wc(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:Vs;if(f(e))return[null];var a=D(Fc,e);return Dh(a)&&ke(Ah,e),n(e),a}function zc(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:Ns;if(f(e))return[null];var a=D(Uc,[e]);return Dh(a)&&ke(Vh,e),e.view.page&&n(e),a}function Gc(e){if(f(e))return[null];var t=D(qc,[e]);return Dh(t)&&ke(Ih,e),t}function Jc(e){var t=v([Hc(e[0]),Bc(e[1]),Wc(e[2]),Gc(e[3])]),n=g(gv,t),a=g(bv,n);return T(a)?Fe(n):Ue(a)}function $c(e){return Ue(e)}function Yc(a,e){if(!T(e)){var t=e.options;T(t)||h(function(e){if(e.type===Wd){var t=md,n=e.content;e.type=Yp,e.content=[{type:t,selector:a,content:n}]}},t)}}function Kc(t,e){var n=e.metrics;if(!T(n)){var a=e.name;h(function(e){e.name=a,e.selector=e.selector||t},n)}}function Qc(t,e){var n=Pl({},e),a=n.execute,r=void 0===a?{}:a,i=n.prefetch,o=void 0===i?{}:i,s=r.pageLoad,c=void 0===s?{}:s,u=r.mboxes,l=void 0===u?[]:u,d=o.mboxes,p=void 0===d?[]:d;return Yc(t,c),h(function(e){return Yc(t,e)},l),h(function(e){return Kc(t,e)},l),h(function(e){return Yc(t,e)},p),h(function(e){return Kc(t,e)},p),n}function Xc(e){var t=e.prefetch,n=(void 0===t?{}:t).views,a=void 0===n?[]:n;T(a)||bs(a)}function Zc(e){var t=[],n=e.execute,a=void 0===n?{}:n,r=a.pageLoad,i=void 0===r?{}:r,o=a.mboxes,s=void 0===o?[]:o;T(i)?t.push(Fe(null)):t.push(lc(i)),T(s)?t.push(Fe(null)):t.push(dc(s));var c=e.prefetch,u=void 0===c?{}:c,l=u.mboxes,d=void 0===l?[]:l,p=u.metrics,m=void 0===p?[]:p;return T(d)?t.push(Fe(null)):t.push(pc(d)),Tl(m)&&!T(m)?t.push(mc(u)):t.push(Fe(null)),gn(),He(t).then(Jc)["catch"]($c)}function eu(e,t){q(function(){return e.location.replace(t)})}function tu(e){return Fl(e)?e:Pt(e)?e:Qd}function nu(e){to(am,e)}function au(e){var t=e.mbox,n=e.selector,a=e.offer,r=nt(),i=t===r[lm];if(T(a))return Se(Dp),nu(n),gn(),void _t({mbox:t});var o=Qc(n,Rc(t,a,i)),s=Ci(o);if(!T(s)){var c=s.url;return Se(Np,s),wt({url:c}),void eu(window,c)}ht({mbox:t}),sc(o),Zc(o).then(function(e){T(e)||bt({mbox:t,execution:e})})["catch"](function(e){return yt({error:e})})}function ru(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=t.prefetch,a=void 0===n?{}:n,r=t.execute,i=void 0===r?{}:r,o=i.pageLoad,s=void 0===o?{}:o,c=i.mboxes,u=void 0===c?[]:c,l=a.pageLoad,d=void 0===l?{}:l,p=a.views,m=void 0===p?[]:p,f=a.mboxes,g=void 0===f?[]:f;return T(s)&&T(u)&&T(d)&&T(m)&&T(g)}function iu(e,t){var n=1<arguments.length&&t!==undefined&&arguments[1],a=e.selector,r=e.response;if(ru(r))return Se(Dp),nu(a),gn(),_t({}),yc(Sf),Fe();var i=Qc(a,r),o=Ci(i);if(T(o))return ht({}),Xc(i),yc(kf),sc(i,n),Zc(i).then(function(e){T(e)||bt({execution:e})})["catch"](function(e){return yt({error:e})});var s=o.url;return Se(Np,o),wt({url:s}),yc(Tf),eu(window,s),Fe()}function ou(e){var t=e[Pf];if(T(t))return!1;var n=t.request,a=t.response;return!T(n)&&!T(a)}function su(e){return e[Pf]}function cu(e){ke(Nh,sf,e),yc(Sf),Ve({source:Nh,error:e}),gn()}function uu(e,t){var n=1<arguments.length&&t!==undefined&&arguments[1],a={selector:Qd,response:e};Se(Nh,Xp,e),Ve({source:Nh,response:e}),iu(a,n)["catch"](cu)}function lu(e,t){var n=Pl({},t),a=n.execute,r=n.prefetch,i=e[Wm],o=e[Bm];return a&&(n.execute.mboxes=null),a&&!i&&(n.execute.pageLoad=null),r&&(n.prefetch.mboxes=null),r&&!o&&(n.prefetch.views=null),n}function du(e){var t=su(e),n=t.request,a=t.response,r=!0;Se(Nh,df),Ve({source:Nh,serverState:t});var i=lu(e,a);sc(i),cc(i),Gi({request:n,response:i}).then(function(e){return uu(e,r)})["catch"](cu)}function pu(){if(!ye()&&!we())return ke(Nh,ap),void Ve({source:Nh,error:ap});var e=nt();if(ou(e))du(e);else{var t=e[Wm],n=e[Bm];if(!t&&!n)return Se(Nh,lf),void Ve({source:Nh,error:lf});fn();var a={};if(t){var r={pageLoad:{}};a.execute=r}if(n){var i={views:[{}]};a.prefetch=i}var o=e[um];Se(Nh,Zp,a),Ve({source:Nh,request:a});var s={request:a,timeout:o};$e()&&!Ye()?Qe().then(function(){eo(s).then(uu)["catch"](cu)})["catch"](cu):eo(s).then(uu)["catch"](cu)}}function mu(){var e={};return e[Up]=!0,e}function fu(e){var t={};return t[Up]=!1,t[Rp]=e,t}function gu(e){return x(e)?fu(dp):e.length>qd?fu(pp):mu()}function vu(e){if(!d(e))return fu(ip);var t=gu(e[Wp]);return t[Up]?c(e[qp])?c(e[Rp])?mu():fu(fp):fu(mp):t}function hu(e){if(!d(e))return fu(ip);var t=e.request;if(!d(t))return fu(op);var n=t.execute,a=t.prefetch;return d(n)||d(a)?mu():fu(cp)}function bu(e){if(!d(e))return fu(ip);var t=e.request;if(!d(t))return fu(op);var n=t.execute,a=t.prefetch,r=t.notifications;return d(n)||d(a)?fu(up):Tl(r)?mu():fu(lp)}function yu(e){if(!d(e))return fu(ip);var t=gu(e[Wp]);if(!t[Up])return t;var n=e[zp];return Tl(n)?mu():fu(gp)}function _u(e){return d(e)?d(e.response)?mu():fu(sp):fu(ip)}function wu(e){if(!d(e))return fu(ip);var t=gu(e[Wp]);return t[Up]?mu():t}function Pu(e){return{action:kd,url:e.content}}function Cu(e){var t={};return t.action=fd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Eu(e){var t={};return t.action=gd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ku(e){var t={};return t.action=Ad,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Su(e){var t={};return t.action=Id,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Tu(e){var t={};return t.action=Nd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function ju(e){var t={};return t.action=jd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function xu(e){var t={};return t.action=xd,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Ou(e){var t={};return t.action=Ed,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Au(e){var t=l(e.content)[0],n={};return n.action=hd,n.attribute=t,n.value=e.content[t],n.selector=e.selector,n.cssSelector=e.cssSelector,n}function Vu(e){var t={};return t.action=hd,t.attribute=Jd,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Iu(e){var t={};return t.action=yd,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Du(e){var t={};return t.action=yd,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Nu(e){var t={};return t.action=yd,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Lu(e){var t={};return t.action=Cd,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Ru(e){var t={};return t.action=_d,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Mu(e){var t=[];return h(function(e){switch(e.type){case md:t.push(Cu(e));break;case gd:t.push(Eu(e));break;case Od:t.push(ku(e));break;case Vd:t.push(Su(e));break;case Dd:t.push(Tu(e));break;case jd:t.push(ju(e));break;case xd:t.push(xu(e));break;case Ed:t.push(Ou(e));break;case hd:t.push(Au(e));break;case bd:t.push(Vu(e));break;case yd:t.push(Iu(e));break;case wd:t.push(Du(e));break;case Pd:t.push(Nu(e));break;case Cd:t.push(Lu(e));break;case _d:t.push(Ru(e));break;case kd:t.push(Pu(e))}},e),t}function Fu(e){if(T(e))return[];var t=[];return h(function(e){e.type===Kd&&(Vv(e)?t.push({action:Sd,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:Td,clickTrackId:e.eventToken}))},e),t}function Uu(e){if(T(e))return[];var t=[],n=[],a=[],r=e.options,i=void 0===r?[]:r,o=e.metrics,s=void 0===o?[]:o;h(function(e){switch(e.type){case Wd:t.push(e.content);break;case Bd:n.push(e.content);break;case kd:a.push(Pu(e));break;case Yp:a.push.apply(a,Mu(e.content))}},i),T(t)||a.push({action:fd,content:t.join("")}),T(n)||a.push({action:vd,content:n});var c=Fu(s);return T(c)||a.push.apply(a,c),a}function qu(e){var t=e.execute,n=void 0===t?{}:t,a=n.pageLoad,r=void 0===a?{}:a,i=n.mboxes,o=void 0===i?[]:i,s=[];return s.push.apply(s,Uu(r)),s.push.apply(s,v(D(Uu,o))),s}function Hu(e,t){var n=qu(t);e[qp](n)}function Bu(e,t){var n=t[Jp]||Fp;e[Rp](n,t)}function Wu(t){var e=vu(t),n=e[Rp];if(!e[Up])return ke(Lh,n),void Ve({source:Lh,options:t,error:n});if(!ye()&&!we())return q(t[Rp](Mp,ap)),ke(Lh,ap),void Ve({source:Lh,options:t,error:ap});var a=function a(e){return Hu(t,e)},r=function r(e){return Bu(t,e)};Se(Lh,t),Ve({source:Lh,options:t}),$e()&&!Ye()?Qe().then(function(){Zi(t).then(a)["catch"](r)}):Zi(t).then(a)["catch"](r)}function zu(e){var t=hu(e),n=t[Rp];return t[Up]?ye()||we()?(Se(Rh,e),Ve({source:Rh,options:e}),!$e()||Ye()?eo(e):Qe().then(function(){return eo(e)})):(ke(Rh,ap),Ve({source:Rh,options:e,error:ap}),Ue(new Error(ap))):(ke(Rh,n),Ve({source:Rh,options:e,error:n}),Ue(t))}function Gu(e){var t=tu(e.selector),n=yu(e),a=n[Rp];return n[Up]?ye()||we()?(e.selector=t,Se(Mh,e),Ve({source:Mh,options:e}),void au(e)):(ke(Mh,ap),Ve({source:Mh,options:e,error:ap}),void nu(t)):(ke(Mh,e,a),Ve({source:Mh,options:e,error:a}),void nu(t))}function Ju(e){var t=tu(e.selector),n=_u(e),a=n[Rp];return n[Up]?ye()||we()?(e.selector=t,Se(Fh,e),Ve({source:Fh,options:e}),iu(e)):(ke(Fh,ap),Ve({source:Fh,options:e,error:ap}),nu(t),Ue(new Error(ap))):(ke(Fh,e,a),Ve({source:Fh,options:e,error:a}),nu(t),Ue(n))}function $u(e){var t=nt()[lm],n=e.consumerId,a=void 0===n?t:n,r=e.request,i=bu(e),o=i[Rp];if(!i[Up])return ke(Uh,o),void Ve({source:Uh,options:e,error:o});if(!ye()&&!we())return ke(Uh,ap),void Ve({source:Uh,options:e,error:ap});Se(Uh,e),Ve({source:Uh,options:e});var s=Es(a,{},r.notifications);!$e()||Ye()?xs(s):ke(Uh,_f)}function Yu(e,t){var n=t[Wp],a=Pl({},t),r=d(t.params)?t.params:{};return a[$p]=Pl({},pa(n),r),a[um]=br(e,t[um]),a[qp]=c(t[qp])?t[qp]:Xl,a[Rp]=c(t[Rp])?t[Rp]:Xl,a}function Ku(e){var t=e[nd],n=e[dd];return Fl(t)&&(Fl(n)||Pt(n))}function Qu(e){var t=e.mbox,n=e.type,a=void 0===n?nf:n,r=d(e.params)?e.params:{},i=Pl({},pa(t),r),o=Ss(cr({},i),a,[]);if(o.mbox={name:t},xs(Es(t,i,[o])))return Se(Vp,e),void e[qp]();ke(Ip,e),e[Rp](Fp,Ip)}function Xu(e){if($e()&&!Ye())return ke(Ip,_f),void e[Rp](Rp,_f);Qu(e)}function Zu(e){return Xu(e),!e.preventDefault}function el(e){var t=e[dd],n=e[nd],a=S(St(t)),r=function r(){return Zu(e)};h(function(e){return ms(n,r,e)},a)}function tl(e){var t=wu(e),n=t[Rp];if(!t[Up])return ke(qh,n),void Ve({source:qh,options:e,error:n});var a=Yu(nt(),e);if(!ye()&&!we())return ke(qh,ap),q(a[Rp](Mp,ap)),void Ve({source:qh,options:e,error:ap});Se(qh,a),Ve({source:qh,options:a}),Ku(a)?el(a):Xu(a)}function nl(e){return uc(e),fc(e).then(zc).then(function(e){T(e)||bt({execution:e})})["catch"](function(e){ke(of,e),yt({error:e})})}function al(){for(;0<Bh.length;){var e=Bh.pop(),t=e.viewName,n=e.page,a=hs(t,e);f(a)?n&&Ds(e):nl(a)}}function rl(){Gh=zh,al()}function il(){_c(kf,rl),_c(Sf,rl),_c(Tf,rl)}function ol(e,t){var n={};return n.viewName=e,n.impressionId=U(),n.page=!0,T(t)||(n.page=!!t.page),n}function sl(e){Bh.push(e),Gh!==Wh&&al()}function cl(e,t){if(nt()[Bm]){if(!y(e)||x(e))return ke(Hh,cf,e),void Ve({source:Hh,view:e,error:cf});var n=e.toLowerCase(),a=ol(n,t);if(we())return Se(Hh,n,a),void Rt(a);Se(Hh,n,a),Ve({source:Hh,view:n,options:a}),sl(a)}else ke(Hh,uf)}function ul(){ke($h,arguments)}function ll(){ke(Yh,arguments)}function dl(){ke(Kh,arguments)}function pl(){ke(Qh,arguments)}function ml(e){e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:Xl,getOffers:Zl,applyOffer:Xl,applyOffers:Zl,sendNotifications:Xl,trackEvent:Xl,triggerView:Xl,registerExtension:Xl,init:Xl},e.mboxCreate=Xl,e.mboxDefine=Xl,e.mboxUpdate=Xl}function fl(e,t,n){if(e.adobe&&e.adobe.target&&"undefined"!=typeof e.adobe.target.getOffer)ke(rp);else{Q(n);var a=nt(),r=a[pm];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=r,e.adobe.target.event={LIBRARY_LOADED:Kf,REQUEST_START:Qf,REQUEST_SUCCEEDED:Xf,REQUEST_FAILED:Zf,CONTENT_RENDERING_START:eg,
CONTENT_RENDERING_SUCCEEDED:tg,CONTENT_RENDERING_FAILED:ng,CONTENT_RENDERING_NO_OFFERS:ag,CONTENT_RENDERING_REDIRECT:rg},!a[im])return ml(e),void ke(ap);Oe(),Ft(),Jt(e),Kt(e),e.adobe.target.getOffer=Wu,e.adobe.target.getOffers=zu,e.adobe.target.applyOffer=Gu,e.adobe.target.applyOffers=Ju,e.adobe.target.sendNotifications=$u,e.adobe.target.trackEvent=tl,e.adobe.target.triggerView=cl,e.adobe.target.registerExtension=ul,e.mboxCreate=ll,e.mboxDefine=dl,e.mboxUpdate=pl,mt()}}var gl,vl,hl,bl,yl,_l,wl,Pl=a(n("@adobe/reactor-object-assign")),Cl=a(n("@adobe/reactor-cookie")),El=a(n("@adobe/reactor-query-string")),kl=a(n("@adobe/reactor-promise")),Sl=a(n("@adobe/reactor-load-script")),Tl=Array.isArray,jl=Object.prototype.toString,xl="[object Function]",Ol=function Ol(e,t){return t.forEach(e)},Al=function Al(t,n){Ol(function(e){return t(n[e],e)},l(n))},Vl=function Vl(e,t){return t.filter(e)},Il=function Il(n,e){var a={};return Al(function(e,t){n(e,t)&&(a[t]=e)},e),a},Dl="[object String]",Nl=9007199254740991,Ll=function Ll(e,t){return t.map(e)},Rl=Object.prototype.hasOwnProperty,Ml=String.prototype.trim,Fl=function Fl(e){return!x(e)},Ul="[object Number]",ql="[object Object]",Hl=Function.prototype,Bl=Object.prototype,Wl=Hl.toString,zl=Bl.hasOwnProperty,Gl=Wl.call(Object),Jl=function Jl(n,e){var a={};return Al(function(e,t){a[t]=n(e,t)},e),a},$l=function $l(e,t,n){return n.reduce(e,t)},Yl=function Yl(n,e,t){var a=e;return Al(function(e,t){a=n(a,e,t)},t),a},Kl=Array.prototype.reverse,Ql={ON_DEVICE:"on-device",SERVER_SIDE:"server-side",HYBRID:"hybrid"},Xl=function Xl(){return undefined},Zl=function Zl(e){return Promise.resolve(e)},ed="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},td=(B(function(o){(function(){var t,n,e,a,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?o.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(o.exports=function(){return(t()-r)/1e6},n=process.hrtime,a=(t=function t(){var e;return 1e9*(e=n())[0]+e[1]})(),i=1e9*process.uptime(),r=a-i):Date.now?(o.exports=function(){return Date.now()-e},e=Date.now()):(o.exports=function(){return(new Date).getTime()-e},e=(new Date).getTime())}).call(ed)}),W),nd="type",ad="content",rd="height",id="width",od="left",sd="top",cd="from",ud="to",ld="priority",dd="selector",pd="cssSelector",md="setHtml",fd="setContent",gd="setText",vd="setJson",hd="setAttribute",bd="setImageSource",yd="setStyle",_d="rearrange",wd="resize",Pd="move",Cd="remove",Ed="customCode",kd="redirect",Sd="trackClick",Td="signalClick",jd="insertBefore",xd="insertAfter",Od="appendHtml",Ad="appendContent",Vd="prependHtml",Id="prependContent",Dd="replaceHtml",Nd="replaceContent",Ld="mboxDebug",Rd="mboxDisable",Md="mboxEdit",Fd="at_check",Ud="true",qd=250,Hd="data-at-src",Bd="json",Wd="html",zd="dynamic",Gd="script",Jd="src",$d="id",Yd="class",Kd="click",Qd="head",Xd="script",Zd="style",ep="link",tp="img",np="div",ap='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',rp="Adobe Target has already been initialized.",ip="options argument is required",op="request option is required",sp="response option is required",cp="execute or prefetch is required",up="execute or prefetch is not allowed",lp="notifications are required",dp="mbox option is required",pp="mbox option is too long",mp="success option is required",fp="error option is required",gp="offer option is required",vp="Unexpected error",hp="request failed",bp="request succeeded",yp="Action rendered successfully",_p="Rendering action",wp="Action has no content",Pp="Action has no attributes",Cp="Action has no CSS properties",Ep="Action has no height or width",kp="Action has no left, top or position",Sp="Action has no from or to",Tp="Action has no url",jp="Action has no image url",xp="Rearrange elements are missing",Op='Rearrange has incorrect "from" and "to" indexes',Ap="Loading image",Vp="Track event request succeeded",Ip="Track event request failed",Dp="No actions to be rendered",Np="Redirect action",Lp="Script load",Rp="error",Mp="warning",Fp="unknown",Up="valid",qp="success",Hp="render",Bp="metric",Wp="mbox",zp="offer",Gp="name",Jp="status",$p="params",Yp="actions",Kp="responseTokens",Qp="data",Xp="response",Zp="request",em="provider",tm="pageLoad",nm="at-flicker-control",am="at-element-marker",rm="at-element-click-tracking",im="enabled",om="clientCode",sm="imsOrgId",cm="serverDomain",um="timeout",lm="globalMboxName",dm="globalMboxAutoCreate",pm="version",mm="defaultContentHiddenStyle",fm="bodyHiddenStyle",gm="bodyHidingEnabled",vm="deviceIdLifetime",hm="sessionIdLifetime",bm="selectorsPollingTimeout",ym="visitorApiTimeout",_m="overrideMboxEdgeServer",wm="overrideMboxEdgeServerTimeout",Pm="optoutEnabled",Cm="secureOnly",Em="supplementalDataIdParamTimeout",km="authoringScriptUrl",Sm="scheme",Tm="cookieDomain",jm="mboxParams",xm="globalMboxParams",Om="mboxSession",Am="PC",Vm="mboxEdgeCluster",Im="session",Dm="Traces",Nm="settings",Lm="client"+Dm,Rm="server"+Dm,Mm="___target_traces",Fm="targetGlobalSettings",Um="dataProvider",qm=Um+"s",Hm="endpoint",Bm="viewsEnabled",Wm="pageLoadEnabled",zm="authState",Gm="authenticatedState",Jm="integrationCode",$m="primary",Ym="page",Km="view",Qm="views",Xm="options",Zm="metrics",ef="eventToken",tf="viewName",nf="display",af="Content-Type",rf="text/plain",of="View rendering failed",sf="View delivery error",cf="View name should be a non-empty string",uf="Views are not enabled",lf="Page load disabled",df="Using server state",pf="adobe",mf="optIn",ff="isApproved",gf="fetchPermissions",vf="Categories",hf="TARGET",bf="ANALYTICS",yf="optinEnabled",_f="Adobe Target is not opted in",wf="analyticsLogging",Pf="serverState",Cf="cspScriptNonce",Ef="cspStyleNonce",kf="cache-updated-event",Sf="no-offers-event",Tf="redirect-offer-event",jf="None",xf="web",Of="file:",Af=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,Vf=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,If={},Df=[im,om,sm,cm,Tm,um,jm,xm,mm,"defaultContentVisibleStyle",vm,fm,gm,bm,ym,_m,wm,Pm,yf,Cm,Em,km,"urlSizeLimit",Hm,Wm,Bm,wf,Pf,"decisioningMethod","pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment","telemetryEnabled","cdnBasePath",Cf,Ef,lm],Nf=El.parse,Lf=El.stringify,Rf=document.createElement("a"),Mf={},Ff=Cl.get,Uf=Cl.set,qf=Cl.remove,Hf="mbox",Bf="AT:",Wf="1",zf=(gl=window,function(d){function p(e){return e._zid||(e._zid=t++)}function o(e,t,n,a){if((t=m(t)).ns)var r=i(t.ns);return(C[p(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!n||p(e.fn)===p(n))&&(!a||e.sel==a)})}function m(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function i(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function f(e,t){return e.del&&!n&&e.e in a||!!t}function g(e){return E[e]||n&&a[e]||e}function v(i,e,t,o,s,c,u){var n=p(i),l=C[n]||(C[n]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return d(document).ready(t);var n=m(e);n.fn=t,n.sel=s,n.e in E&&(t=function r(e){var t=e.relatedTarget;if(!t||t!==this&&!d.contains(this,t))return n.fn.apply(this,arguments)});var a=(n.del=c)||t;n.proxy=function(e){if(!(e=b(e)).isImmediatePropagationStopped()){e.data=o;var t=a.apply(i,e._args==_?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},n.i=l.length,l.push(n),"addEventListener"in i&&i.addEventListener(g(n.e),n.proxy,f(n,u))})}function h(t,e,n,a,r){var i=p(t);(e||"").split(/\s/).forEach(function(e){o(t,e,n,a).forEach(function(e){delete C[i][e.i],"removeEventListener"in t&&t.removeEventListener(g(e.e),e.proxy,f(e,r))})})}function b(a,r){if(r||!a.isDefaultPrevented){r||(r=a),d.each(l,function(e,t){var n=r[e];a[e]=function(){return this[t]=c,n&&n.apply(r,arguments)},a[t]=k});try{a.timeStamp||(a.timeStamp=(new Date).getTime())}catch(e){}(r.defaultPrevented!==_?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(a.isDefaultPrevented=c)}return a}function y(e){var t,n={originalEvent:e};for(t in e)u.test(t)||e[t]===_||(n[t]=e[t]);return b(n,e)}var _,t=1,w=Array.prototype.slice,r=d.isFunction,P=function P(e){return"string"==typeof e},C={},s={},n="onfocusin"in gl,a={focus:"focusin",blur:"focusout"},E={mouseenter:"mouseover",mouseleave:"mouseout"};s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",d.event={add:v,remove:h},d.proxy=function(e,t){var n=2 in arguments&&w.call(arguments,2);if(r(e)){var a=function a(){return e.apply(t,n?n.concat(w.call(arguments)):arguments)};return a._zid=p(e),a}if(P(t))return n?(n.unshift(e[t],e),d.proxy.apply(null,n)):d.proxy(e[t],e);throw new TypeError("expected function")},d.fn.bind=function(e,t,n){return this.on(e,t,n)},d.fn.unbind=function(e,t){return this.off(e,t)},d.fn.one=function(e,t,n,a){return this.on(e,t,n,a,1)};var c=function c(){return!0},k=function k(){return!1},u=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,l={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};d.fn.delegate=function(e,t,n){return this.on(t,e,n)},d.fn.undelegate=function(e,t,n){return this.off(t,e,n)},d.fn.live=function(e,t){return d(document.body).delegate(this.selector,e,t),this},d.fn.die=function(e,t){return d(document.body).undelegate(this.selector,e,t),this},d.fn.on=function(n,i,o,s,c){var u,l,a=this;return n&&!P(n)?(d.each(n,function(e,t){a.on(e,i,o,t,c)}),a):(P(i)||r(s)||!1===s||(s=o,o=i,i=_),s!==_&&!1!==o||(s=o,o=_),!1===s&&(s=k),a.each(function(e,a){c&&(u=function t(e){return h(a,e.type,s),s.apply(this,arguments)}),i&&(l=function r(e){var t,n=d(e.target).closest(i,a).get(0);if(n&&n!==a)return t=d.extend(y(e),{currentTarget:n,liveFired:a}),(u||s).apply(n,[t].concat(w.call(arguments,1)))}),v(a,n,s,o,i,l||u)}))},d.fn.off=function(e,n,t){var a=this;return e&&!P(e)?(d.each(e,function(e,t){a.off(e,n,t)}),a):(P(n)||r(t)||!1===t||(t=n,n=_),!1===t&&(t=k),a.each(function(){h(this,e,t,n)}))},d.fn.trigger=function(e,t){return(e=P(e)||d.isPlainObject(e)?d.Event(e):b(e))._args=t,this.each(function(){e.type in a&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):d(this).triggerHandler(e,t)})},d.fn.triggerHandler=function(n,a){var r,i;return this.each(function(e,t){(r=y(P(n)?d.Event(n):n))._args=a,r.target=t,d.each(o(t,n.type||n),function(e,t){if(i=t.proxy(r),r.isImmediatePropagationStopped())return!1})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){d.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),d.Event=function(e,t){P(e)||(e=(t=e).type);var n=document.createEvent(s[e]||"Events"),a=!0;if(t)for(var r in t)"bubbles"==r?a=!!t[r]:n[r]=t[r];return n.initEvent(e,a,!0),b(n)}}(wl=function(){function o(e){return null==e?String(e):Y[K.call(e)]||"object"}function s(e){return"function"==o(e)}function i(e){return null!=e&&e==e.window}function c(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function a(e){return"object"==o(e)}function u(e){return a(e)&&!i(e)&&Object.getPrototypeOf(e)==Object.prototype}function l(e){var t=!!e&&"length"in e&&e.length,n=S.type(e);return"function"!=n&&!i(e)&&("array"==n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function r(e){return V.call(e,function(e){return null!=e})}function d(e){return 0<e.length?S.fn.concat.apply([],e):e}function p(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function n(e){return e in t?t[e]:t[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function m(e,t){return"number"!=typeof t||L[p(e)]?t:t+"px"}function e(e){var t,n;return N[e]||(t=D.createElement(e),D.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),N[e]=n),N[e]}function f(e){return"children"in e?I.call(e.children):S.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function g(e,t){var n,a=e?e.length:0;for(n=0;n<a;n++)this[n]=e[n];this.length=a,this.selector=t||""}function v(e,t,n){for(k in t)n&&(u(t[k])||ee(t[k]))?(u(t[k])&&!u(e[k])&&(e[k]={}),ee(t[k])&&!ee(e[k])&&(e[k]=[]),v(e[k],t[k],n)):t[k]!==E&&(e[k]=t[k])}function h(e,t){return null==t?S(e):S(e).filter(t)}function b(e,t,n,a){return s(t)?t.call(e,n,a):t}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function _(e,t){var n=e.className||"",a=n&&n.baseVal!==E;if(t===E)return a?n.baseVal:n;a?n.baseVal=t:e.className=t}function w(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?S.parseJSON(e):e):e}catch(t){return e}}function P(e,t){t(e);for(var n=0,a=e.childNodes.length;n<a;n++)P(e.childNodes[n],t)}function C(e,t,n){var a=e.getElementsByTagName("script")[0];if(a){var r=a.parentNode;if(r){var i=e.createElement("script");i.innerHTML=t,Fl(n)&&i.setAttribute("nonce",n),r.appendChild(i),r.removeChild(i)}}}var E,k,S,T,j,x,O=[],A=O.concat,V=O.filter,I=O.slice,D=gl.document,N={},t={},L={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},R=/^\s*<(\w+|!)[^>]*>/,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,F=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,q=/([A-Z])/g,H=["val","css","html","text","data","width","height","offset"],B=["after","prepend","before","append"],W=D.createElement("table"),z=D.createElement("tr"),G={tr:D.createElement("tbody"),tbody:W,thead:W,tfoot:W,td:z,th:z,"*":D.createElement("div")},J=/complete|loaded|interactive/,$=/^[\w-]*$/,Y={},K=Y.toString,Q={},X=D.createElement("div"),Z={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ee=Array.isArray||function(e){return e instanceof Array};return Q.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var a,r=e.parentNode,i=!r;return i&&(r=X).appendChild(e),a=~Q.qsa(r,t).indexOf(e),i&&X.removeChild(e),a},j=function j(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},x=function x(n){return V.call(n,function(e,t){return n.indexOf(e)==t})},Q.fragment=function(e,t,n){var a,r,i;return M.test(e)&&(a=S(D.createElement(RegExp.$1))),a||(e.replace&&(e=e.replace(F,"<$1></$2>")),t===E&&(t=R.test(e)&&RegExp.$1),t in G||(t="*"),(i=G[t]).innerHTML=""+e,a=S.each(I.call(i.childNodes),function(){i.removeChild(this)})),u(n)&&(r=S(a),S.each(n,function(e,t){-1<H.indexOf(e)?r[e](t):r.attr(e,t)})),a},Q.Z=function(e,t){return new g(e,t)},Q.isZ=function(e){return e instanceof Q.Z},Q.init=function(e,t){var n;if(!e)return Q.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&R.test(e))n=Q.fragment(e,RegExp.$1,t),e=null;else{if(t!==E)return S(t).find(e);n=Q.qsa(D,e)}else{if(s(e))return S(D).ready(e);if(Q.isZ(e))return e;if(ee(e))n=r(e);else if(a(e))n=[e],e=null;else if(R.test(e))n=Q.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==E)return S(t).find(e);n=Q.qsa(D,e)}}return Q.Z(n,e)},(S=function S(e,t){return Q.init(e,t)}).extend=function(t){var n,e=I.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){v(t,e,n)}),t},Q.qsa=function(e,t){var n,a="#"==t[0],r=!a&&"."==t[0],i=a||r?t.slice(1):t,o=$.test(i);return e.getElementById&&o&&a?(n=e.getElementById(i))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:I.call(o&&!a&&e.getElementsByClassName?r?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},S.contains=D.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},S.type=o,S.isFunction=s,S.isWindow=i,S.isArray=ee,S.isPlainObject=u,S.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},S.isNumeric=function(e){var t=Number(e),n=tt(e);return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},S.inArray=function(e,t,n){return O.indexOf.call(t,e,n)},S.camelCase=j,S.trim=function(e){return null==e?"":String.prototype.trim.call(e)},S.uuid=0,S.support={},S.expr={},S.noop=function(){},S.map=function(e,t){var n,a,r,i=[];if(l(e))for(a=0;a<e.length;a++)null!=(n=t(e[a],a))&&i.push(n);else for(r in e)null!=(n=t(e[r],r))&&i.push(n);return d(i)},S.each=function(e,t){var n,a;if(l(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(a in e)if(!1===t.call(e[a],a,e[a]))return e;return e},S.grep=function(e,t){return V.call(e,t)},gl.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()}),S.fn={constructor:Q.Z,length:0,forEach:O.forEach,reduce:O.reduce,push:O.push,sort:O.sort,splice:O.splice,indexOf:O.indexOf,concat:function te(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Q.isZ(t)?t.toArray():t;return A.apply(Q.isZ(this)?this.toArray():this,n)},map:function ne(n){return S(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function ae(){return S(I.apply(this,arguments))},ready:function re(e){return J.test(D.readyState)&&D.body?e(S):D.addEventListener("DOMContentLoaded",function(){e(S)},!1),this},get:function ie(e){return e===E?I.call(this):this[0<=e?e:e+this.length]},toArray:function oe(){return this.get()},size:function se(){return this.length},remove:function ce(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function ue(e){for(var t,n=this.length,a=0;a<n&&(t=this[a],!1!==e.call(t,a,t));)a++;return this},filter:function le(t){return s(t)?this.not(this.not(t)):S(V.call(this,function(e){return Q.matches(e,t)}))},add:function de(e,t){return S(x(this.concat(S(e,t))))},is:function pe(e){return 0<this.length&&Q.matches(this[0],e)},not:function me(t){var n=[];if(s(t)&&t.call!==E)this.each(function(e){t.call(this,e)||n.push(this)});else{var a="string"==typeof t?this.filter(t):l(t)&&s(t.item)?I.call(t):S(t);this.forEach(function(e){a.indexOf(e)<0&&n.push(e)})}return S(n)},has:function fe(e){return this.filter(function(){return a(e)?S.contains(this,e):S(this).find(e).size()})},eq:function ge(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function ve(){var e=this[0];return e&&!a(e)?e:S(e)},last:function he(){var e=this[this.length-1];return e&&!a(e)?e:S(e)},find:function be(e){var n=this;return e?"object"==tt(e)?S(e).filter(function(){var t=this;return O.some.call(n,function(e){return S.contains(e,t)})}):1==this.length?S(Q.qsa(this[0],e)):this.map(function(){return Q.qsa(this,e)}):S()},closest:function ye(n,a){var r=[],i="object"==tt(n)&&S(n);return this.each(function(e,t){for(;t&&!(i?0<=i.indexOf(t):Q.matches(t,n));)t=t!==a&&!c(t)&&t.parentNode;t&&r.indexOf(t)<0&&r.push(t)}),S(r)},parents:function _e(e){for(var t=[],n=this;0<n.length;)n=S.map(n,function(e){if((e=e.parentNode)&&!c(e)&&t.indexOf(e)<0)return t.push(e),e});return h(t,e)},parent:function we(e){return h(x(this.pluck("parentNode")),e)},children:function Pe(e){return h(this.map(function(){return f(this)}),e)},contents:function Ce(){return this.map(function(){return this.contentDocument||I.call(this.childNodes)})},siblings:function Ee(e){return h(this.map(function(e,t){return V.call(f(t.parentNode),function(e){return e!==t})}),e)},empty:function ke(){return this.each(function(){this.innerHTML=""})},pluck:function Se(t){return S.map(this,function(e){return e[t]})},show:function Te(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=e(this.nodeName))})},replaceWith:function je(e){return this.before(e).remove()},wrap:function xe(t){var n=s(t);if(this[0]&&!n)var a=S(t).get(0),r=a.parentNode||1<this.length;return this.each(function(e){S(this).wrapAll(n?t.call(this,e):r?a.cloneNode(!0):a)})},wrapAll:function Oe(e){if(this[0]){var t;for(S(this[0]).before(e=S(e));(t=e.children()).length;)e=t.first();S(e).append(this)}return this},wrapInner:function Ae(r){var i=s(r);return this.each(function(e){var t=S(this),n=t.contents(),a=i?r.call(this,e):r;n.length?n.wrapAll(a):t.append(a)})},unwrap:function Ve(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function Ie(){return this.map(function(){return this.cloneNode(!0)})},hide:function De(){return this.css("display","none")},toggle:function Ne(t){return this.each(function(){var e=S(this);(t===E?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function Le(e){return S(this.pluck("previousElementSibling")).filter(e||"*")},next:function Re(e){return S(this.pluck("nextElementSibling")).filter(e||"*")},html:function Me(n){return 0 in arguments?this.each(function(e){var t=this.innerHTML;S(this).empty().append(b(this,n,e,t))}):0 in this?this[0].innerHTML:null},text:function Fe(n){return 0 in arguments?this.each(function(e){var t=b(this,n,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function Ue(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(a(t))for(k in t)y(this,k,t[k]);else y(this,t,b(this,n,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:E},removeAttr:function qe(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function He(t,n){return t=Z[t]||t,1 in arguments?this.each(function(e){this[t]=b(this,n,e,this[t])}):this[0]&&this[0][t]},removeProp:function Be(e){return e=Z[e]||e,this.each(function(){delete this[e]})},data:function e(t,n){var a="data-"+t.replace(q,"-$1").toLowerCase(),e=1 in arguments?this.attr(a,n):this.attr(a);return null!==e?w(e):E},val:function We(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=b(this,t,e,this.value)})):this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function ze(i){if(i)return this.each(function(e){var t=S(this),n=b(this,i,e,t.offset()),a=t.offsetParent().offset(),r={top:n.top-a.top,left:n.left-a.left};"static"==t.css("position")&&(r.position="relative"),t.css(r)});if(!this.length)return null;if(D.documentElement!==this[0]&&!S.contains(D.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+gl.pageXOffset,top:e.top+gl.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function e(t,n){if(arguments.length<2){var a=this[0];if("string"==typeof t){if(!a)return;return a.style[j(t)]||getComputedStyle(a,"").getPropertyValue(t)}if(ee(t)){if(!a)return;var r={},i=getComputedStyle(a,"");return S.each(t,function(e,t){r[t]=a.style[j(t)]||i.getPropertyValue(t)}),r}}var e="";if("string"==o(t))n||0===n?e=p(t)+":"+m(t,n):this.each(function(){this.style.removeProperty(p(t))});else for(k in t)t[k]||0===t[k]?e+=p(k)+":"+m(k,t[k])+";":this.each(function(){this.style.removeProperty(p(k))});return this.each(function(){this.style.cssText+=";"+e})},index:function Ge(e){return e?this.indexOf(S(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function Je(e){return!!e&&O.some.call(this,function(e){return this.test(_(e))},n(e))},addClass:function $e(n){return n?this.each(function(e){if("className"in this){T=[];var t=_(this);b(this,n,e,t).split(/\s+/g).forEach(function(e){S(this).hasClass(e)||T.push(e)},this),T.length&&_(this,t+(t?" ":"")+T.join(" "))}}):this},removeClass:function Ye(t){return this.each(function(e){if("className"in this){if(t===E)return _(this,"");T=_(this),b(this,t,e,T).split(/\s+/g).forEach(function(e){T=T.replace(n(e)," ")}),_(this,T.trim())}})},toggleClass:function Ke(n,a){return n?this.each(function(e){var t=S(this);b(this,n,e,_(this)).split(/\s+/g).forEach(function(e){(a===E?!t.hasClass(e):a)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function Qe(e){if(this.length){var t="scrollTop"in this[0];return e===E?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function Xe(e){if(this.length){var t="scrollLeft"in this[0];return e===E?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function Ze(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),a=U.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(S(e).css("margin-top"))||0,n.left-=parseFloat(S(e).css("margin-left"))||0,a.top+=parseFloat(S(t[0]).css("border-top-width"))||0,a.left+=parseFloat(S(t[0]).css("border-left-width"))||0,{top:n.top-a.top,left:n.left-a.left}}},offsetParent:function et(){return this.map(function(){for(var e=this.offsetParent||D.body;e&&!U.test(e.nodeName)&&"static"==S(e).css("position");)e=e.offsetParent;return e})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(a){var r=a.replace(/./,function(e){return e[0].toUpperCase()});S.fn[a]=function(t){var e,n=this[0];return t===E?i(n)?n["inner"+r]:c(n)?n.documentElement["scroll"+r]:(e=this.offset())&&e[a]:this.each(function(e){(n=S(this)).css(a,b(this,t,e,n[a]()))})}}),B.forEach(function(t,l){var d=l%2;S.fn[t]=function(){var n,s,c=S.map(arguments,function(e){var t=[];return"array"==(n=o(e))?(e.forEach(function(e){return e.nodeType!==E?t.push(e):S.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(Q.fragment(e)))}),t):"object"==n||null==e?e:Q.fragment(e)}),u=1<this.length;return c.length<1?this:this.each(function(e,t){s=d?t:t.parentNode,t=0==l?t.nextSibling:1==l?t.firstChild:2==l?t:null;var n=S.contains(D.documentElement,s),a=/^(text|application)\/(javascript|ecmascript)$/,r=nt(),i=r[Cf],o=r[Ef];c.forEach(function(e){if(u)e=e.cloneNode(!0);else if(!s)return S(e).remove();Fl(i)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",i),Fl(o)&&"STYLE"===e.tagName&&e.setAttribute("nonce",o),s.insertBefore(e,t),n&&P(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!a.test(e.type.toLowerCase())||e.src||C(D,e.innerHTML,e.nonce)})})})},S.fn[d?t+"To":"insert"+(l?"Before":"After")]=function(e){return S(e)[t](this),this}}),Q.Z.prototype=g.prototype=S.fn,Q.uniq=x,Q.deserializeValue=w,S.zepto=Q,S}()),function(){try{getComputedStyle(undefined)}catch(e){var n=getComputedStyle;gl.getComputedStyle=function(e,t){try{return n(e,t)}catch(FR){return null}}}}(),hl=(vl=wl).zepto,bl=hl.qsa,yl=/^\s*>/,_l="Zepto"+ +new Date,hl.qsa=function(e,t){var n,a,r=t;try{r?yl.test(r)&&(a=vl(e).addClass(_l),r="."+_l+" "+r):r="*",n=bl(e,r)}catch(i){throw i}finally{a&&a.removeClass(_l)}return n},wl),Gf=window.MutationObserver||window.WebkitMutationObserver,Jf="Expected an array of promises";kl._setImmediateFn&&Re();var $f=U(),Yf=/.*\.(\d+)_\d+/;ut(window,document);var Kf="at-library-loaded",Qf="at-request-start",Xf="at-request-succeeded",Zf="at-request-failed",eg="at-content-rendering-start",tg="at-content-rendering-succeeded",ng="at-content-rendering-failed",ag="at-content-rendering-no-offers",rg="at-content-rendering-redirect",ig=":eq(",og=")",sg=ig.length,cg=/((\.|#)(-)?\d{1})/g,ug="Unable to load target-vec.js",lg="Loading target-vec.js",dg="_AT",pg="clickHandlerForExperienceEditor",mg="currentView",fg="at_qa_mode",gg="at_preview_token",vg="at_preview_index",hg="at_preview_listed_activities_only",bg="at_preview_evaluate_as_true_audience_ids",yg="at_preview_evaluate_as_false_audience_ids",_g="_",wg=function wg(e){return!f(e)},Pg="at_preview_mode",Cg="at_preview",Eg="at-",kg="at-body-style",Sg="#"+kg,Tg=Eg+"views",jg="Disabled due to optout",xg="MCAAMB",Og="MCAAMLH",Ag="MCMID",Vg="MCOPTOUT",Ig="getSupplementalDataID",Dg="getCustomerIDs",Ng=!0,Lg="NS",Rg="DS",Mg="trackingServer",Fg=Mg+"Secure",Ug="Visitor",qg="getInstance",Hg="isAllowed",Bg="Visitor API requests timed out",Wg="Visitor API requests error",zg={},Gg="Data provider",Jg="timed out",$g=2e3,Yg="authorization",Kg="mboxDebugTools",Qg=ma(),Xg="profile.",Zg="mbox3rdPartyId",ev="at_property",tv="orderId",nv="orderTotal",av="productPurchasedId",rv="productId",iv="categoryId",ov="POST",sv="Network request failed",cv="Request timed out",uv="Malformed response JSON",lv="mboxedge",dv=".tt.omtrdc.net",pv=function pv(e){return!T(e)},mv=function mv(t){return function(e){return e[t]}},fv=function fv(t){return function(e){return!t(e)}},gv=fv(f),vv=fv(x),hv=function hv(t){return function(e){return g(t,e)}},bv=function bv(e){return e.status===Rp},yv=function yv(e){return e.type===Yp},_v=function _v(e){return e.type===kd},wv=hv(gv),Pv=hv(vv),Cv=mv(Xm),Ev=mv(ad),kv=mv(ef),Sv=mv(Kp),Tv=function Tv(e){return Fl(e.name)},jv=function jv(e){return!f(e.index)},xv=function xv(e){return d(e)&&Tv(e)},Ov=function Ov(e){return d(e)&&Tv(e)&&jv(e)},Av=function Av(e){return d(e)&&Tv(e)},Vv=function Vv(e){return Fl(e.selector)},Iv=mv(Qp),Dv=m([Iv,gv]),Nv="adobe_mc_sdid",Lv="Network request failed",Rv="Request timed out",Mv="URL is required",Fv="GET",Uv="POST",qv="method",Hv="url",Bv="headers",Wv="data",zv="credentials",Gv="timeout",Jv="async",$v=/CLKTRK#(\S+)/,Yv=/CLKTRK#(\S+)\s/,Kv=function wg(e){return!f(e)},Qv="visibilityState",Xv="visible",Zv=100,eh=Xd+","+ep+","+Zd,th="at-action-key",nh="metric element not found",ah="navigator",rh="sendBeacon",ih="Beacon data sent",oh="Beacon data sent failed",sh="View triggered notification",ch="View rendered notification",uh="Mboxes rendered notification",lh="Event handler notification",dh="Mbox event handler notification",ph="View event handler notification",mh="prefetchMboxes",fh="rendered",gh="triggered",vh={},hh="pageLoadMetrics",bh="prefetchMetrics",yh=mv(Zm),_h=function _h(){return Cr(Bp)},wh=function wh(e){return Er(Bp,e)},Ph=mv(ad),Ch=mv(pd),Eh=function Eh(e){return Cr(Hp,e)},kh=function kh(e){return Er(Hp,e)},Sh=function Sh(e){return fv(bv)(e)&&Dv(e)};gc.prototype={on:function Zh(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function eb(e,t,n){function a(){r.off(e,a),t.apply(n,arguments)}var r=this;return a._=t,this.on(e,a,n)},emit:function tb(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,r=n.length;a<r;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function nb(e,t){var n=this.e||(this.e={}),a=n[e],r=[];if(a&&t)for(var i=0,o=a.length;i<o;i++)a[i].fn!==t&&a[i].fn._!==t&&r.push(a[i]);return r.length?n[e]=r:delete n[e],this}};var Th=gc,jh=gc;Th.TinyEmitter=jh;var xh=vc(),Oh="Page load rendering failed",Ah="Mboxes rendering failed",Vh="View rendering failed",Ih="Prefetch rendering failed",Dh=function Dh(e){return!T(g(bv,e))},Nh="[page-init]",Lh="[getOffer()]",Rh="[getOffers()]",Mh="[applyOffer()]",Fh="[applyOffers()]",Uh="[sendNotifications()]",qh="[trackEvent()]",Hh="[triggerView()]",Bh=[],Wh=0,zh=1,Gh=Wh;il();var Jh="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",$h="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",Yh="mboxCreate() "+Jh,Kh="mboxDefine() "+Jh,Qh="mboxUpdate() "+Jh,Xh={init:fl,initConfig:Q,initDelivery:pu};e.exports=Xh}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,n,a){"use strict";var r=a.getExtensionSettings(),i=r.targetSettings||{};e.exports={extensionSettings:r,targetSettings:i}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.6.1"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,n){e.addEventListener(t,n)}function n(e,t,n){e.removeEventListener(t,n)}e.exports={addEventListener:t,removeEventListener:n}}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,n){"use strict";var a=n("../librarySettings"),r=n("@adobe/reactor-window"),i=n("./object-override"),o=n("./params-store"),s=o.getParams,c=o.getPageLoadParams,u=n(
"../targetSettings").targetSettings;e.exports=function(e){return u.mboxParams=s(),u.globalMboxParams=c(),i(u,e,["bodyHidingEnabled","bodyHiddenStyle"]),i(u,r.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),i(u,a.TARGET_DEFAULT_SETTINGS||{},["version"]),u}}}}},"mapping-table":{displayName:"Mapping Table",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP29c1cfa85ec74c28b3ef1369f262762b/",modules:{"mapping-table/src/lib/dataElements/mappingTable.js":{name:"mapping-table",displayName:"Mapping Table",script:function(e,t,n,u){"use strict";e.exports=function(e){if(null!=e){var t=e.dataElement;l();try{for(var n=0;n<e.size;n++){var a=e[n].method,r=e[n].output,i=e[n].input;if("exact match"===a){if(t===i)return r}else if("exact match i"===a){if("boolean"==typeof t)continue;if(t.toLowerCase()===i.toLowerCase())return r}else if("starts with"===a){if("boolean"==typeof t)continue;if(t.startsWith(i))return r}else if("contains"===a){if("boolean"==typeof t)continue;if(-1<t.indexOf(i))return r}else if("regex"===a){if("boolean"==typeof t)continue;if(new RegExp(i).test(t))return r}else if("regex matching"===a){if("boolean"==typeof t)continue;var o=t.match(new RegExp(i));if(null!==o){for(var s=o.length-1;1<=s;s--)r=r.split("$"+s).join(o[s]);return r}}else if("is true"===a){if(!0===t)return r}else if("is false"===a&&!1===t)return r}}catch(c){u.logger.error("Error during evaluation: "+c.message)}return!0===e.defaultValueEmpty?undefined:t}};var l=function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e})}}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPf0412a5c65e5429ab0e5ed8ba2256510/",settings:{orgId:"79655FCF5C1D42160A495E15@AdobeOrg",timeUnit:"Months",variables:[{name:"disableThirdPartyCookies",value:"%Consent | is PUR Tracking [co]%"},{name:"trackingServer",value:"sam.spiegel.de"},{name:"trackingServerSecure",value:"sams.spiegel.de"},{name:"marketingCloudServer",value:"sam.spiegel.de"},{name:"marketingCloudServerSecure",value:"sams.spiegel.de"},{name:"disableThirdPartyCalls",value:"%Consent | is PUR Tracking [co]%"},{name:"secureCookie",value:"true"},{name:"sameSiteCookie",value:"None"},{name:"audienceManagerServer",value:"spiegel.demdex.net"},{name:"audienceManagerServerSecure",value:"spiegel.demdex.net"}],doesOptInApply:!0,optInStorageExpiry:1,previousPermissions:"",isOptInStorageEnabled:!1,preOptInApprovalInput:"%Page | Adobe Consent: Previous Permissions [co]%"},modules:{"adobe-mcid/src/lib/dataElements/ecid.js":{name:"ecid",displayName:"ECID",script:function(e,t,n){"use strict";var a;n("../sharedModules/mcidInstance").onReceiveEcid(function(e){a=e}),e.exports=function(){return a}}},"adobe-mcid/src/lib/actions/setCustomerIds.js":{name:"set-customer-ids",displayName:"Set Customer IDs",script:function(e,t,n,a){"use strict";var r=n("../sharedModules/mcidInstance"),i=a.logger,o=function(e){return"string"==typeof e&&0<e.length},s=function(e){var a={},r=[];return e.forEach(function(e){var t=e.integrationCode,n=e.value;o(t)&&o(n)?(a[t]={id:n},e.hasOwnProperty("authState")&&(a[e.integrationCode].authState=e.authState),e.hasOwnProperty("hashType")&&(a[e.integrationCode].hashType=e.hashType)):r.push(e)}),r.length&&i.warn("Rejected these customer ids: "+JSON.stringify(r)),a};e.exports=function(e){if(r){var t=s(e.customerIds);r.setCustomerIDs(t),i.info("Set Customer IDs: "+JSON.stringify(t))}else i.warn("MCID instance cannot be found. Cannot set Customer IDs.")}}},"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,n,f){"use strict";var a=n("@adobe/reactor-document"),r=n("../codeLibrary/VisitorAPI"),g=n("../../view/utils/timeUnits"),v=function(e){return e.reduce(function(e,t){var n=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=n,e},{})},i=function(e){var t=f.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var n=v(t.variables||[]),a=t.doesOptInApply;a&&("boolean"==typeof a?n.doesOptInApply=a:t.optInCallback&&(n.doesOptInApply=t.optInCallback));var r=t.isOptInStorageEnabled;r&&(n.isOptInStorageEnabled=r);var i=t.optInCookieDomain;i&&(n.optInCookieDomain=i);var o=t.optInStorageExpiry;if(o){var s=t.timeUnit;if(s&&g[s]){var c=o*g[s];n.optInStorageExpiry=c}}else!0===r&&(n.optInStorageExpiry=33696e3);var u=t.previousPermissions;u&&(n.previousPermissions=u);var l=t.preOptInApprovals;if(l)n.preOptInApprovals=l;else{var d=t.preOptInApprovalInput;d&&(n.preOptInApprovals=d)}var p=t.isIabContext;p&&(n.isIabContext=p);var m=e.getInstance(t.orgId,n);return f.logger.info('Created instance using orgId: "'+t.orgId+'"'),f.logger.info("Set variables: "+JSON.stringify(n)),m.getMarketingCloudVisitorID(function(e){f.logger.info("Obtained Marketing Cloud Visitor Id: "+e)},!0),m},o=function(t){return(f.getExtensionSettings().pathExclusions||[]).some(function(e){return e.valueIsRegex?new RegExp(e.value,"i").test(t):e.value===t})},s=null;_satellite.getVisitorId=function(){return s},o(a.location.pathname)?f.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):s=i(r),e.exports=s},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,a=this;return function(){a.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(n,e){(e||n&&!J.isObjectEmpty(n))&&Object.keys(this.callbacks).forEach(function(e){var t=void 0!==n[e]?n[e]:"";this.execute(e,t)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function p(e,t,n){var a=null==e?void 0:e[t];return void 0===a?n:a}function r(e){for(var t=/^\d+$/,n=0,a=e.length;n<a;n++)if(!t.test(e[n]))return!1;return!0}function i(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var n=0;n<e.length;n++){var a=parseInt(e[n],10),r=parseInt(t[n],10);if(r<a)return 1;if(a<r)return-1}return 0}function n(e,t){if(e===t)return 0;var n=e.toString().split("."),a=t.toString().split(".");return r(n.concat(a))?(i(n,a),o(n,a)):NaN}function s(e){return e===Object(e)&&0===Object.keys(e).length}function c(e){return"function"==typeof e||e instanceof Array&&e.length}function a(e,t){var n=0<arguments.length&&void 0!==e?arguments[0]:"",a=1<arguments.length&&void 0!==t?arguments[1]:function(){return!0};this.log=pe("log",n,a),this.warn=pe("warn",n,a),this.error=pe("error",n,a)}function I(e,t){var r=(0<arguments.length&&void 0!==e?arguments[0]:{}).cookieName,i=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies;if(!r||!i)return{get:Te,set:Te,remove:Te};var o={remove:function(){i.remove(r)},get:function(){var e=i.get(r),t={};try{t=JSON.parse(e)}catch(e){t={}}return t},set:function(e,t){t=t||{};var n=o.get(),a=Object.assign(n,e);i.set(r,JSON.stringify(a),{domain:t.optInCookieDomain||"",cookieLifetime:t.optInStorageExpiry||3419e4,expires:!0})}};return o}function u(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function l(e,t){function n(e,t){var n=he(e);return n.length?n.every(function(e){return!!t[e]}):be(t)}function a(){V(O),A(H.COMPLETE),P(w.status,w.permissions),u&&_.set(w.permissions,{optInCookieDomain:l,optInStorageExpiry:d}),C.execute(Ie)}function r(n){return function(e,t){if(!ye(e))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return A(H.CHANGED),Object.assign(O,_e(he(e),n)),t||a(),w}}var i=0<arguments.length&&void 0!==e?arguments[0]:{},o=i.doesOptInApply,s=i.previousPermissions,c=i.preOptInApprovals,u=i.isOptInStorageEnabled,l=i.optInCookieDomain,d=i.optInStorageExpiry,p=i.isIabContext,m=(1<arguments.length&&void 0!==t?arguments[1]:{}).cookies,f=je(s);xe(f,"Invalid `previousPermissions`!"),xe(c,"Invalid `preOptInApprovals`!");var g,v,h,b,y,_=I({cookieName:"adobeujs-optin"},{cookies:m}),w=this,P=q(w),C=ue(),E=Ce(f),k=Ce(c),S=u?_.get():{},T={},j=(y=S,Ee(E)||y&&Ee(y)?H.COMPLETE:H.PENDING),x=(g=k,v=E,h=S,b=_e(ce,!o),o?Object.assign({},b,g,v,h):b),O=we(x),A=function(e){return j=e},V=function(e){return x=e};w.deny=r(!1),w.approve=r(!0),w.denyAll=w.deny.bind(w,ce),w.approveAll=w.approve.bind(w,ce),w.isApproved=function(e){return n(e,w.permissions)},w.isPreApproved=function(e){return n(e,k)},w.fetchPermissions=function(e,t){var n=1<arguments.length&&void 0!==t&&arguments[1],a=n?w.on(H.COMPLETE,e):Te;return!o||o&&w.isComplete||c?e(w.permissions):n||C.add(Ie,function(){return e(w.permissions)}),a},w.complete=function(){w.status===H.CHANGED&&a()},w.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(De);T[e.name]||(T[e.name]=e).onRegister.call(e,w)},w.execute=Ve(T),w.memoizeContent=function(e){Se(e)&&_.set(e,{optInCookieDomain:l,optInStorageExpiry:d})},w.getMemoizedContent=function(e){var t=_.get();if(t)return t[e]},Object.defineProperties(w,{permissions:{get:function(){return x}},status:{get:function(){return j}},Categories:{get:function(){return B}},doesOptInApply:{get:function(){return!!o}},isPending:{get:function(){return w.status===H.PENDING}},isComplete:{get:function(){return w.status===H.COMPLETE}},__plugins:{get:function(){return Object.keys(T)}},isIabContext:{get:function(){return p}}})}function d(e,t){function n(){r=null,e.call(e,new u("The call took longer than you wanted!"))}function a(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(n,t);return a}function m(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var o;!o;){e=e.parent;try{e.frames.__tcfapiLocator&&(o=e)}catch(e){}if(e===window.top)break}if(o){var s={};return window.__tcfapi=function(e,t,n,a){var r=Math.random()+"",i={__tcfapiCall:{command:e,parameter:a,version:t,callId:r}};s[r]=n,o.postMessage(i,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var n=t.__tcfapiReturn;"function"==typeof s[n.callId]&&(s[n.callId](n.returnValue,n.success),delete s[n.callId])}},!1),window.__tcfapi}ge.error("__tcfapi not found")}else ge.error("__tcfapi not found")}function f(t,e,n){var a=2<arguments.length&&void 0!==n?arguments[2]:[],r=!0===t.vendor.consents[e],i=a.every(function(e){return!0===t.purpose.consents[e]});return r&&i}function g(){var n=this;n.name="iabPlugin",n.version="0.0.2";var i,o=ue(),s={transparencyAndConsentData:null},c=function(e,t){var n=1<arguments.length&&void 0!==t?arguments[1]:{};return s[e]=n};n.fetchConsentData=function(e){var t=d(e.callback,e.timeout);u({callback:t})},n.isApproved=function(e){var n=e.callback,a=e.category,t=e.timeout;if(s.transparencyAndConsentData)return n(null,f(s.transparencyAndConsentData,ie[a],oe[a]));var r=d(function(e,t){n(e,f(t,ie[a],oe[a]))},t);u({category:a,callback:r})},n.onRegister=function(a){i=a;var t=Object.keys(ie),e=function(e,n){!e&&n&&(t.forEach(function(e){var t=f(n,ie[e],oe[e]);a[t?"approve":"deny"](e,!0)}),a.complete())};n.fetchConsentData({callback:e})};var u=function(e){var t=e.callback;if(s.transparencyAndConsentData)return t(null,s.transparencyAndConsentData);o.add("FETCH_CONSENT_DATA",t),a(function(e,t){if(t){var n=we(e),a=i.getMemoizedContent("iabConsentHash"),r=fe(n.tcString).toString(32);n.consentString=e.tcString,n.hasConsentChangedSinceLastCmpPull=a!==r,c("transparencyAndConsentData",n),i.memoizeContent({iabConsentHash:r})}o.execute("FETCH_CONSENT_DATA",[null,s.transparencyAndConsentData])})},a=function(e){var t=Ae(ie),n=m();"function"==typeof n&&n("getTCData",2,e,t)}}var z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,a=1;a<arguments.length;++a)for(t in n=arguments[a])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e};var v,h,b,y,G={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},_=G.STATE_KEYS_MAP,w=function(i){function a(){}function r(n,a){var r=this;return function(){var e=i(0,n),t={};return t[n]=e,r.setStateAndPublish(t),a(e),e}}this.getMarketingCloudVisitorID=function(e){e=e||a;var t=this.findField(_.MCMID,e),n=r.call(this,_.MCMID,e);return void 0!==t?t:n()},this.getVisitorValues=function(t){this.getMarketingCloudVisitorID(function(e){t({MCMID:e})})}},P=G.MESSAGES,C=G.ASYNC_API_MAP,E=G.SYNC_API_MAP,k=function(){function r(){}function i(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(P.GETSTATE),""}}function e(a){this[C[a]]=function(e){e=e||r;var t=this.findField(a,e),n=i.call(this,a,e);return void 0!==t?t:n()}}function t(e){this[E[e]]=function(){return this.findField(e,r)||{}}}Object.keys(C).forEach(e,this),Object.keys(E).forEach(t,this)},S=G.ASYNC_API_MAP,T=function(){Object.keys(S).forEach(function(t){this[S[t]]=function(e){this.callbackRegistry.add(t,e)}},this)},J=(function(e,t){t.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},t.isValueEmpty=function(e){return""===e||t.isObjectEmpty(e)};var n=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||0<=t.indexOf("MSIE ")||0<=t.indexOf("Trident/")&&0<=t.indexOf("Windows NT 6")};t.getIeVersion=function(){return document.documentMode?document.documentMode:n()?7:null},t.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},t.isObject=function(e){return null!==e&&"object"===W(e)&&!1===Array.isArray(e)},t.defineGlobalNamespace=function(){return window.adobe=t.isObject(window.adobe)?window.adobe:{},window.adobe},t.pluck=function(n,e){return e.reduce(function(e,t){return n[t]&&(e[t]=n[t]),e},Object.create(null))},t.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var a=parseInt(e.d_ottl,10);return isNaN(a)&&(a=7200),{optOut:t,d_ottl:a}},t.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}(y={exports:{}},y.exports),y.exports),j=(J.isObjectEmpty,J.isValueEmpty,J.getIeVersion,J.encodeAndBuildRequest,J.isObject,J.defineGlobalNamespace,J.pluck,J.parseOptOut,J.normalizeBoolean,t),x=G.MESSAGES,O={0:"prefix",1:"orgID",2:"state"},$=function(i,o){this.parse=function(e){try{var n={};return e.data.split("|").forEach(function(e,t){void 0!==e&&(n[O[t]]=2!==t?e:JSON.parse(e))}),n}catch(e){}},this.isInvalid=function(e){var t=this.parse(e);if(!t||Object.keys(t).length<2)return!0;var n=i!==t.orgID,a=!o||e.origin!==o,r=-1===Object.keys(x).indexOf(t.prefix);return n||a||r},this.send=function(e,t,n){var a=t+"|"+i;n&&n===Object(n)&&(a+="|"+JSON.stringify(n));try{e.postMessage(a,o)}catch(i){}}},A=G.MESSAGES,V=function(e,t,n,a){function r(e){Object.assign(m,e)}function i(e){Object.assign(m.state,e),Object.assign(m.state.ALLFIELDS,e),m.callbackRegistry.executeAll(m.state)}function o(e){if(!v.isInvalid(e)){g=!1;var t=v.parse(e);m.setStateAndPublish(t.state)}}function s(e){!g&&f&&(g=!0,v.send(a,e))}function c(){r(new w(n._generateID)),m.getMarketingCloudVisitorID(),m.callbackRegistry.executeAll(m.state,!0),z.removeEventListener("message",u)}function u(e){if(!v.isInvalid(e)){var t=v.parse(e);g=!1,z.clearTimeout(m._handshakeTimeout),z.removeEventListener("message",u),r(new k(m)),z.addEventListener("message",o),m.setStateAndPublish(t.state),m.callbackRegistry.hasCallbacks()&&s(A.GETSTATE)}}function l(){f&&postMessage?(z.addEventListener("message",u),s(A.HANDSHAKE),m._handshakeTimeout=setTimeout(c,250)):c()}function d(){z.s_c_in||(z.s_c_il=[],z.s_c_in=0),m._c="Visitor",m._il=z.s_c_il,m._in=z.s_c_in,m._il[m._in]=m,z.s_c_in++}function p(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(m[e]=function(){})}Object.keys(n).forEach(e),m.getSupplementalDataID=n.getSupplementalDataID,m.isAllowed=function(){return!0}}var m=this,f=t.whitelistParentDomain;m.state={ALLFIELDS:{}},m.version=n.version,m.marketingCloudOrgID=e,m.cookieDomain=n.cookieDomain||"";var g=!(m._instanceType="child"),v=new $(e,f);m.callbackRegistry=j(),m.init=function(){d(),p(),r(new T(m)),l()},m.findField=function(e,t){if(void 0!==m.state[e])return t(m.state[e]),m.state[e]},m.messageParent=s,m.setStateAndPublish=i},D=G.MESSAGES,N=G.ALL_APIS,L=G.ASYNC_API_MAP,R=G.FIELDGROUP_TO_FIELD,Y=function(r,a){function i(){var a={};return Object.keys(N).forEach(function(e){var t=N[e],n=r[t]();J.isValueEmpty(n)||(a[e]=n)}),a}function o(){var n=[];return r._loading&&Object.keys(r._loading).forEach(function(e){if(r._loading[e]){var t=R[e];n.push(t)}}),n.length?n:null}function t(n){return function a(){var e=o();if(e){var t=L[e[0]];r[t](a,!0)}else n()}}function n(e,t){var n=i();a.send(e,t,n)}function s(e){u(e),n(e,D.HANDSHAKE)}function c(e){t(function(){n(e,D.PARENTSTATE)})()}function u(t){function e(e){n.call(r,e),a.send(t,D.PARENTSTATE,{CUSTOMERIDS:r.getCustomerIDs()})}var n=r.setCustomerIDs;r.setCustomerIDs=e}return function(e){a.isInvalid(e)||(a.parse(e).prefix===D.HANDSHAKE?s:c)(e.source)}},K=function(a,n){function r(t){return function(e){i[t]=e,++o===s&&n(i)}}var i={},o=0,s=Object.keys(a).length;Object.keys(a).forEach(function(e){var t=a[e];if(t.fn){var n=t.args||[];n.unshift(r(e)),t.fn.apply(t.context||null,n)}})},Q={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),a=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a))},set:function(e,t,n){var a=p(n,"cookieLifetime"),r=p(n,"expires"),i=p(n,"domain"),o=p(n,"secure"),s=p(n,"sameSite"),c=o?"Secure":"",u=s?"SameSite="+s+";":"";if(r&&"SESSION"!==a&&"NONE"!==a){var l=""!==t?parseInt(a||0,10):-60;if(l)(r=new Date).setTime(r.getTime()+1e3*l);else if(1===r){var d=(r=new Date).getYear();r.setYear(d+2+(d<1900?1900:0))}}else r=0;return e&&"NONE"!==a?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(i?" domain="+i+";":"")+u+c,this.get(e)===t):0},remove:function(e,t){var n=p(t,"domain");n=n?" domain="+n+";":"";var a=p(t,"secure"),r=p(t,"sameSite"),i=a?"Secure":"",o=r?"SameSite="+r+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+n+o+i}},X=function(e,t){!e&&z.location&&(e=z.location.hostname);var n,a=e.split("."),r=t||{};for(n=a.length-2;0<=n;n--)if(r.domain=a.slice(n).join("."),Q.set("test","cookie",r))return Q.remove("test",r),r.domain;return""},Z={compare:n,isLessThan:function(e,t){return n(e,t)<0},areVersionsDifferent:function(e,t){return 0!==n(e,t)},isGreaterThan:function(e,t){return 0<n(e,t)},isEqual:function(e,t){return 0===n(e,t)}},M=!!z.postMessage,ee={postMessage:function(e,t,n){var a=1;t&&(M?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+a+++"&"+e))},receiveMessage:function(t,n){var e;try{M&&(t&&(e=function(e){if("string"==typeof n&&e.origin!==n||"[object Function]"===Object.prototype.toString.call(n)&&!1===n(e.origin))return!1;t(e)}),z.addEventListener?z[t?"addEventListener":"removeEventListener"]("message",e):z[t?"attachEvent":"detachEvent"]("onmessage",e))}catch(t){}}},te=function(e){var t,n,a="0123456789",r="",i="",o=8,s=10,c=10;if(1==e){for(a+="ABCDEF",t=0;t<16;t++)n=Math.floor(Math.random()*o),r+=a.substring(n,n+1),n=Math.floor(Math.random()*o),i+=a.substring(n,n+1),o=16;return r+"-"+i}for(t=0;t<19;t++)n=Math.floor(Math.random()*s),r+=a.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&n<2?s=10:2<t&&(s=10),n=Math.floor(Math.random()*c),i+=a.substring(n,n+1),0===t&&9==n?c=3:(1==t||2==t)&&10!=c&&n<2?c=10:2<t&&(c=10);return r+i},ne=function(a){return{corsMetadata:(e="none",t=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),0<Object.prototype.toString.call(z.HTMLElement).indexOf("Constructor")&&(t=!1)),{corsType:e,corsCookiesEnabled:t}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new z[this.corsMetadata.corsType]},fireCORS:function(i,e){function t(e){var t;try{if((t=JSON.parse(e))!==Object(t))return void o.handleCORSError(i,null,"Response is not JSON")}catch(e){return void o.handleCORSError(i,e,"Error parsing response as JSON")}try{for(var n=i.callback,a=z,r=0;r<n.length;r++)a=a[n[r]];a(t)}catch(e){o.handleCORSError(i,e,"Error forming callback function")}}var o=this;e&&(i.loadErrorHandler=e);try{var n=this.getCORSInstance();n.open("get",i.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(n.withCredentials=!0,n.timeout=a.loadTimeout,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===this.readyState&&200===this.status&&t(this.responseText)}),n.onerror=function(e){o.handleCORSError(i,e,"onerror")},n.ontimeout=function(e){o.handleCORSError(i,e,"ontimeout")},n.send(),a._log.requests.push(i.corsUrl)}catch(a){this.handleCORSError(i,a,"try-catch")}},handleCORSError:function(e,t,n){a.CORSErrors.push({corsData:e,error:t,description:n}),e.loadErrorHandler&&("ontimeout"===n?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}};var e,t},ae={POST_MESSAGE_ENABLED:!!z.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},re=function(f,t){var r=z.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t="http://fast.",n="?d_nsid="+f.idSyncContainerID+"#"+encodeURIComponent(r.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),f.loadSSL&&(t=f.idSyncSSLUseAkamai?"https://fast.":"https://"),e=t+this.subdomain+".demdex.net/dest5.html"+n,this.iframeHost=this.getIframeHost(e),this.id="destination_publishing_iframe_"+this.subdomain+"_"+f.idSyncContainerID,e},checkDPIframeSrc:function(){var e="?d_nsid="+f.idSyncContainerID+"#"+encodeURIComponent(r.location.href);"string"==typeof f.dpIframeSrc&&f.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(f._subdomain||this.subdomain||(new Date).getTime())+"_"+f.idSyncContainerID,this.iframeHost=this.getIframeHost(f.dpIframeSrc),this.url=f.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:ae.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(f.idSyncDisableSyncs||f.disableIdSyncs||f.idSyncDisable3rdPartySyncing||f.disableThirdPartyCookies||f.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||f._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||f._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(a=r.createElement("iframe")).sandbox="allow-scripts allow-same-origin",a.title="Adobe ID Syncing iFrame",a.id=n.id,a.name=n.id+"_name",a.style.cssText="display: none; width: 0; height: 0;",a.src=n.url,n.newIframeCreated=!0,t(),r.body.appendChild(a)}function t(e){a.addEventListener("load",function(){a.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.fireIframeLoadedCallbacks(e),n.requestToProcess()})}this.startedAttachingIframe=!0;var n=this,a=r.getElementById(this.id);a?"IFRAME"!==a.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==a.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=a,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=a},fireIframeLoadedCallbacks:function(t){this.iframeLoadedCallbacks.forEach(function(e){"function"==typeof e&&e({message:t||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(e){function t(){a.jsonForComparison.push(e),a.jsonWaiting.push(e),a.processSyncOnPage(e)}var n,a=this;if(e===Object(e)&&e.ibs)if(n=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var r,i,o,s=!1;for(r=0,i=this.jsonForComparison.length;r<i;r++)if(o=this.jsonForComparison[r],n===JSON.stringify(o.ibs||[])){s=!0;break}s?this.jsonDuplicates.push(e):t()}else t();if((this.receivedThirdPartyCookiesNotification||!ae.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}f.idSyncDisableSyncs||f.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){a.messageSendingInterval=ae.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var n=f._getField("MCAAMLH"),a=e.d_region||e.dcs_region;return n?a&&(f._setFieldExpire("MCAAMLH",t),f._setField("MCAAMLH",a),parseInt(n,10)!==a&&(this.regionChanged=!0,this.timesRegionChanged++,f._setField("MCSYNCSOP",""),f._setField("MCSYNCS",""),n=a)):(n=a)&&(f._setFieldExpire("MCAAMLH",t),f._setField("MCAAMLH",n)),n||(n=""),n},processSyncOnPage:function(e){var t,n,a,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(a=0;a<n;a++)(r=t[a]).syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,n,a,r,i,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,a=0;a<n;a++)r=t[a],i=[o("ibs"),o(r.id||""),o(r.tag||""),J.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(i.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,i.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,n){var a="syncOnPage"===n,r=a?"MCSYNCSOP":"MCSYNCS";f._readVisitor();var i,o,s=f._getField(r),c=!1,u=!1,l=Math.ceil((new Date).getTime()/ae.MILLIS_PER_DAY);s?(i=s.split("*"),c=(o=this.pruneSyncData(i,e.id,l)).dataPresent,u=o.dataValid,c&&u||this.fireSync(a,e,t,i,r,l)):(i=[],this.fireSync(a,e,t,i,r,l))},pruneSyncData:function(e,t,n){var a,r,i,o=!1,s=!1;for(r=0;r<e.length;r++)a=e[r],i=parseInt(a.split("-")[1],10),a.match("^"+t+"-")?(o=!0,n<i?s=!0:(e.splice(r,1),r--)):i<=n&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(e,t,n,a,l,r){var d=this;if(e){if("img"===t.tag){var i,o,s,c,u=t.url,p=f.loadSSL?"https:":"http:";for(i=0,o=u.length;i<o;i++){s=u[i],c=/^\/\//.test(s);var m=new Image;m.addEventListener("load",function(o,s,c,u){return function(){d.onPagePixels[o]=null,f._readVisitor();var e,t,n,a,r=f._getField(l),i=[];if(r)for(t=0,n=(e=r.split("*")).length;t<n;t++)(a=e[t]).match("^"+s.id+"-")||i.push(a);d.setSyncTrackingData(i,s,c,u)}}(this.onPagePixels.length,t,l,r)),m.src=(c?p:"")+s,this.onPagePixels.push(m)}}}else this.addMessage(n),this.setSyncTrackingData(a,t,l,r)},addMessage:function(e){var t=encodeURIComponent(f._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((ae.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,n,a){e.push(t.id+"-"+(a+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),f._setField(n,e.join("*"))},sendMessages:function(){var e,t=this,n="",a=encodeURIComponent;this.regionChanged&&(n=a("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?ae.POST_MESSAGE_ENABLED?(e=n+a("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){ee.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof f._subdomain&&f._subdomain.length?this.subdomain=f._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(f.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===r.readyState||"loaded"===r.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof f.idSyncIDCallResult?f.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof f.idSyncAfterIDCallResult&&f.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return f._forceSyncIDCall||!e||t-e>ae.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(r.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},F={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},
trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},U={getConfigNames:function(){return Object.keys(F)},getConfigs:function(){return F},normalizeConfig:function(e,t){return F[e]&&"boolean"===F[e].type?"function"!=typeof t?t:t():t}},q=function(e){var r={};return e.on=function(e,t,n){if(!t||"function"!=typeof t)throw new Error("[ON] Callback should be a function.");r.hasOwnProperty(e)||(r[e]=[]);var a=r[e].push({callback:t,context:n})-1;return function(){r[e].splice(a,1),r[e].length||delete r[e]}},e.off=function(e,t){r.hasOwnProperty(e)&&(r[e]=r[e].filter(function(e){if(e.callback!==t)return e}))},e.publish=function(e){if(r.hasOwnProperty(e)){var t=[].slice.call(arguments,1);r[e].slice(0).forEach(function(e){e.callback.apply(e.context,t)})}},e.publish},H={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},B={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ie=(e(v={},B.AAM,565),e(v,B.ECID,565),v),oe=(e(h={},B.AAM,[1,10]),e(h,B.ECID,[1,10]),h),se=["videoaa","iabConsentHash"],ce=(b=B,Object.keys(b).map(function(e){return b[e]})),ue=function(){var a={};return a.callbacks=Object.create(null),a.add=function(e,t){if(!c(t))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");a.callbacks[e]=a.callbacks[e]||[];var n=a.callbacks[e].push(t)-1;return function(){a.callbacks[e].splice(n,1)}},a.execute=function(e,t){if(a.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;a.callbacks[e].length;){var n=a.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete a.callbacks[e]}catch(a){}}},a.executeAll=function(n,e){(e||n&&!s(n))&&Object.keys(a.callbacks).forEach(function(e){var t=void 0!==n[e]?n[e]:"";a.execute(e,t)},a)},a.hasCallbacks=function(){return Boolean(Object.keys(a.callbacks).length)},a},le=function(){},de=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},pe=function(a,r,e){return e()?function(){if(de(a)){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console[a].apply(console,[r].concat(t))}}:le},me=a,fe=function(){for(var r=[],e=0;e<256;e++){for(var t=e,n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;r.push(t)}return function(e,t){e=unescape(encodeURIComponent(e)),t||(t=0),t^=-1;for(var n=0;n<e.length;n++){var a=255&(t^e.charCodeAt(n));t=t>>>8^r[a]}return(t^=-1)>>>0}}(),ge=new me("[ADOBE OPT-IN]"),ve=function(e,t){return W(e)===t},he=function(e,t){return e instanceof Array?e:ve(e,"string")?[e]:t||[]},be=function(t){var e=Object.keys(t);return!!e.length&&e.every(function(e){return!0===t[e]})},ye=function(e,t){var n=1<arguments.length&&void 0!==t&&arguments[1];return!(!e||Pe(e))&&he(e).every(function(e){return-1<ce.indexOf(e)||n&&-1<se.indexOf(e)})},_e=function(e,n){return e.reduce(function(e,t){return e[t]=n,e},{})},we=function(e){return JSON.parse(JSON.stringify(e))},Pe=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Ce=function(e){if(Se(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Ee=function(e){return void 0===e||(Se(e)?ye(Object.keys(e),!0):ke(e))},ke=function(e){try{var t=JSON.parse(e);return!!e&&ve(e,"string")&&ye(Object.keys(t),!0)}catch(e){return!1}},Se=function(e){return null!==e&&ve(e,"object")&&!1===Array.isArray(e)},Te=function(){},je=function(e){return ve(e,"function")?e():e},xe=function(e,t){Ee(e)||ge.error("".concat(t))},Oe=function(t){return Object.keys(t).map(function(e){return t[e]})},Ae=function(e){return Oe(e).filter(function(e,t,n){return n.indexOf(e)===t})},Ve=function(d){return function(e){var t=0<arguments.length&&void 0!==e?arguments[0]:{},n=t.command,a=t.params,r=void 0===a?{}:a,i=t.callback,o=void 0===i?Te:i;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),c=d[s[0]],u=s[1];if(!c||"function"!=typeof c[u])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(r,{callback:o});c[u].call(c,l)}catch(d){ge.error("[execute] Something went wrong: "+d.message)}}};u.prototype=Object.create(Error.prototype),u.prototype.constructor=u;var Ie="fetchPermissions",De="[OptIn#registerPlugin] Plugin is invalid.";l.Categories=B,l.TimeoutError=u;var Ne=Object.freeze({OptIn:l,IabPlugin:g}),Le=function(d,p){d.publishDestinations=function(e,t,n){var a=t,r=n;try{r="function"==typeof r?r:e.callback}catch(d){r=function(){}}var i=p;if(i.readyToAttachIframePreliminary()){if("string"==typeof e){if(!e.length)return void r({error:"subdomain is not a populated string."});if(!(a instanceof Array&&a.length))return void r({error:"messages is not a populated array."});var o=!1;if(a.forEach(function(e){"string"==typeof e&&e.length&&(i.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!J.isObject(e))return void r({error:"Invalid parameters passed."});var s=e;if("string"!=typeof(e=s.subdomain)||!e.length)return void r({error:"config.subdomain is not a populated string."});var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void r({error:"config.urlDestinations is not a populated array."});var u=[];c.forEach(function(e){J.isObject(e)&&(e.hideReferrer?e.message&&i.addMessage(e.message):u.push(e))}),function l(){u.length&&setTimeout(function(){var e=new Image,t=u.shift();e.src=t.url,i.onPageDestinationsFired.push(t),l()},100)}()}i.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),i.requestToProcess()):!d.subdomain&&d._getField("MCMID")?(i.subdomain=e,i.doAttachIframe=!0,i.url=i.getUrl(),i.readyToAttachIframe()?(i.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),i.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):i.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}else r({error:"The destination publishing iframe is disabled in the Visitor library."})}},Re=function W(e){function t(e,t){return e>>>t|e<<32-t}for(var n,a,r=Math.pow,i=r(2,32),o="",s=[],c=8*e.length,u=W.h=W.h||[],l=W.k=W.k||[],d=l.length,p={},m=2;d<64;m++)if(!p[m]){for(n=0;n<313;n+=m)p[n]=m;u[d]=r(m,.5)*i|0,l[d++]=r(m,1/3)*i|0}for(e+="\x80";e.length%64-56;)e+="\0";for(n=0;n<e.length;n++){if((a=e.charCodeAt(n))>>8)return;s[n>>2]|=a<<(3-n)%4*8}for(s[s.length]=c/i|0,s[s.length]=c,a=0;a<s.length;){var f=s.slice(a,a+=16),g=u;for(u=u.slice(0,8),n=0;n<64;n++){var v=f[n-15],h=f[n-2],b=u[0],y=u[4],_=u[7]+(t(y,6)^t(y,11)^t(y,25))+(y&u[5]^~y&u[6])+l[n]+(f[n]=n<16?f[n]:f[n-16]+(t(v,7)^t(v,18)^v>>>3)+f[n-7]+(t(h,17)^t(h,19)^h>>>10)|0);(u=[_+((t(b,2)^t(b,13)^t(b,22))+(b&u[1]^b&u[2]^u[1]&u[2]))|0].concat(u))[4]=u[4]+_|0}for(n=0;n<8;n++)u[n]=u[n]+g[n]|0}for(n=0;n<8;n++)for(a=3;a+1;a--){var w=u[n]>>8*a&255;o+=(w<16?0:"")+w.toString(16)}return o},Me=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Re(e)),e},Fe=function(e){return String(e).trim().toLowerCase()},Ue=Ne.OptIn;J.defineGlobalNamespace(),window.adobe.OptInCategories=Ue.Categories;var qe=function(a,n,e){function p(){h._customerIDsHashChanged=!1}function t(e){var a=e;return function(e){var t=e||C.location.href;try{var n=h._extractParamFromUri(t,a);if(n)return U.parsePipeDelimetedKeyValues(n)}catch(e){}}}function r(e){function t(e,t,n){e&&e.match(ae.VALID_VISITOR_ID_REGEX)&&(n===j&&(P=!0),t(e))}t(e[j],h.setMarketingCloudVisitorID,j),h._setFieldExpire(I,-1),t(e[A],h.setAnalyticsVisitorID)}function i(e){e=e||{},h._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",h._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},h._supplementalDataIDLast=e.supplementalDataIDLast||"",h._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function o(e){function r(e,t,n){return(n=n?n+="|":n)+(e+"=")+encodeURIComponent(t)}function t(e,t){var n=t[0],a=t[1];return null!=a&&a!==D&&(e=r(n,a,e)),e}var n,a=e.reduce(t,"");return(n=(n=a)?n+="|":n)+"TS="+U.getTimestampInSeconds()}function s(e){var t=e.minutesToLive,n="";return(h.idSyncDisableSyncs||h.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function c(){return!(!h.configs.doesOptInApply||b.optIn.isComplete&&d())}function d(){return h.configs.doesOptInApply&&h.configs.isIabContext?b.optIn.isApproved(b.optIn.Categories.ECID)&&w:b.optIn.isApproved(b.optIn.Categories.ECID)}function u(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",a=h[t];h[t]=function(e){return d()&&h.isAllowed()?a.apply(h,arguments):("function"==typeof e&&h._callCallback(e,[n]),n)}})}function l(){var e=h._getAudienceManagerURLData(),t=e.url;return h._loadData(T,t,null,e)}function m(e,t){if(w=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(y=t.consentString,_=t.hasConsentChangedSinceLastCmpPull?1:0),l(),v()}function f(e,t){if(w=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(y=t.consentString,_=t.hasConsentChangedSinceLastCmpPull?1:0),h.init(),v()}function g(){b.optIn.isComplete&&(b.optIn.isApproved(b.optIn.Categories.ECID)?h.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:f}):(h.init(),v()):h.configs.isIabContext?b.optIn.execute({command:"iabPlugin.fetchConsentData",callback:m}):(u(),v()))}function v(){b.optIn.off("complete",g)}if(!e||e.split("").reverse().join("")!==a)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var h=this,b=window.adobe,y="",_=0,w=!1,P=!1;h.version="5.2.0";var C=z,E=C.Visitor;E.version=h.version,E.AuthState=G.AUTH_STATE,E.OptOut=G.OPT_OUT,C.s_c_in||(C.s_c_il=[],C.s_c_in=0),h._c="Visitor",h._il=C.s_c_il,h._in=C.s_c_in,h._il[h._in]=h,C.s_c_in++,h._instanceType="regular",h._log={requests:[]},h.marketingCloudOrgID=a,h.cookieName="AMCV_"+a,h.sessionCookieName="AMCVS_"+a;var k={};n&&n.secureCookie&&n.sameSiteCookie&&(k={sameSite:n.sameSiteCookie,secure:n.secureCookie}),h.cookieDomain=h.useLocalStorage?"":X(null,k),h.loadSSL=!0,h.loadTimeout=3e4,h.CORSErrors=[],h.marketingCloudServer=h.audienceManagerServer="dpm.demdex.net",h.sdidParamExpiry=30;var S=null,T="MC",j="MCMID",x="MCIDTS",O="A",A="MCAID",V="AAM",I="MCAAMB",D="NONE",N=function(e){return!Object.prototype[e]},L=ne(h);h.FIELDS=G.FIELDS,h.cookieRead=function(e){return h.useLocalStorage?e===h.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):Q.get(e)},h.cookieWrite=function(e,t,n){var a=""+t;if(h.useLocalStorage)return e===h.sessionCookieName?sessionStorage.setItem(e,a):localStorage.setItem(e,a);var r=h.cookieLifetime?(""+h.cookieLifetime).toUpperCase():"",i={expires:n,domain:h.cookieDomain,cookieLifetime:r};return h.configs&&h.configs.secureCookie&&"https:"===location.protocol&&(i.secure=!0),h.configs&&h.configs.sameSiteCookie&&"https:"===location.protocol&&(i.sameSite=G.SAME_SITE_VALUES[h.configs.sameSiteCookie.toUpperCase()]||"Lax"),Q.set(e,a,i)},h.removeCookie=function(e){if(h.useLocalStorage)return e===h.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:h.cookieDomain};return h.configs&&h.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),h.configs&&h.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=G.SAME_SITE_VALUES[h.configs.sameSiteCookie.toUpperCase()]||"Lax"),Q.remove(e,t)},h.resetState=function(e){e?h._mergeServerState(e):i()},h._isAllowedDone=!1,h._isAllowedFlag=!1,h.isAllowed=function(){return h._isAllowedDone||(h._isAllowedDone=!0,(h.cookieRead(h.cookieName)||h.cookieWrite(h.cookieName,"T",1))&&(h._isAllowedFlag=!0)),"T"===h.cookieRead(h.cookieName)&&h.removeCookie(h.cookieName),h._isAllowedFlag},h.setMarketingCloudVisitorID=function(e){h._setMarketingCloudFields(e)},h._use1stPartyMarketingCloudServer=!1,h.getMarketingCloudVisitorID=function(e,t){h.marketingCloudServer&&h.marketingCloudServer.indexOf(".demdex.net")<0&&(h._use1stPartyMarketingCloudServer=!0);var n=h._getAudienceManagerURLData("_setMarketingCloudFields"),a=n.url;return h._getRemoteField(j,a,e,t,n)};var R=function(t,e){var n={};h.getMarketingCloudVisitorID(function(){e.forEach(function(e){n[e]=h._getField(e,!0)}),-1!==e.indexOf("MCOPTOUT")?h.isOptedOut(function(e){n.MCOPTOUT=e,t(n)},null,!0):t(n)},!0)};h.getVisitorValues=function(e,t){var n={MCMID:{fn:h.getMarketingCloudVisitorID,args:[!0],context:h},MCOPTOUT:{fn:h.isOptedOut,args:[void 0,!0],context:h},MCAID:{fn:h.getAnalyticsVisitorID,args:[!0],context:h},MCAAMLH:{fn:h.getAudienceManagerLocationHint,args:[!0],context:h},MCAAMB:{fn:h.getAudienceManagerBlob,args:[!0],context:h}},a=t&&t.length?J.pluck(n,t):n;t&&-1===t.indexOf("MCAID")?R(e,t):K(a,e)},h._currentCustomerIDs={},h._customerIDsHashChanged=!1,h._newCustomerIDsHash="",h.setCustomerIDs=function(e,t){if(!h.isOptedOut()&&e){if(!J.isObject(e)||J.isObjectEmpty(e))return!1;var n,a,r,i;for(n in h._readVisitor(),e)if(N(n)&&(h._currentCustomerIDs.dataSources=h._currentCustomerIDs.dataSources||{},t=(a=e[n]).hasOwnProperty("hashType")?a.hashType:t,a))if("object"===W(a)){var o={};if(a.id){if(t){if(!(i=Me(Fe(a.id),t)))return;a.id=i,o.hashType=t}o.id=a.id}null!=a.authState&&(o.authState=a.authState),h._currentCustomerIDs.dataSources[n]=o}else if(t){if(!(i=Me(Fe(a),t)))return;h._currentCustomerIDs.dataSources[n]={id:i,hashType:t}}else h._currentCustomerIDs.dataSources[n]={id:a};var s=h.getCustomerIDs(!0),c=h._getField("MCCIDH"),u="";for(r in c||(c=0),s){var l=s[r];if(!J.isObjectEmpty(l))for(n in l)N(n)&&(u+=(u?"|":"")+n+"|"+((a=l[n]).id?a.id:"")+(a.authState?a.authState:""))}h._newCustomerIDsHash=String(h._hash(u)),h._newCustomerIDsHash!==c&&(h._customerIDsHashChanged=!0,h._mapCustomerIDs(p))}},h.syncIdentity=function(e,t){if(!h.isOptedOut()&&e){if(!J.isObject(e)||J.isObjectEmpty(e))return!1;var n,a,r,i,o;for(n in h._readVisitor(),e)if(N(n)&&(h._currentCustomerIDs.nameSpaces=h._currentCustomerIDs.nameSpaces||{},t=(a=e[n]).hasOwnProperty("hashType")?a.hashType:t,a&&"object"===W(a))){var s={};if(a.id){if(t){if(!(r=Me(Fe(a.id),t)))return;a.id=r,s.hashType=t}s.id=a.id}null!=a.authState&&(s.authState=a.authState),a.dataSource&&(h._currentCustomerIDs.dataSources=h._currentCustomerIDs.dataSources||{},i=a.dataSource,h._currentCustomerIDs.dataSources[i]=s),h._currentCustomerIDs.nameSpaces[n]=s}var c=h.getCustomerIDs(!0),u=h._getField("MCCIDH"),l="";for(o in u||(u="0"),c){var d=c[o];if(!J.isObjectEmpty(d))for(n in d)N(n)&&(l+=(l?"|":"")+n+"|"+((a=d[n]).id?a.id:"")+(a.authState?a.authState:""))}h._newCustomerIDsHash=String(h._hash(l)),h._newCustomerIDsHash!==u&&(h._customerIDsHashChanged=!0,h._mapCustomerIDs(p))}},h.getCustomerIDs=function(e){h._readVisitor();var t,n,a={dataSources:{},nameSpaces:{}},r=h._currentCustomerIDs.dataSources;for(t in r)N(t)&&(n=r[t]).id&&(a.dataSources[t]||(a.dataSources[t]={}),a.dataSources[t].id=n.id,null!=n.authState?a.dataSources[t].authState=n.authState:a.dataSources[t].authState=E.AuthState.UNKNOWN,n.hashType&&(a.dataSources[t].hashType=n.hashType));var i=h._currentCustomerIDs.nameSpaces;for(t in i)N(t)&&(n=i[t]).id&&(a.nameSpaces[t]||(a.nameSpaces[t]={}),a.nameSpaces[t].id=n.id,null!=n.authState?a.nameSpaces[t].authState=n.authState:a.nameSpaces[t].authState=E.AuthState.UNKNOWN,n.hashType&&(a.nameSpaces[t].hashType=n.hashType));return e?a:a.dataSources},h.setAnalyticsVisitorID=function(e){h._setAnalyticsFields(e)},h.getAnalyticsVisitorID=function(e,t,n){if(!U.isTrackingServerPopulated()&&!n)return h._callCallback(e,[""]),"";var a="";if(n||(a=h.getMarketingCloudVisitorID(function(){h.getAnalyticsVisitorID(e,!0)})),a||n){var r=n?h.marketingCloudServer:h.trackingServer,i="";h.loadSSL&&(n?h.marketingCloudServerSecure&&(r=h.marketingCloudServerSecure):h.trackingServerSecure&&(r=h.trackingServerSecure));var o={};if(r){var s="http"+(h.loadSSL?"s":"")+"://"+r+"/id",c="d_visid_ver="+h.version+"&mcorgid="+encodeURIComponent(h.marketingCloudOrgID)+(a?"&mid="+encodeURIComponent(a):"")+(h.idSyncDisable3rdPartySyncing||h.disableThirdPartyCookies?"&d_coppa=true":""),u=["s_c_il",h._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];i=s+"?"+c+"&callback=s_c_il%5B"+h._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+c,o.callback=u}return o.url=i,h._getRemoteField(n?j:A,i,e,t,o)}return""},h.getAudienceManagerLocationHint=function(e,t){if(h.getMarketingCloudVisitorID(function(){h.getAudienceManagerLocationHint(e,!0)})){var n=h._getField(A);if(!n&&U.isTrackingServerPopulated()&&(n=h.getAnalyticsVisitorID(function(){h.getAudienceManagerLocationHint(e,!0)})),n||!U.isTrackingServerPopulated()){var a=h._getAudienceManagerURLData(),r=a.url;return h._getRemoteField("MCAAMLH",r,e,t,a)}}return""},h.getLocationHint=h.getAudienceManagerLocationHint,h.getAudienceManagerBlob=function(e,t){if(h.getMarketingCloudVisitorID(function(){h.getAudienceManagerBlob(e,!0)})){var n=h._getField(A);if(!n&&U.isTrackingServerPopulated()&&(n=h.getAnalyticsVisitorID(function(){h.getAudienceManagerBlob(e,!0)})),n||!U.isTrackingServerPopulated()){var a=h._getAudienceManagerURLData(),r=a.url;return h._customerIDsHashChanged&&h._setFieldExpire(I,-1),h._getRemoteField(I,r,e,t,a)}}return""},h._supplementalDataIDCurrent="",h._supplementalDataIDCurrentConsumed={},h._supplementalDataIDLast="",h._supplementalDataIDLastConsumed={};var M=!(h.getSupplementalDataID=function(e,t){h._supplementalDataIDCurrent||t||(h._supplementalDataIDCurrent=h._generateID(1));var n=h._supplementalDataIDCurrent;return h._supplementalDataIDLast&&!h._supplementalDataIDLastConsumed[e]?(n=h._supplementalDataIDLast,h._supplementalDataIDLastConsumed[e]=!0):n&&(h._supplementalDataIDCurrentConsumed[e]&&(h._supplementalDataIDLast=h._supplementalDataIDCurrent,h._supplementalDataIDLastConsumed=h._supplementalDataIDCurrentConsumed,h._supplementalDataIDCurrent=n=t?"":h._generateID(1),h._supplementalDataIDCurrentConsumed={}),n&&(h._supplementalDataIDCurrentConsumed[e]=!0)),n});h._liberatedOptOut=null,h.getOptOut=function(e,t){var n=h._getAudienceManagerURLData("_setMarketingCloudFields"),a=n.url;if(d())return h._getRemoteField("MCOPTOUT",a,e,t,n);if(h._registerCallback("liberatedOptOut",e),null!==h._liberatedOptOut)return h._callAllCallbacks("liberatedOptOut",[h._liberatedOptOut]),M=!1,h._liberatedOptOut;if(M)return null;M=!0;var r="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[r],z[r]=function(e){if(e===Object(e)){var t,n,a=J.parseOptOut(e,t,D);t=a.optOut,n=1e3*a.d_ottl,h._liberatedOptOut=t,setTimeout(function(){h._liberatedOptOut=null},n)}h._callAllCallbacks("liberatedOptOut",[t]),M=!1},L.fireCORS(n),null};var F={subscribed:(h.isOptedOut=function(n,a,e){a||(a=E.OptOut.GLOBAL);var t=h.getOptOut(function(e){var t=e===E.OptOut.GLOBAL||0<=e.indexOf(a);h._callCallback(n,[t])},e);return t?t===E.OptOut.GLOBAL||0<=t.indexOf(a):null},!1),callbacks:[]};h.onReceiveEcid=function(e){if(d())return h.getMarketingCloudVisitorID(e,!0);F.subscribed=!0,e&&"function"==typeof e&&F.callbacks.push(e)},h._fields=null,h._fieldsExpired=null,h._hash=function(e){var t,n=0;if(e)for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n},h._generateID=te,h._generateLocalMID=function(){var e=h._generateID(0);return B.isClientSideMarketingCloudVisitorID=!0,e},h._callbackList=null,h._callCallback=function(e,t){try{"function"==typeof e?e.apply(C,t):e[1].apply(e[0],t)}catch(e){}},h._registerCallback=function(e,t){t&&(null==h._callbackList&&(h._callbackList={}),null==h._callbackList[e]&&(h._callbackList[e]=[]),h._callbackList[e].push(t))},h._callAllCallbacks=function(e,t){if(null!=h._callbackList){var n=h._callbackList[e];if(n)for(;0<n.length;)h._callCallback(n.shift(),t)}},h._addQuerystringParam=function(e,t,n,a){var r=encodeURIComponent(t)+"="+encodeURIComponent(n),i=U.parseHash(e),o=U.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+i;var s=o.split("?"),c=s[0]+"?",u=s[1];return c+U.addQueryParamAtLocation(u,r,a)+i},h._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length)return decodeURIComponent(n[1])},h._parseAdobeMcFromUrl=t(ae.ADOBE_MC),h._parseAdobeMcSdidFromUrl=t(ae.ADOBE_MC_SDID),h._attemptToPopulateSdidFromUrl=function(e){var t=h._parseAdobeMcSdidFromUrl(e),n=1e9;t&&t.TS&&(n=U.getTimestampInSeconds()-t.TS),t&&t.SDID&&t.MCORGID===a&&n<h.sdidParamExpiry&&(h._supplementalDataIDCurrent=t.SDID,h._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},h._attemptToPopulateIdsFromUrl=function(){var e=h._parseAdobeMcFromUrl();if(e&&e.TS){var t=U.getTimestampInSeconds()-e.TS;if(Math.floor(t/60)>ae.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==a)return;r(e)}},h._mergeServerState=function(e){if(e)try{if(a=e,(e=U.isObject(a)?a:JSON.parse(a))[h.marketingCloudOrgID]){var t=e[h.marketingCloudOrgID];n=t.customerIDs,U.isObject(n)&&h.setCustomerIDs(n),i(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}var n,a},h._timeout=null,h._loadData=function(e,t,n,a){t=h._addQuerystringParam(t,"d_fieldgroup",e,1),a.url=h._addQuerystringParam(a.url,"d_fieldgroup",e,1),a.corsUrl=h._addQuerystringParam(a.corsUrl,"d_fieldgroup",e,1),B.fieldGroupObj[e]=!0,a===Object(a)&&a.corsUrl&&"XMLHttpRequest"===L.corsMetadata.corsType&&L.fireCORS(a,n,e)},h._clearTimeout=function(e){null!=h._timeout&&h._timeout[e]&&(clearTimeout(h._timeout[e]),h._timeout[e]=0)},h._settingsDigest=0,h._getSettingsDigest=function(){if(!h._settingsDigest){var e=h.version;h.audienceManagerServer&&(e+="|"+h.audienceManagerServer),h.audienceManagerServerSecure&&(e+="|"+h.audienceManagerServerSecure),h._settingsDigest=h._hash(e)}return h._settingsDigest},h._readVisitorDone=!1,h._readVisitor=function(){if(!h._readVisitorDone){h._readVisitorDone=!0;var e,t,n,a,r,i,o=h._getSettingsDigest(),s=!1,c=h.cookieRead(h.cookieName),u=new Date;if(c||P||h.discardTrackingServerECID||(c=h.cookieRead(ae.FIRST_PARTY_SERVER_COOKIE)),null==h._fields&&(h._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)n=(t=c[e].split("-"))[0],a=c[e+1],1<t.length?(r=parseInt(t[1],10),i=0<t[1].indexOf("s")):(r=0,i=!1),s&&("MCCIDH"===n&&(a=""),0<r&&(r=u.getTime()/1e3-60)),n&&a&&(h._setField(n,a,1),0<r&&(h._fields["expire"+n]=r+(i?"s":""),(u.getTime()>=1e3*r||i&&!h.cookieRead(h.sessionCookieName))&&(h._fieldsExpired||(h._fieldsExpired={}),h._fieldsExpired[n]=!0)));!h._getField(A)&&U.isTrackingServerPopulated()&&(c=h.cookieRead("s_vi"))&&1<(c=c.split("|")).length&&0<=c[0].indexOf("v1")&&(0<=(e=(a=c[1]).indexOf("["))&&(a=a.substring(0,e)),a&&a.match(ae.VALID_VISITOR_ID_REGEX)&&h._setField(A,a))}},h._appendVersionTo=function(e){var t="vVersion|"+h.version,n=e?h._getCookieVersion(e):null;return n?Z.areVersionsDifferent(n,h.version)&&(e=e.replace(ae.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},h._writeVisitor=function(){var e,t,n=h._getSettingsDigest();for(e in h._fields)N(e)&&h._fields[e]&&"expire"!==e.substring(0,6)&&(t=h._fields[e],n+=(n?"|":"")+e+(h._fields["expire"+e]?"-"+h._fields["expire"+e]:"")+"|"+t);n=h._appendVersionTo(n),h.cookieWrite(h.cookieName,n,1)},h._getField=function(e,t){return null==h._fields||!t&&h._fieldsExpired&&h._fieldsExpired[e]?null:h._fields[e]},h._setField=function(e,t,n){null==h._fields&&(h._fields={}),h._fields[e]=t,n||h._writeVisitor()},h._getFieldList=function(e,t){var n=h._getField(e,t);return n?n.split("*"):null},h._setFieldList=function(e,t,n){h._setField(e,t?t.join("*"):"",n)},h._getFieldMap=function(e,t){var n=h._getFieldList(e,t);if(n){var a,r={};for(a=0;a<n.length;a+=2)r[n[a]]=n[a+1];return r}return null},h._setFieldMap=function(e,t,n){var a,r=null;if(t)for(a in r=[],t)N(a)&&(r.push(a),r.push(t[a]));h._setFieldList(e,r,n)},h._setFieldExpire=function(e,t,n){var a=new Date;a.setTime(a.getTime()+1e3*t),null==h._fields&&(h._fields={}),h._fields["expire"+e]=Math.floor(a.getTime()/1e3)+(n?"s":""),t<0?(h._fieldsExpired||(h._fieldsExpired={}),h._fieldsExpired[e]=!0):h._fieldsExpired&&(h._fieldsExpired[e]=!1),n&&(h.cookieRead(h.sessionCookieName)||h.cookieWrite(h.sessionCookieName,"1"))},h._findVisitorID=function(e){return e&&("object"===W(e)&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=D),e&&(e===D||e.match(ae.VALID_VISITOR_ID_REGEX))||(e="")),e},h._setFields=function(e,t){if(h._clearTimeout(e),null!=h._loading&&(h._loading[e]=!1),B.fieldGroupObj[e]&&B.setState(e,!1),e===T){!0!==B.isClientSideMarketingCloudVisitorID&&(B.isClientSideMarketingCloudVisitorID=!1);var n=h._getField(j);if(!n||h.overwriteCrossDomainMCIDAndAID){if(!(n="object"===W(t)&&t.mid?t.mid:h._findVisitorID(t))){if(h._use1stPartyMarketingCloudServer&&!h.tried1stPartyMarketingCloudServer)return h.tried1stPartyMarketingCloudServer=!0,void h.getAnalyticsVisitorID(null,!1,!0);n=h._generateLocalMID()}h._setField(j,n)}n&&n!==D||(n=""),"object"===W(t)&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&h._setFields(V,t),h._use1stPartyMarketingCloudServer&&t.mid&&h._setFields(O,{id:t.id})),h._callAllCallbacks(j,[n])}if(e===V&&"object"===W(t)){var a=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(a=parseInt(t.id_sync_ttl,10));var r=q.getRegionAndCheckIfChanged(t,a);h._callAllCallbacks("MCAAMLH",[r]);var i=h._getField(I);(t.d_blob||t.blob)&&((i=t.d_blob)||(i=t.blob),h._setFieldExpire(I,a),h._setField(I,i)),i||(i=""),h._callAllCallbacks(I,[i]),!t.error_msg&&h._newCustomerIDsHash&&h._setField("MCCIDH",h._newCustomerIDsHash)}if(e===O){var o=h._getField(A);o&&!h.overwriteCrossDomainMCIDAndAID||((o=h._findVisitorID(t))?o!==D&&h._setFieldExpire(I,-1):o=D,h._setField(A,o)),o&&o!==D||(o=""),h._callAllCallbacks(A,[o])}if(h.idSyncDisableSyncs||h.disableIdSyncs)q.idCallNotProcesssed=!0;else{q.idCallNotProcesssed=!1;var s={};s.ibs=t.ibs,s.subdomain=t.subdomain,q.processIDCallData(s)}if(t===Object(t)){var c,u;d()&&h.isAllowed()&&(c=h._getField("MCOPTOUT"));var l=J.parseOptOut(t,c,D);c=l.optOut,u=l.d_ottl,h._setFieldExpire("MCOPTOUT",u,!0),h._setField("MCOPTOUT",c),h._callAllCallbacks("MCOPTOUT",[c])}},h._loading=null,h._getRemoteField=function(n,e,t,a,r){var i,o="",s=U.isFirstPartyAnalyticsVisitorIDCall(n),c={MCAAMLH:!0,MCAAMB:!0};if(d()&&h.isAllowed())if(h._readVisitor(),!(!(o=h._getField(n,!0===c[n]))||h._fieldsExpired&&h._fieldsExpired[n])||h.disableThirdPartyCalls&&!s)o||(n===j?(h._registerCallback(n,t),o=h._generateLocalMID(),h.setMarketingCloudVisitorID(o)):n===A?(h._registerCallback(n,t),o="",h.setAnalyticsVisitorID(o)):a=!(o=""));else if(n===j||"MCOPTOUT"===n?i=T:"MCAAMLH"===n||n===I?i=V:n===A&&(i=O),i)return!e||null!=h._loading&&h._loading[i]||(null==h._loading&&(h._loading={}),h._loading[i]=!0,i===V&&(_=0),h._loadData(i,e,function(e){if(!h._getField(n)){e&&B.setState(i,!0);var t="";n===j?t=h._generateLocalMID():i===V&&(t={error_msg:"timeout"}),h._setFields(i,t)}},r)),h._registerCallback(n,t),o||(e||h._setFields(i,{id:D}),"");return n!==j&&n!==A||o!==D||(a=!(o="")),t&&a&&h._callCallback(t,[o]),n===j&&F.subscribed&&(F.callbacks&&F.callbacks.length&&F.callbacks.forEach(function(e){h._callCallback(e,[o])}),F.subscribed=!1,F.callbacks.length=0),o},h._setMarketingCloudFields=function(e){h._readVisitor(),h._setFields(T,e)},h._mapCustomerIDs=function(e){h.getAudienceManagerBlob(e,!0)},h._setAnalyticsFields=function(e){h._readVisitor(),h._setFields(O,e)},h._setAudienceManagerFields=function(e){h._readVisitor(),h._setFields(V,e)},h._getAudienceManagerURLData=function(e){var t=h.audienceManagerServer,n="",a=h._getField(j),r=h._getField(I,!0),i=h._getField(A),o=i&&i!==D?"&d_cid_ic=AVID%01"+encodeURIComponent(i):"";if(h.loadSSL&&h.audienceManagerServerSecure&&(t=h.audienceManagerServerSecure),t){var s,c,u,l=h.getCustomerIDs(!0);if(l)for(c in l){var d=l[c];if(!J.isObjectEmpty(d)){var p="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(s in d)N(s)&&(u=d[s],o+=p+encodeURIComponent(s)+"%01"+encodeURIComponent(u.id?u.id:"")+(u.authState?"%01"+u.authState:""))}}e||(e="_setAudienceManagerFields");var m="http"+(h.loadSSL?"s":"")+"://"+t+"/id",f="d_visid_ver="+h.version+(y&&-1!==m.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+y:"")+(_&&-1!==m.indexOf("demdex.net")?"&d_cf="+_:"")+"&d_rtbd=json&d_ver=2"+(!a&&h._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(h.marketingCloudOrgID)+"&d_nsid="+(h.idSyncContainerID||0)+(a?"&d_mid="+encodeURIComponent(a):"")+(h.idSyncDisable3rdPartySyncing||h.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===S?"&d_coop_safe=1":!1===S?"&d_coop_unsafe=1":"")+(r?"&d_blob="+encodeURIComponent(r):"")+o,g=["s_c_il",h._in,e];return{url:n=m+"?"+f+"&d_cb=s_c_il%5B"+h._in+"%5D."+e,corsUrl:m+"?"+f,callback:g}}return{url:n}},h.appendVisitorIDsTo=function(e){try{var t=[[j,h._getField(j)],[A,h._getField(A)],["MCORGID",h.marketingCloudOrgID]];return h._addQuerystringParam(e,ae.ADOBE_MC,o(t))}catch(t){return e}},h.appendSupplementalDataIDTo=function(e,t){if(!(t=t||h.getSupplementalDataID(U.generateRandomString(),!0)))return e;try{var n=o([["SDID",t],["MCORGID",h.marketingCloudOrgID]]);return h._addQuerystringParam(e,ae.ADOBE_MC_SDID,n)}catch(t){return e}};var U={parseHash:function(e){var t=e.indexOf("#");return 0<t?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return 0<t?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var a=e.split("&");return n=null!=n?n:a.length,a.splice(n,0,t),a.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===A&&(t||(t=h.trackingServer),n||(n=h.trackingServerSecure),!("string"!=typeof(a=h.loadSSL?n:t)||!a.length)&&a.indexOf("2o7.net")<0&&a.indexOf("omtrdc.net")<0);var a},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){Q.remove(e,{domain:h.cookieDomain})},isTrackingServerPopulated:function(){return!!h.trackingServer||!!h.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("=");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};h._helpers=U;var q=re(h,E);h._destinationPublishing=q,h.timeoutMetricsLog=[];var H,B={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case T:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case O:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case V:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};h.isClientSideMarketingCloudVisitorID=function(){return B.isClientSideMarketingCloudVisitorID},h.MCIDCallTimedOut=function(){return B.MCIDCallTimedOut},h.AnalyticsIDCallTimedOut=function(){return B.AnalyticsIDCallTimedOut},h.AAMIDCallTimedOut=function(){return B.AAMIDCallTimedOut},h.idSyncGetOnPageSyncInfo=function(){return h._readVisitor(),h._getField("MCSYNCSOP")},h.idSyncByURL=function(e){if(!h.isOptedOut()){var t=s(e||{});if(t.error)return t.error;var n,a,r=e.url,i=encodeURIComponent,o=q;return r=r.replace(/^https:/,"").replace(/^http:/,""),n=J.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),a=["ibs",i(e.dpid),"img",i(r),t.ttl,"",n],o.addMessage(a.join("|")),o.requestToProcess(),"Successfully queued"}},h.idSyncByDataSource=function(e){if(!h.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,h.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Le(h,q),h._getCookieVersion=function(e){e=e||h.cookieRead(h.cookieName);var t=ae.VERSION_REGEX.exec(e);return t&&1<t.length?t[1]:null},
h._resetAmcvCookie=function(e){var t=h._getCookieVersion();t&&!Z.isLessThan(t,e)||h.removeCookie(h.cookieName)},h.setAsCoopSafe=function(){S=!0},h.setAsCoopUnsafe=function(){S=!1},function(){if(h.configs=Object.create(null),U.isObject(n))for(var e in n)N(e)&&(h[e]=n[e],h.configs[e]=n[e])}(),u(),h.init=function(){c()&&(b.optIn.fetchPermissions(g,!0),!b.optIn.isApproved(b.optIn.Categories.ECID))||H||(H=!0,function(){if(U.isObject(n)){h.idSyncContainerID=h.idSyncContainerID||0,S="boolean"==typeof h.isCoopSafe?h.isCoopSafe:U.parseBoolean(h.isCoopSafe),h.resetBeforeVersion&&h._resetAmcvCookie(h.resetBeforeVersion),h._attemptToPopulateIdsFromUrl(),h._attemptToPopulateSdidFromUrl(),h._readVisitor();var e=h._getField(x),t=Math.ceil((new Date).getTime()/ae.MILLIS_PER_DAY);h.idSyncDisableSyncs||h.disableIdSyncs||!q.canMakeSyncIDCall(e,t)||(h._setFieldExpire(I,-1),h._setField(x,t)),h.getMarketingCloudVisitorID(),h.getAudienceManagerLocationHint(),h.getAudienceManagerBlob(),h._mergeServerState(h.serverState)}else h._attemptToPopulateIdsFromUrl(),h._attemptToPopulateSdidFromUrl()}(),function(){if(!h.idSyncDisableSyncs&&!h.disableIdSyncs){q.checkDPIframeSrc();var e=function(){var e=q;e.readyToAttachIframe()&&e.attachIframe()};C.addEventListener("load",function(){E.windowLoaded=!0,e()});try{ee.receiveMessage(function(e){q.receiveMessage(e.data)},q.iframeHost)}catch(e){}}}(),h.whitelistIframeDomains&&ae.POST_MESSAGE_ENABLED&&(h.whitelistIframeDomains=h.whitelistIframeDomains instanceof Array?h.whitelistIframeDomains:[h.whitelistIframeDomains],h.whitelistIframeDomains.forEach(function(e){var t=new $(a,e),n=Y(h,t);ee.receiveMessage(n,e)})))}};qe.config=U;var He=z.Visitor=qe,Be=function(r){if(J.isObject(r))return Object.keys(r).filter(function(e){return""!==r[e]&&U.getConfigs()[e]}).reduce(function(e,t){var n=U.normalizeConfig(t,r[t]),a=J.normalizeBoolean(n);return e[t]=a,e},Object.create(null))},We=Ne.OptIn,ze=Ne.IabPlugin;He.getInstance=function(a,e){if(!a)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");a.indexOf("@")<0&&(a+="@AdobeOrg");var t=function(){var e=z.s_c_il;if(e)for(var t=0;t<e.length;t++){var n=e[t];if(n&&"Visitor"===n._c&&n.marketingCloudOrgID===a)return n}}();if(t)return t;var r,n=Be(e)||{};r=n||{},z.adobe.optIn=z.adobe.optIn||function(){var e=J.pluck(r,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),t=r.optInCookieDomain||r.cookieDomain;t=(t=t||X())===window.location.hostname?"":t,e.optInCookieDomain=t;var n=new We(e,{cookies:Q});if(e.isIabContext&&e.doesOptInApply){var a=new ze;n.registerPlugin(a)}return n}();var i=a.split("").reverse().join(""),o=new He(a,null,i);n.cookieDomain&&(o.cookieDomain=n.cookieDomain),n.sameSiteCookie&&n.secureCookie&&(o.configs={sameSiteCookie:n.sameSiteCookie,secureCookie:n.secureCookie}),z.s_c_il.splice(--z.s_c_in,1);var s=J.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var c,u=function(){try{return z.self!==z.parent}catch(a){return!0}}()&&((c=o).cookieWrite("TEST_AMCV_COOKIE","T",1),"T"!==c.cookieRead("TEST_AMCV_COOKIE")||(c.removeCookie("TEST_AMCV_COOKIE"),0))&&z.parent?new V(a,n,o,z.parent):new He(a,n,i);return o=null,u.init(),u},function(){function e(){He.windowLoaded=!0}z.addEventListener?z.addEventListener("load",e):z.attachEvent&&z.attachEvent("onload",e),He.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},"fm-spon-data-layer-constructor":{displayName:"Data Layer Constructor",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP45564c523eb34b1083c6e866f0f55902/",settings:{doPreMerge:!1,defaultMode:"merge",codePreMerge:function(){},dataLayerRoot:"SARAs_data",eventRootPath:"event",doPreEventMerge:!1,eventActionPath:"event.info.action",clearEventObject:!0,constructorDebug:"1",doPostEventMerge:!1,maxDataLayerSize:"",codePreEventMerge:function(){},codePostEventMerge:function(){}},modules:{"fm-spon-data-layer-constructor/src/lib/dataElements/glyphDataElement.js":{name:"glyph-data-element",displayName:"Dropdown",script:function(e,t,u,l){"use strict";function d(e){return e.toString&&"function"==typeof e.toString?e.toString():e}function p(e,t){for(var n=0,a=t.length;n<a;n++){if(!e.hasOwnProperty(t[n]))return null;e=e[t[n]]}return e}e.exports=function(e,t){u("../constructor/init")(l,"dataelement>glyphDataElement");try{var n=!(!t||"fm-spon-data-layer-constructor.data-layer-push"!==t.$type),a=n?t.detail.state:window[l.getExtensionSettings().dataLayerRoot].getState(),r=e.value.split("."),i=l.getExtensionSettings(),o=2<=(isNaN(parseInt(i.constructorDebug))?0:parseInt(i.constructorDebug)),s=p(a,r);return s=e.convertToString?d(s):s,s=e.doCustomCode&&"function"==typeof e.callback?e.callback(s):s,o&&l.logger.debug("Resolving",{value:s,path:e.value,isContext:n,convertToString:e.convertToString,modify:e.doCustomCode&&e.callback,state:a}),s}catch(c){return l.logger.error("Error Resolving Data Definition",e,"\n",c),null}}}},"fm-spon-data-layer-constructor/src/lib/dataElements/contextCustomCode.js":{name:"context-custom-code",displayName:"Custom Code",script:function(e,t,c,u){"use strict";e.exports=function(e,t){c("../constructor/init")(u,"dataelement>contextCustomCode");try{var n=!(!t||"fm-spon-data-layer-constructor.data-layer-push"!==t.$type),a=n?t.detail.state:window[u.getExtensionSettings().dataLayerRoot].getState(),r=u.getExtensionSettings(),i=2<=(isNaN(parseInt(r.constructorDebug))?0:parseInt(r.constructorDebug)),o=e.callback(a,n);return i&&u.logger.debug("Resolving",{value:o,resolver:e.callback,isContext:n,state:a}),o}catch(s){return u.logger.error("Error Resolving Data Definition",e,"\n",s),null}}}},"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js":{name:"data-layer-push",displayName:"Data Layer Push",script:function(e,t,n,a){"use strict";function r(e,t){"string"==typeof e&&""!==e&&(o[e]=o[e]||[],o[e].push(t))}function i(t){o.hasOwnProperty(t.detail.eventName)&&o[t.detail.eventName].forEach(function(e){e({detail:t.detail})})}var o={};window.removeEventListener("DataLayerConstructorEvent",i),window.addEventListener("DataLayerConstructorEvent",i),e.exports=function(e,t){n("../constructor/init")(a,"event>push"),r(e.eventName,t)}}},"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js":{name:"synchronous-code",displayName:"Synchronous Code",script:function(e,t,n,a){"use strict";e.exports=function(e,t){try{e.callback(t)}catch(n){a.logger.error("Error running synchronous code event",e,t,"\n",n)}}}},"fm-spon-data-layer-constructor/src/lib/actions/activate.js":{name:"activate",displayName:"Activate",script:function(e,t,a,r){"use strict";e.exports=function(e){a("../constructor/init")(r,"actions>activate");var t=e.firePreviousEvents;t="true"===t||!0===t;var n=window[r.getExtensionSettings().dataLayerRoot];setTimeout(function(){n.activateEvents(t)},0)}}},"fm-spon-data-layer-constructor/src/lib/main.js":{script:function(e,t,n,a){n("./constructor/init")(a,"main")}},"fm-spon-data-layer-constructor/src/lib/constructor/init.js":{script:function(e,t,n){"use strict";function a(e){!0!==r&&(r=!0,n("./polyfills")(),n("./constructor")(n("./defaultConfig")(e)))}var r=!1;e.exports=a}},"fm-spon-data-layer-constructor/src/lib/constructor/polyfills.js":{script:function(e){"use strict";e.exports=function(){return function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(window.CustomEvent=e)}(),!0}}},"fm-spon-data-layer-constructor/src/lib/constructor/constructor.js":{script:function(e){"use strict";e.exports=function(e){function s(e){var t={};return P(t,e),t}function c(e){for(var t in e)delete e[t]}function l(e,t){var n=w.getType(e);if("string"===n)e=e.split(".");else if("array"!==n)return y("unsupported path type",e,n),undefined;for(var a=t,r=0,i=e.length;r<i;r++){if(a[e[r]]===undefined)return undefined;a=a[e[r]]}return a}function p(e,t){for(var n=e.split("."),a={},r=a,i=0,o=n.length-1;i<o;i++)r=r[n[i]]={};return r[n[n.length-1]]=t,a}function d(e,t){if("array"===w.getType(e))for(;0<e.length;)try{var n=e.shift(),a=w.getType(n);"array"===a?C.metaCommand(n,t):"function"===a?C.methodCommand(n,t):"object"===a?C.mergeCommand(n,t):"reset"===n?c(t):y("invalid command type pushed:",n)}catch(r){y("processQueue error",r)}else y("queue must be an array",e)}var t="1.7.0",m={debug:!1,defaultMode:"merge",clearEventBeforeMerge:!0,eventActionPath:"event.action",eventRootPath:"event",dataLayerKey:"digitalData",eventsActivated:!1,loggingFunction:undefined,eventTriggerCallBack:undefined,eventPreMergeCallBack:undefined,eventPostMergeCallBack:undefined,pushCallBack:undefined,maxDataLayerSize:50};for(var n in e)m[n]=e[n];var u=!0,f=[],g={},v=[],h=!0,b=["merge","replace","append","arrayReplace"],y=function(){};m.debug&&(y=m.loggingFunction?m.loggingFunction:Function.prototype.bind.apply(console.debug,[console,"[Constructor]"])),-1===b.indexOf(m.defaultMode)&&(y("unknown default mode:",[m.defaultMode],"setting fallback mode:",["merge"]),m.defaultMode="merge");var r,i,_=m.defaultMode,w=(r=/\[object (Object|Boolean|Number|String|Function|Array|Date|RegExp)\]/,i=/\[object (Object|Boolean|Number|String|Function|Array|Date)\]/,{getType:function(e,t){if(null===e)return"null";if(e===undefined)return"undefined";if(1<=e.nodeType&&e.nodeName!==undefined)return"node";var n=Object.prototype.toString.call(Object(e)),a=(t?i:r).exec(n);return a?a[1].toLocaleLowerCase():"unsupported"},isNonEmptyString:function(e){return"string"==typeof e&&""!==e}}),P=function(){function u(e,t){if(++l>d)return y("recursion limit reached!"),!0;var n=!1;for(var a in t){var r=t[a],i=a;if(w.isNonEmptyString(a)&&-1!==a.indexOf(".")){var o=p(a,r);r=o[i=Object.keys(o)[0]]}var s=w.getType(r,!0);if("object"===s)"replace"!==_&&w.getType(e[i],!0)===s||(e[i]={}),n=u(e[i],r)||n;else if("array"===s)if("arrayReplace"!==_&&"replace"!==_&&w.getType(e[i],!0)===s||(e[i]=[]),"append"===_){var c=[];n=u(c,r)||n,e[i]=e[i].concat(c)}else n=u(e[i],r)||n;else"unsupported"===s?y("unsupported type detected > ignoring ",r):e[i]=r}return--l,n}var l=0,d=20;return function(e,t){return l=0,!u(e,t)}}(),a=function(a){return{set:function(e,t){var n=_;_="merge",d([p(e,t)],a),_=n},get:function(e){return l(e,a)}}},o=a(g),C={mergeCommand:function(e,t){if(e=s(e),"function"==typeof m.pushCallBack)try{m.pushCallBack(t,e)}catch(o){y("callback error:",o)}var n=l(m.eventActionPath,e),a=w.isNonEmptyString(n);if(a&&m.clearEventBeforeMerge&&c(l(m.eventRootPath,t)),a&&"function"==typeof m.eventPreMergeCallBack){try{a=m.eventPreMergeCallBack(t,l(m.eventRootPath,e),n)}catch(o){a=!1,y("callback error:",o)}a||y("event cancelled by eventPreMergeCallBack")}if(P(t,e),a){var r=s(t),i=l(m.eventRootPath,r);if(n=l(m.eventActionPath,r),t===g&&(m.debug&&v.push(r),!m.eventsActivated&&u&&f.push(r)),h&&m.eventsActivated)try{y("firing event:",n,i),"function"==typeof m.eventTriggerCallBack&&m.eventTriggerCallBack(r,i,n)}catch(o){y("callback error:",o)}else m.debug&&y("event disregarded"+(u?" and stored:":":"),i);if("function"==typeof m.eventPostMergeCallBack)try{m.eventPostMergeCallBack(r,l(m.eventRootPath,r),n)}catch(o){y("callback error:",o)}}},metaCommand:function(e,t){if(w.isNonEmptyString(e[0])){var n=e[0],a=e.slice(1);if(0===n.indexOf("mode:")){var r=n.split(":")[1];-1===b.indexOf(r)&&(y("unknown mode:",[r],"applying fallback mode:",[m.defaultMode]),r=m.defaultMode);var i=_;_=r,d(a,t),_=i}else{var o=n.split("."),s=o.pop(),c=l(o,t);try{c[s].apply(c,a)}catch(u){y("meta command",u)}}}else y("invalid command >",e[0],"<, must be non-empty string")},methodCommand:function(e,t){e.call(t===g?o:a(t))}};window[m.dataLayerKey]=window[m.dataLayerKey]||[];var E={getVersion:function(){return t},getState:function(){return g},getEventHistory:function(){return m.debug||console.warn("[Constructor] .getEventHistory() only stores events in debug mode"),v},clearEventHistory:function(){v=[]},compress:function(){window[m.dataLayerKey].splice(0,window[m.dataLayerKey].length),window[m.dataLayerKey][0]=g},activateEvents:function(e){m.eventsActivated||(m.eventsActivated=!0,u=!1,y("activating events. firing",f.length,"previously stored events?",e),e&&f.forEach(function(e){try{var t=l(m.eventRootPath,e),n=l(m.eventActionPath,e);y("firing event:",n,t),"function"==typeof m.eventTriggerCallBack&&m.eventTriggerCallBack(e,t,n)}catch(a){y("callback error",a)}}),f=[])},deactivateEvents:function(e){y("Deactivating Events. Events will be stored?",e),m.eventsActivated=!1,u=e;var t=f.length;!e&&0<t&&(y("clearing",t,"stored events"),f=[])},processExternal:function(e,t,n,a){var r=h;h=n;var i=_;return"string"==typeof a&&(-1!==b.indexOf(a)?_=a:(_=m.defaultMode,y("Invalid mode",[a],"using default",[m.defaultMode]))),t=t||{},d(e.slice(),t),h=r,_=i,t},push:function(){d(Array.prototype.slice.call(arguments),g);var e=Array.prototype.push.apply(this,arguments);return this.length>m.maxDataLayerSize&&this.splice(0,this.length-m.maxDataLayerSize),e}};for(var k in E)"function"==typeof E[k]&&(window[m.dataLayerKey][k]=E[k]);y("init",m),d(window[m.dataLayerKey].slice(),g)}}},"fm-spon-data-layer-constructor/src/lib/constructor/defaultConfig.js":{script:function(e){"use strict";e.exports=function(e){var t=e.getExtensionSettings(),n=isNaN(parseInt(t.constructorDebug))?0:parseInt(t.constructorDebug);return{debug:e.debugEnabled&&("true"===t.constructorDebug||!0===t.constructorDebug||1<=n),defaultMode:t.defaultMode||"merge",clearEventBeforeMerge:t.clearEventObject,eventActionPath:t.eventActionPath,eventRootPath:t.eventRootPath,dataLayerKey:t.dataLayerRoot,eventPreMergeCallBack:t.doPreEventMerge&&"function"==typeof t.codePreEventMerge?t.codePreEventMerge:undefined,eventPostMergeCallBack:t.doPostEventMerge&&"function"==typeof t.codePostEventMerge?t.codePostEventMerge:undefined,pushCallBack:t.doPreMerge&&"function"==typeof t.codePreMerge?t.codePreMerge:undefined,eventTriggerCallBack:function(e,t,n){var a=new CustomEvent("DataLayerConstructorEvent",{detail:{state:e,eventObject:t,eventName:n}});window.dispatchEvent(a)},maxDataLayerSize:isNaN(parseInt(t.maxDataLayerSize))?50:parseInt(t.maxDataLayerSize),loggingFunction:e.logger.debug,eventsActivated:!1}}}}}},"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP40e3bec801244c59a61bf06eb622a63c/",settings:{orgId:"79655FCF5C1D42160A495E15@AdobeOrg",customSetup:{source:function(n){n.usePlugins=!0,n.doPlugins=function(){n.eVar35=_satellite.getVar("Hit | Timestamp HH:MM [gl]"),n.prop32=_satellite.getVar("Hit | Timestamp ISO [gl]");try{n.prop50=n.events.replace(/\w+=\d+,|:\w+/g,"")}catch(t){n.prop50="noevents"}n.list1=_satellite.getVar("Editorial | Topics:List [co]");var e=~~_satellite.getVar("Page | is PUR Tracking [co]");n.contextData["cm.ssf"]=e.toString(),n.contextData["opt.sell"]="N"}}},libraryCode:{type:"managed",accounts:{staging:["%_config.value.rsid-dev:const%"],production:["%_config.value.rsid-prod:const%"],development:["%_config.value.rsid-dev:const%"]},useActivityMap:!0,scopeTrackerGlobally:!0},moduleProperties:{audienceManager:{config:{partner:"spiegel",uuidCookie:{days:30,name:"sara_aam_uuid",secure:!0}}}},trackerProperties:{charSet:"UTF-8",currencyCode:"EUR",trackingServer:"sam.spiegel.de",trackInlineStats:!0,trackDownloadLinks:!0,trackExternalLinks:!1,writeSecureCookies:!0,trackingServerSecure:"sams.spiegel.de",linkDownloadFileTypes:["doc","docx","eps","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"]}},modules:{"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,n,a){"use strict";var r=n("../sharedModules/getTracker"),i=n("../helpers/applyTrackerVariables");e.exports=function(t,n){return r().then(function(e){a.logger.info("Set variables on the tracker."),i(e,t.trackerProperties),t.customSetup&&t.customSetup.source&&t.customSetup.source.call(n.element,n,e)},function(e){a.logger.error("Cannot set variables: "+e)})}}},"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,n,a){"use strict";var r=n("../sharedModules/getTracker");e.exports=function(){return r().then(function(e){e.clearVars&&(a.logger.info("Clear variables."),e.clearVars())},function(e){a.logger.error("Cannot clear variables: "+e)})}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,n,r){"use strict";var a=n("../sharedModules/getTracker"),i=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},o=function(e){return i(e)?e.innerHTML:"link clicked"},s=function(e,t,n){if("page"===t.type)r.logger.info("Firing page view beacon."),e.t();else{var a={linkType:t.linkType||"o",linkName:t.linkName||o(n)};r.logger.info("Firing link track beacon using the values: "+JSON.stringify(a)+"."),e.tl(i(n)?n:"true",a.linkType,a.linkName)}};e.exports=function(t,n){return a().then(function(e){s(e,t,n.element)},function(e){r.logger.error("Cannot send beacon: "+e)})}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,n,a){"use strict";var r,i=n("@adobe/reactor-cookie"),o=n("@adobe/reactor-promise"),s=n("@adobe/reactor-window"),c=n("../helpers/settingsHelper"),u=n("../helpers/augmenters"),l=n("../helpers/applyTrackerVariables"),d=n("../helpers/loadLibrary"),p=n("../helpers/generateVersion")(a.buildInfo.turbineBuildDate),m="beforeSettings",f=a.getSharedModule("adobe-mcid","mcid-instance"),g=function(e){return!e||"true"===i.get(e)},v=function(a){return o.all(u.map(function(e){var t;try{t=e(a)}catch(n){setTimeout(function(){throw n})}return o.resolve(t)})).then(function(){return a})},h=function(e){return f&&(a.logger.info("Setting MCID instance on the tracker."),e.visitor=f),e},b=function(e){return a.logger.info('Setting version on tracker: "'+p+'".'),"undefined"!=typeof e.tagContainerMarker?e.tagContainerMarker=p:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+p&&(e.version+="-"+p),e},y=function(e,t,n){return t.loadPhase===m&&t.source&&(a.logger.info("Calling custom script before settings."),t.source.call(s,n)),l(n,e||{}),t.loadPhase!==m&&t.source&&(a.logger.info("Calling custom script after settings."),t.source.call(s,n)),n},_=function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),a.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},w=(r=a.getExtensionSettings(),g(r.trackingCookieName)?d(r).then(v).then(h).then(b).then(y.bind(null,r.trackerProperties,r.customSetup||{})).then(_.bind(null,r)):o.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return w}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,n){"use strict";var a=n("../helpers/augmenters");e.exports=function(e){a.push(e)}}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,n,o){"use strict";var r=n("@adobe/reactor-query-string"),i=n("@adobe/reactor-window"),s=/eVar([0-9]+)/,c=/prop([0-9]+)/,u=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),l=function(e,t,n){return n.indexOf(e)===t},d=function(e,t,n){var a=Object.keys(t).filter(u.test.bind(u));return n&&a.push("events"),(a=a.concat((e.linkTrackVars||"").split(","))).filter(function(e,t){return"None"!==e&&e&&l(e,t,a)}).join(",")},p=function(e,t){var n=t.map(function(e){return e.name});return(n=n.concat((e.linkTrackEvents||"").split(","))).filter(function(e,t){return"None"!==e&&l(e,t,n)}).join(",")},a=function(e,t,n){e[t]=n[t].join(",")},m=function(r,e,t){var i=t.dynamicVariablePrefix||"D=";t[e].forEach(function(e){var t;if("value"===e.type)t=e.value;else{var n=s.exec(e.value);if(n)t=i+"v"+n[1];else{var a=c.exec(e.value);a&&(t=i+"c"+a[1])}}r[e.name]=t})},f={linkDownloadFileTypes:a,linkExternalFilters:a,linkInternalFilters:a,hierarchies:function(t,e,n){n[e].forEach(function(e){t[e.name]=e.sections.join(e.delimiter)})},props:m,eVars:m,campaign:function(e,t,n){if("queryParam"===n[t].type){var a=r.parse(i.location.search);e[t]=a[n[t].value]}else e[t]=n[t].value},events:function(e,t,n){var a=n[t].map(function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t});e[t]=a.join(",")}};e.exports=function(t,a){var r={};a=a||{},Object.keys(a).forEach(function(e){var t=f[e],n=a[e];t?t(r,e,a):r[e]=n}),r.events&&t.events&&0<t.events.length&&(r.events=t.events+","+r.events);var e=a&&a.events&&0<a.events.length,n=d(t,r,e);n&&(r.linkTrackVars=n);var i=p(t,a.events||[]);i&&(r.linkTrackEvents=i),o.logger.info('Applying the following properties on tracker: "'+JSON.stringify(r)+'".'),Object.keys(r).forEach(function(e){t[e]=r[e]})}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,n,a){"use strict";var r=n("@adobe/reactor-window"),i={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[a.buildInfo.environment]&&(t=e[a.buildInfo.environment]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&r&&r._satellite&&r._satellite.company&&r._satellite.company.orgId&&(t=!0),t}};e.exports=i}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,n,a){"use strict";var r=n("@adobe/reactor-load-script"),i=n("@adobe/reactor-window"),o=n("@adobe/reactor-promise"),s=n("./settingsHelper"),c=n("./pollHelper"),u=function(e,t){if(!i.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+i.AppMeasurement);a.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var n=i.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(a.logger.info("Setting the tracker as window.s"),i.s=n),n},l=function(e){var t=[];switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.APP_MEASUREMENT)),s.isActivityMapEnabled(e)&&t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case s.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case s.LIB_TYPES.REMOTE:t.push("https:"===i.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(s.isAudienceManagementEnabled(e)){var n={namespace:i._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=n,t.push(a.getHostedLibFileUrl(s.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},d=function(e){return o.all(l(e).map(function(e){return a.logger.info("Loading script: "+e),r(e)}))},p=function(e,t){if(e.libraryCode.accounts)if(t.sa){var n=s.getReportSuites(e.libraryCode.accounts);a.logger.info('Setting the following report suites on the tracker: "'+n+'"'),t.sa(n)}else a.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},m=function(e){if(i[e])return a.logger.info('Found tracker located at: "'+e+'".'),i[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=d(e);switch(e.libraryCode.type){case s.LIB_TYPES.MANAGED:var n=s.getReportSuites(e.libraryCode.accounts);return t.then(u.bind(null,e,n));case s.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,i,e.libraryCode.trackerVariableName)).then(p.bind(null,e));case s.LIB_TYPES.CUSTOM:case s.LIB_TYPES.REMOTE:return t.then(m.bind(null,e.libraryCode.trackerVariableName)).then(p.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,n=function(e){return e.getUTCDate().toString(36)},a=function(e){return e.substr(e.length-1)},r=function(e){return Math.floor(e.getUTCHours()/t)},i=function(e){var t=(e.getUTCMonth()+1+12*r(e)).toString(36);return a(t)},o=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+o(t)+i(t)+n(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,n,a){"use strict";var o=n("@adobe/reactor-promise"),s=40,c=250,u=function(e,t,n){a.logger.info('Found property located at: "'+t+'"].'),e(n)},r=function(r,i){return new o(function(e,t){if(r[i])return u(e,i,r[i]);var n=1,a=setInterval(function(){r[i]&&(u(e,i,r[i]),clearInterval(a)),s<=n&&(clearInterval(a),t(new Error('Bailing out. Cannot find the variable name: "'+i+'"].'))),n++},c)})};e.exports={poll:function(e,t){return a.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),r(e,t)}}}}}},"common-analytics-plugins":{displayName:"Common Analytics Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPb691af6ae5364085b2c253385a4dda8d/",settings:{ns:{id:"ns",obj:"window",desc:"The Numbers Suite is a series of plugins that allow for...<ol><li>zeroPad - a number of zeroes to the beginning of a number</li><li>randomNumber - generate a random number with a specific number of digits</li><li>twoDecimals - round a number to the closest hundreth (for currency)</li></ol><p>This plugin suite is depricated.</p>",name:"Numbers Suite",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/numberssuite.html",version:"1.0",depricated:!0},pt:{id:"pt",obj:"tracker",desc:"Executes a function on a list of Adobe Analytics variables. For example, the following function will run the clearVars function three times, once using eVar1 as the argument, once using eVar4 as the argument, and once using eVar29 as the argument. The end result clear out the values of eVar1, eVar4 & eVar29. s.pt('eVar1,eVar4,eVar29', ',', 'clearVars');",name:"pt",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/pt-plugin.html",version:"3.0",depricated:!1},apl:{id:"apl",obj:"tracker",desc:'Add new values to list-delimited variables (e.g. events, linkTrackVars, listVars, etc.). This plugin requires "inList" to be initialized as well.',name:"Append To List",display:!0,version:"4.0",depricated:!1},rfl:{id:"rfl",obj:"tracker",desc:"Remove values from list-delimited variables (e.g. s.events, s.linkTrackVars, listVars, etc.).",name:"Remove From List",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/removefromlist.html",version:"2.1",depricated:!1},p_fo:{id:"fpo",obj:"tracker",desc:"Checks for the existence of a specific JavaScript object. If the object doesn't exist, the plugin creates the object and returns the value of true. This would be the first and only time the plugin would create this object on the current page (hence the name, pageFirstOnly). If the JavaScript object already exists on the page, the function will return the value of false.",name:"First Page Only",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/p-fo.html",version:"3.0",depricated:!1},inList:{id:"il",obj:"tracker",desc:"Check whether a value already exists within either a delimited list of values or a JavaScript array object.",name:"In List",display:!0,version:"3.0",depricated:!1},zeroPad:{display:!1,version:"1.0",depricated:!0},cleanStr:{id:"cs",obj:"window",desc:"Remove unnecessary characters from a string (or string variable), including HTML tag characters, Extra whitespaces (including double spaces), Left/right single quotes (\u2018\u2019) (replaced with straight single quotes), Tabs, Newlines/Carriage Returns. ",name:"Clean String",display:!0,version:"2.0",depricated:!1},formatTime:{id:"ft",obj:"tracker",desc:'Take a specified number of seconds and present them in a bucketed format, rounded to a benchmark value that you specify. The "inList" plugin is required by this plugin. This plugin requires "inList" to be initialized as well.',name:"Format Time",display:!0,version:"2.0",depricated:!1},getValOnce:{id:"gvo",obj:"tracker",desc:"Prevents a variable from being set equal to the same value on consecutive calls.",name:"Value Once",display:!0,version:"3.0",depricated:!1},manageVars:{id:"mv",obj:"tracker",desc:"Manipulate the values of multiple Adobe Analytics variables at one time; this version includes specific functionality to lowercase or remove unnecessary characters from multiple variable values at the same time.",name:"Manage Variables",display:!0,version:"3.0",depricated:!1},getPageName:{id:"gpn",obj:"window",desc:'Creates a value that can be inserted into the Adobe Analytics pageName variable and that is an easy-to-read, "friendly"-formatted version of the current URL.',name:"Page Name",display:!0,version:"4.2",depricated:!1,dataElement:!0},getVisitNum:{id:"gvn",obj:"tracker",desc:'Visit number for all visitors that come to the site within a specific time period (e.g. "x" number of days).',name:"Visit Number",display:!0,version:"4.2",depricated:!1,dataElement:!0},twoDecimals:{display:!1,version:"1.0",depricated:!0},getNewRepeat:{id:"gnr",obj:"tracker",desc:"Determines whether a visitor to the site is a new visitor or a repeat visitor within the number of days that is specified in the plugin call.",name:"New Repeat",display:!0,version:"3.0",depricated:!1,dataElement:!0},randomNumber:{display:!1,version:"1.0",depricated:!0},getQueryParam:{id:"gqp",obj:"tracker",desc:'Case-insensitively extract the value of any query string parameter contained in a URL. This plugin requires "pt" to be initialized as well.',name:"Query Parameter",display:!0,version:"4.0.1",depricated:!1},lowerCaseVars:{display:!1,version:"1.0",depricated:!1},addProductEvar:{id:"apv",obj:"tracker",desc:"Easily add an Adobe Analytics merchandising eVar that uses product syntax to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product eVar",display:!0,version:"2.0",depricated:!1},getTimeParting:{id:"gtp",obj:"window",desc:"Capture the details of the time when any measurable activity takes place on its site.",name:"Time Parting",display:!0,version:"6.3",depricated:!1,dataElement:!0},addProductEvent:{id:"ape",obj:"tracker",desc:"Easily add an Adobe Analytics custom numeric event or custom currency event to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product Event",display:!0,version:"2.0",depricated:!1},endOfDatePeriod:{id:"eodp",display:!1,version:"1.2",depricated:!1},getPageLoadTime:{id:"gplt",obj:"tracker",desc:'Uses the JavaScript performance object to allow you to measure the amount of time a page takes to load completely. This plugin requires "p_fo" to be initialized as well.',name:"Page Load Time",display:!0,version:"2.0",depricated:!1},handlePPVevents:{display:!1,version:"4.0",depricated:!1},getPreviousValue:{id:"gpv",obj:"tracker",desc:'Set an Analytics variable equal to the value of a variable that was set on a previous page or contained in a previous image request. This plugin requires "p_fo" to be initialized as well.',name:"Previous Value",display:!0,version:"3.0",depricated:!1},getVisitDuration:{id:"gvd",obj:"tracker",desc:"Amount of time (in minutes) that the visitor has been on the site up to that point.",name:"Visit Duration",display:!0,version:"2.1",depricated:!1,dataElement:!0},performanceCheck:{display:!1,version:"1.0",depricated:!1},getGeoCoordinates:{id:"ggc",obj:"tracker",desc:"Returns the geographic location (latitude and longitude) of the visitors device.",name:"Geographic Coordinates",display:!0,version:"2.0",depricated:!1,dataElement:!0},getTimeToComplete:{id:"gttc",obj:"tracker",desc:'Time a user takes to complete a process on a site. The "clock" begins when the "start" action is called and ends when the "stop" action is called. This plugin requires "pt" to be initialized as well.',name:"Time To Complete",display:!0,version:"4.0",
depricated:!1},getAndPersistValue:{id:"gapv",obj:"tracker",desc:"Stores a value in a cookie that can be retrieved later during a visit.",name:"Persist Value",display:!0,version:"3.0",depricated:!1},getResponsiveLayout:{id:"grl",obj:"window",desc:"Which version of your responsive design-based website a visitor is currently looking at.",name:"Responsive Layout",display:!0,version:"1.1",depricated:!1,dataElement:!0},getPercentPageViewed:{id:"gppv",obj:"tracker",desc:"Measures a visitor's scroll activity to see how much of the page they viewed before moving to another page.",name:"Percent Page Viewed",display:!0,version:"5.0",depricated:!1},getTimeBetweenEvents:{id:"gtbe",obj:"tracker",desc:'Amount of time between two different Adobe Analytics events (custom or otherwise). This plugin requires "inList" to be initialized as well.',name:"Time Between Events",display:!0,version:"3.0",depricated:!1},performanceWriteFull:{display:!1,version:"1.0",depricated:!1},performanceWritePart:{display:!1,version:"1.0",depricated:!1},getDaysSinceLastVisit:{id:"gdslv",obj:"tracker",desc:"Returns the number of days since the visitor's last (most recent) visit. This plugin is deprecated. Adobe recommends using the getTimeSinceLastVisit plugin instead.",name:"Days Since Last Visit",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/gettimesincelastvisit.html",version:"3.0",depricated:!0},getTimeSinceLastVisit:{id:"gtslv",obj:"tracker",desc:"Returns the time since the visitor's last (most recent) visit.",name:"Time Since Last Visit",display:!0,version:"2.0",depricated:!1}},modules:{"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js":{name:"initialize-getpreviousvalue",displayName:"Initialize getPreviousValue",script:function(e,t,n){"use strict";n("./common").init("getPreviousValue","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetValOnce.js":{name:"initialize-getvalonce",displayName:"Initialize getValOnce",script:function(e,t,n){"use strict";n("./common").init("getValOnce","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetQueryParam.js":{name:"initialize-getqueryparam",displayName:"Initialize getQueryParam",script:function(e,t,n){"use strict";n("./common").init("getQueryParam","analytics"),n("./common").init("pt","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeApl.js":{name:"initialize-apl",displayName:"Initialize APL (Append To List)",script:function(e,t,n){"use strict";n("./common").init("apl","analytics"),n("./common").init("inList","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeInList.js":{name:"initialize-inlist",displayName:"Initialize inList",script:function(e,t,n){"use strict";n("./common").init("inList","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeP_fo.js":{name:"iinitialize-p_fo",displayName:"Initialize p_fo",script:function(e,t,n){"use strict";n("./common").init("p_fo","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/main-module.js":{script:function(e,t,n,a){"use strict";a.getSharedModule("adobe-analytics","get-tracker")||a.logger.error('The "Adobe Analytics" extension must be installed in the Launch web property ('+_satellite.property.name+') in order to use the "Common Analytics Plugins" extension'),a.getSharedModule("adobe-analytics","augment-tracker")(function(e){if("object"==typeof e.contextData&&"object"==typeof window.aaPlugins)for(var t in window.aaPlugins)e.contextData[t]=window.aaPlugins[t]})}},"common-analytics-plugins/src/lib/actions/common.js":{script:function(e,t,i,r){"use strict";var o=function(e,t){return"analytics"===e||void 0===e?t:"window"===e?window:null},s=function(e,t,n){t[e]=i("../plugins/allPlugins")[e];var a=n.contextData||{},r=c(e,t);"n/a"===r.version&&(r=u(e)),a[e]=r.version},c=function(e,t){var n,a={plugin:e,version:"n/a"};try{n=t[e]("-v")}catch(r){n={}}try{("string"!=typeof n.plugin||n.plugin.length<1)&&(n=a)}catch(r){n=a}return n},u=function(e){var t=r.getExtensionSettings(),n={plugin:e,version:"n/a"};try{n.version=t[e].version}catch(a){n.version="n/a"}return n};e.exports.init=function(t,n){r.getSharedModule("adobe-analytics","augment-tracker")(function(e){e&&(n=o(n,e),t&&n&&s(t,n,e))})},e.exports.initMany=function(n){var a;r.getSharedModule("adobe-analytics","augment-tracker")(function(e){if(e)for(var t=0;t<n.length;t++)a=o(n[t].obj,e),n[t].pname&&a&&s(n[t].pname,a,e)})}}},"common-analytics-plugins/src/lib/plugins/allPlugins.js":{script:function(e,t,n){e.exports.addProductEvar=n("./addProductEvar").addProductEvar,e.exports.addProductEvent=n("./addProductEvent").addProductEvent,e.exports.apl=n("./apl").apl,e.exports.cleanStr=n("./cleanStr").cleanStr,e.exports.endOfDatePeriod=n("./endOfDatePeriod").endOfDatePeriod,e.exports.formatTime=n("./formatTime").formatTime,e.exports.getAndPersistValue=n("./getAndPersistValue").getAndPersistValue,e.exports.getDaysSinceLastVisit=n("./getDaysSinceLastVisit").getDaysSinceLastVisit,e.exports.getGeoCoordinates=n("./getGeoCoordinates").getGeoCoordinates,e.exports.getNewRepeat=n("./getNewRepeat").getNewRepeat,e.exports.getPageLoadTime=n("./getPageLoadTime").getPageLoadTime,e.exports.getPageName=n("./getPageName").getPageName,e.exports.getPreviousValue=n("./getPreviousValue").getPreviousValue,e.exports.getQueryParam=n("./getQueryParam").getQueryParam,e.exports.getResponsiveLayout=n("./getResponsiveLayout").getResponsiveLayout,e.exports.getTimeBetweenEvents=n("./getTimeBetweenEvents").getTimeBetweenEvents,e.exports.getTimeParting=n("./getTimeParting").getTimeParting,e.exports.getTimeSinceLastVisit=n("./getTimeSinceLastVisit").getTimeSinceLastVisit,e.exports.getTimeToComplete=n("./getTimeToComplete").getTimeToComplete,e.exports.getValOnce=n("./getValOnce").getValOnce,e.exports.getVisitDuration=n("./getVisitDuration").getVisitDuration,e.exports.getVisitNum=n("./getVisitNum").getVisitNum,e.exports.inList=n("./inList").inList,e.exports.lowerCaseVars=n("./lowerCaseVars").lowerCaseVars,e.exports.manageVars=n("./manageVars").manageVars,e.exports.p_fo=n("./p_fo").p_fo,e.exports.performanceCheck=n("./performanceCheck").performanceCheck,e.exports.performanceWriteFull=n("./performanceWriteFull").performanceWriteFull,e.exports.performanceWritePart=n("./performanceWritePart").performanceWritePart,e.exports.handlePPVevents=n("./handlePPVevents").handlePPVevents,e.exports.getPercentPageViewed=n("./getPercentPageViewed").getPercentPageViewed,e.exports.pt=n("./pt").pt,e.exports.rfl=n("./rfl").rfl,e.exports.twoDecimals=n("./twoDecimals").twoDecimals,e.exports.zeroPad=n("./zeroPad").zeroPad,e.exports.randomNumber=n("./randomNumber").randomNumber}},"common-analytics-plugins/src/lib/plugins/addProductEvar.js":{script:function(e){function t(e,t,n){var a=e,r=t,i=n;if("-v"===a)return{plugin:"addProductEvar",version:"2.0"};e:{if("undefined"!=typeof window.s_c_il)for(var o,s=0;s<window.s_c_il.length;s++)if((o=window.s_c_il[s])._c&&"s_c"===o._c){s=o;break e}s=void 0}if(void 0!==s&&(s.contextData.addProductEvar="2.0","string"==typeof a&&"string"==typeof r&&""!==r))if(i=i||!1,s.products){var c,u=(o=s.products.split(",")).length;for(i=i?0:u-1;i<u;i++)(c=o[i].split(";"))[5]&&-1<c[5].toLowerCase().indexOf("evar")?c[5]=c[5]+"|"+a+"="+r:c[5]?c[5]=a+"="+r:c[5]||(c[4]||(c[4]=""),c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[5]=a+"="+r),o[i]=c.join(";");s.products=o.join(",")}else s.products=";;;;;"+a+"="+r}e.exports.addProductEvar=t}},"common-analytics-plugins/src/lib/plugins/addProductEvent.js":{script:function(e){function t(e,t,n){var r=e,i=t,o=n;if("-v"===r)return{plugin:"addProductEvent",version:"2.0"};var s=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==s&&(s.contextData.addProductEvent="2.0",window.apl=window.apl||function(e,t,n,r,i){function o(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!e||"string"==typeof e){if("string"!=typeof t||""===t)return e;n=n||",",1==(r=r||n)&&(r=n,i||(i=1)),2==r&&1!=i&&(r=n),t=t.split(","),k=t.length;for(var s=0;s<k;s++)o(e,t[s],n,i)||(e=e?e+r+t[s]:t[s])}return e},"string"==typeof r))if(i=isNaN(i)?"1":String(i),o=o||!1,s.events=window.apl(s.events,r),s.products){var c,u=s.products.split(","),l=u.length;for(o=o?0:l-1;o<l;o++)(c=u[o].split(";"))[4]&&-1<c[4].indexOf("event")?c[4]=c[4]+"|"+r+"="+i:c[5]?c[4]=r+"="+i:c[4]||(c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[4]=r+"="+i),u[o]=c.join(";");s.products=u.join(",")}else s.products=";;;;"+r+"="+i}e.exports.addProductEvent=t}},"common-analytics-plugins/src/lib/plugins/apl.js":{script:function(e){function t(e,t,n,r,i){var o=e,s=t,c=n,u=r,l=i;if("-v"===o)return{plugin:"apl",version:"4.0"};var d=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==d&&(d.contextData.apl="4.0"),window.inList=window.inList||function(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1},!o||"string"==typeof o){if("string"!=typeof s||""===s)return o;c=c||",",1==(u=u||c)&&(u=c,l||(l=1)),2==u&&1!=l&&(u=c),d=(s=s.split(",")).length;for(var p=0;p<d;p++)window.inList(o,s[p],c,l)||(o=o?o+u+s[p]:s[p])}return o}e.exports.apl=t}},"common-analytics-plugins/src/lib/plugins/cleanStr.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"cleanStr",version:"2.0"};e:{if("undefined"!=typeof window.s_c_il)for(var n,a=0;a<window.s_c_il.length;a++)if((n=window.s_c_il[a])._c&&"s_c"===n._c){a=n;break e}a=void 0}if(void 0!==a&&(a.contextData.cleanStr="2.0"),"string"!=typeof t)return"";for(t=(t=(t=(t=(t=t.replace(/<\/?[^>]+(>|$)/g,"")).trim()).replace(/[\u2018\u2019\u201A]/g,"'")).replace(/\t+/g,"")).replace(/[\n\r]/g," ");-1<t.indexOf("  ");)t=t.replace(/\s\s/g," ");return t}e.exports.cleanStr=t}},"common-analytics-plugins/src/lib/plugins/endOfDatePeriod.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"endOfDatePeriod",version:"1.2"};var n=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==n&&(n.contextData.endOfDatePeriod="1.2"),n=new Date;var a=isNaN(t)?0:Math.floor(t),r=function(e,t){return new Date(t||1970,e||1,0).getDate()};return n.setHours(23),n.setMinutes(59),n.setSeconds(59),"w"===t&&(a=6-n.getDay()),"m"===t&&(a=r(n.getMonth()+1,n.getFullYear())-n.getDate()),n.setDate(n.getDate()+a),"y"===t&&(n.setMonth(11),n.setDate(31)),n}e.exports.endOfDatePeriod=t}},"common-analytics-plugins/src/lib/plugins/formatTime.js":{script:function(e){function t(e,t,n){function r(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}var i=e,o=t,s=n;if(arguments&&"-v"===e)return{plugin:"formatTime",version:"2.0"};var c=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==c&&(c.contextData.formatTime="2.0"),!(void 0===i||isNaN(i)||Number(i)<0)){if(c="","string"==typeof o&&"d"===o||("string"!=typeof o||!r("h,m,s",o))&&86400<=i){var u=86400,l="days";c=isNaN(s)?1:u/(s*u)}else"string"==typeof o&&"h"===o||("string"!=typeof o||!r("m,s",o))&&3600<=i?(u=3600,l="hours",c=isNaN(s)?4:u/(s*u)):"string"==typeof o&&"m"===o||("string"!=typeof o||!r("s",o))&&60<=i?(u=60,l="minutes",c=isNaN(s)?2:u/(s*u)):(u=1,l="seconds",c=isNaN(s)?.2:u/s);return 0===(c=Math.round(i*c/u)/c+" "+l).indexOf("1 ")&&(c=c.substring(0,c.length-1)),c}}e.exports.formatTime=t}},"common-analytics-plugins/src/lib/plugins/getAndPersistValue.js":{script:function(e){function t(e,t,n){var a=e,r=t,i=n;if(void 0!==a&&"-v"===a)return{plugin:"getAndPersistValue",version:"3.0"};var o=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==o&&(o.contextData.getAndPersistValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},o=new Date,r=r||"s_gapv",(i=i||0)?o.setTime(o.getTime()+864e5*i):o.setTime(o.getTime()+18e5),void 0!==a&&a||(a=cookieRead(r)),cookieWrite(r,a,o),a}e.exports.getAndPersistValue=t}},"common-analytics-plugins/src/lib/plugins/getDaysSinceLastVisit.js":{script:function(e){function t(){var e=new Date,t=e.getTime(),n=this.c_r("s_dslv");if(e.setTime(t+94608e6),this.c_w("s_dslv",t,e),n){if(18e5<(e=t-n)){if(31536e6<e)return"More than a year";if(2592e6<e)return"More than 30 days";if(e<2592e6+1&&6048e5<e)return"More than 7 days";if(e<6048e5+1&&864e5<e)return"Less than 7 days";if(e<864e5+1)return"Less than 1 day"}return""}return"New Visitor"}e.exports.getDaysSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getGeoCoordinates.js":{script:function(e){function t(e){if(arguments&&"-v"===e)return{plugin:"getGeoCoordinates",version:"2.0"};var t=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==t&&(t.contextData.getGeoCoordinates="2.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""};var n="",a={timeout:5e3,maximumAge:0},r=function(e){e=e.coords,cookieWrite("s_ggc",parseFloat(e.latitude.toFixed(4))+"|"+parseFloat(e.longitude.toFixed(4)),30),n="latitude="+parseFloat(e.latitude.toFixed(4))+" | longitude="+parseFloat(e.longitude.toFixed(4))},i=function(){n="error retrieving geo coordinates"};return 1<(t=cookieRead("s_ggc").split("|")).length&&(n="latitude="+t[0]+" | longitude="+t[1]),navigator.geolocation&&navigator.geolocation.getCurrentPosition(r,i,a),""===n&&(n="geo coordinates not available"),n}e.exports.getGeoCoordinates=t}},"common-analytics-plugins/src/lib/plugins/getNewRepeat.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"getNewRepeat",version:"3.0"};void 0!==(e=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(e.contextData.getNewRepeat="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},e="s_nr"+(t=t||30);var n=new Date,a=cookieRead(e),r=a.split("-"),i=n.getTime();return n.setTime(i+864e5*t),""===a||i-r[0]<18e5&&"New"===r[1]?(cookieWrite(e,i+"-New",n),"New"):(cookieWrite(e,i+"-Repeat",n),"Repeat")}e.exports.getNewRepeat=t}},"common-analytics-plugins/src/lib/plugins/getPageLoadTime.js":{script:function(e){function t(e){function t(){var e=performance.timing;if(0<e.loadEventEnd&&(clearInterval(window.pi),""===window.cookieRead("s_plt"))){var t=window,n=t.cookieWrite,a=e.loadEventEnd,r=e.navigationStart;a=0<=a&&0<=r?a-r<6e4&&0<=a-r?parseFloat((a-r)/1e3).toFixed(2):60:void 0,n.call(t,"s_plt",a),window.cookieWrite("s_pltp",window.pageName)}window.ptc=e.loadEventEnd}if(arguments&&"-v"===e)return{plugin:"getPageLoadTime",version:"2.0.1"};var n=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==n&&(n.contextData.getPageLoadTime="2.0.1"),window.pageName=void 0!==n&&n.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)},"undefined"!=typeof performance&&p_fo("performance")&&((n=performance).clearResourceTimings(),""!==window.cookieRead("s_plt")&&(0<n.timing.loadEventEnd&&clearInterval(window.pi),this._pltLoadTime=window.cookieRead("s_plt"),this._pltPreviousPage=window.cookieRead("s_pltp"),window.cookieWrite("s_plt",""),window.cookieWrite("s_pltp","")),0===n.timing.loadEventEnd?window.pi=setInterval(function(){t()},250):0<n.timing.loadEventEnd&&(window.ptc?window.ptc===n.timing.loadEventEnd&&1===n.getEntries().length&&(window.pwp=setInterval(function(){var e=performance;0<e.getEntries().length&&(window.ppfe===e.getEntries().length?clearInterval(window.pwp):window.ppfe=e.getEntries().length),""===window.cookieRead("s_plt")&&(window.cookieWrite("s_plt",((e.getEntries()[e.getEntries().length-1].responseEnd-e.getEntries()[0].startTime)/1e3).toFixed(2)),window.cookieWrite("s_pltp",window.pageName))},500)):t()))}e.exports.getPageLoadTime=t}},"common-analytics-plugins/src/lib/plugins/getPageName.js":{script:function(e){var t=function(e,t,n,a){var r=e,i=t,o=n,s=a;if("-v"===r)return{plugin:"getPageName",version:"4.2"};e:{if("undefined"!=typeof window.s_c_il)for(var c,u=0;u<window.s_c_il.length;u++)if((c=window.s_c_il[u])._c&&"s_c"===c._c){u=c;break e}u=void 0}void 0!==u&&(u.contextData.getPageName="4.2");var l=location.hostname,d=location.pathname.substring(1).split("/"),p=d.length,m=location.search.substring(1).split("&"),f=m.length;if(c=(u=location.hash.substring(1).split("&")).length,s=s||"|",r=r||l,i=i||"",o=o||"",1===p&&""===d[0])r=r+s+"home";else for(l=0;l<p;l++)r=r+s+decodeURIComponent(d[l]);if(i&&(1!==f||""!==m[0]))for(p=(d=i.split(",")).length,l=0;l<p;l++)for(i=0;i<f;i++)if(d[l]===m[i].split("=")[0]){r=r+s+decodeURIComponent(m[i]);break}if(o&&(1!==c||""!==u[0]))for(m=(o=o.split(",")).length,l=0;l<m;l++)for(i=0;i<c;i++)if(o[l]===u[i].split("=")[0]){r=r+s+decodeURIComponent(u[i]);break}return r.substring(r.length-s.length)===s?r.substring(0,r.length-s.length):r};e.exports.getPageName=t}},"common-analytics-plugins/src/lib/plugins/getPreviousValue.js":{script:function(e){function t(e,t){var n=e,a=t;if("-v"===n)return{plugin:"getPreviousValue",version:"3.0"};var r,i=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==i&&(i.contextData.getPreviousValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},a=a||"s_gpv",(i=new Date).setTime(i.getTime()+18e5),window.cookieRead(a)&&(r=window.cookieRead(a)),n?window.cookieWrite(a,n,i):window.cookieWrite(a,r,i),r}e.exports.getPreviousValue=t}},"common-analytics-plugins/src/lib/plugins/getQueryParam.js":{script:function(e){function t(e,t,n){function a(e,t){var n=(t=(t=t.split("?").join("&")).split("#").join("&")).indexOf("&");if(e&&(-1<n||t.indexOf("=")>n))for(var a=0,r=(n=(n=t.substring(n+1)).split("&")).length;a<r;a++){var i=n[a].split("="),o=i[1];if(i[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(o||!0)}return""}if("-v"===e)return{plugin:"getQueryParam",version:"4.0.1"};var r=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==r&&(r.contextData.getQueryParam="4.0"),e){t=t||"",n=(n||void 0!==r&&r.pageURL||location.href)+"",(4<t.length||-1<t.indexOf("="))&&n&&n.length<4&&(r=t,t=n,n=r),r="";for(var i=e.split(","),o=i.length,s=0;s<o;s++)"string"==typeof(e=a(i[s],n))?(e=-1<e.indexOf("#")?e.substring(0,e.indexOf("#")):e,r+=r?t+e:e):r=""===r?e:r+(t+e);return r}}e.exports.getQueryParam=t}},"common-analytics-plugins/src/lib/plugins/getResponsiveLayout.js":{script:function(e){var t=function(e,t,n){var a=e,r=t,i=n;if("-v"===a)return{plugin:"getResponsiveLayout",version:"1.1"};e:{if("undefined"!=typeof window.s_c_il)for(var o,s=0;s<window.s_c_il.length;s++)if((o=window.s_c_il[s])._c&&"s_c"===o._c){s=o;break e}s=void 0}return void 0!==s&&(s.contextData.getResponsiveLayout="1.1"),isNaN(a)||isNaN(r)||isNaN(i)||r<a||i<r?void 0:(s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,(a<r&&s<=r?s<=a?"phone portrait layout":"phone landscape layout":s<=r?"phone layout":s<=i?"tablet layout":"desktop layout")+":"+s+"x"+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))};e.exports.getResponsiveLayout=t}},"common-analytics-plugins/src/lib/plugins/getTimeBetweenEvents.js":{script:function(e){function t(e,t,n,r,i,o,s,c,u){var l=e,d=t,p=n,m=r,f=i,v=o,h=s,b=c,y=u;if("-v"===l)return{plugin:"getTimeBetweenEvents",version:"3.0"};var _=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==_&&(_.contextData.getTimeBetweenEvents="3.0",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},window.formatTime=window.formatTime||function(e,t,n){function r(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||Number(e)<0)){var i="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!r("h,m,s",t))&&86400<=e?(t=86400,i="days",n=isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!r("m,s",t))&&3600<=e?(t=3600,i="hours",n=isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!r("s",t))&&60<=e?(t=60,i="minutes",n=isNaN(n)?2:t/(n*t)):(t=1,i="seconds",n=isNaN(n)?.2:t/n),0===(i=Math.round(e*n/t)/n+" "+i).indexOf("1 ")&&(i=i.substring(0,i.length-1)),i}},window.inList=window.inList||function(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1},"string"==typeof l&&void 0!==d&&"string"==typeof p&&void 0!==m)){f=f||"s_tbe",v=isNaN(v)?1:Number(v);var w=!1,P=!1,C=l.split(","),E=p.split(",");y=y?y.split(","):[];for(var k,S=window.cookieRead(f),T=new Date,j=T.getTime(),x=new Date,O=0;O<y.length;++O)if(window.inList(_.events,y[O]))return x.setDate(x.getDate()-1),void window.cookieWrite(f,"",x);for(x.setTime(x.getTime()+864e5*v),O=0;O<C.length&&!w&&!0!==(w=window.inList(_.events,C[O]));++O);for(O=0;O<E.length&&!P&&!0!==(P=window.inList(_.events,E[O]));++O);return 1===C.length&&1===E.length&&l===p&&w&&P?(S&&(k=(j-S)/1e3),window.cookieWrite(f,j,v?x:0)):(!w||1!=d&&S||window.cookieWrite(f,j,v?x:0),P&&S&&(k=(T.getTime()-S)/1e3,!0===m&&(x.setDate(x.getDate()-1),window.cookieWrite(f,"",x)))),k?window.formatTime(k,h,b):""}}e.exports.getTimeBetweenEvents=t}},"common-analytics-plugins/src/lib/plugins/getTimeParting.js":{script:function(e){function t(e){var t=e;if("-v"===e)return{plugin:"getTimeParting",version:"6.3"};e:{if("undefined"!=typeof window.s_c_il)for(var n,a=0;a<window.s_c_il.length;a++)if((n=window.s_c_il[a])._c&&"s_c"===n._c){a=n;break e}a=void 0}return void 0!==a&&(a.contextData.getTimeParting="6.3"),t=document.documentMode?void 0:t||"Etc/GMT",a=(new Date).toLocaleDateString("en-US",{timeZone:t,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(a=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(a))[4]+" | month="+a[2]+" | date="+a[3]+" | day="+a[1]+" | time="+(a[6]+a[7])}e.exports.getTimeParting=t}},"common-analytics-plugins/src/lib/plugins/getTimeSinceLastVisit.js":{script:function(e){function t(e){if(arguments&&"-v"===e)return{plugin:"getTimeSinceLastVisit",version:"2.0"};var t=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==t&&(t.contextData.getTimeSinceLastVisit="2.0"),window.formatTime=window.formatTime||function(e,t,n){function r(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||Number(e)<0)){var i="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!r("h,m,s",t))&&86400<=e?(t=86400,i="days",n=isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!r("m,s",t))&&3600<=e?(t=3600,i="hours",n=isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!r("s",t))&&60<=e?(t=60,i="minutes",n=isNaN(n)?2:t/(n*t)):(t=1,i="seconds",n=isNaN(n)?.2:t/n),0===(i=Math.round(e*n/t)/n+" "+i).indexOf("1 ")&&(i=i.substring(0,i.length-1)),i}},window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""};var n=(t=new Date).getTime(),r=cookieRead("s_tslv")||0,i=Math.round((n-r)/1e3);return t.setTime(n+63072e6),cookieWrite("s_tslv",n,t),r?1800<i||cookieRead("s_inv")?(cookieRead("s_inv")&&(i=cookieRead("s_inv")),cookieWrite("s_inv",i,30),"0"!==i?formatTime(i):"New Visitor"):"":(cookieWrite("s_inv","0",30),"New Visitor")}e.exports.getTimeSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getTimeToComplete.js":{script:function(e){function t(e,t,n,r){var i=e,o=t,s=n,c=r;if("-v"===i)return{plugin:"getTimeToComplete",version:"4.0"};var u=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==u&&(u.contextData.getTimeToComplete="4.0"),window.formatTime=window.formatTime||function(e,t,n){function r(e,t,n,r){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(n||",");else if("object"!=typeof e)return!1;for(n=0,a=e.length;n<a;n++)if(1==r&&t===e[n]||t.toLowerCase()===e[n].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||Number(e)<0)){var i="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!r("h,m,s",t))&&86400<=e?(t=86400,i="days",n=isNaN(n)?1:t/(n*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!r("m,s",t))&&3600<=e?(t=3600,i="hours",n=isNaN(n)?4:t/(n*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!r("s",t))&&60<=e?(t=60,i="minutes",n=isNaN(n)?2:t/(n*t)):(t=1,i="seconds",n=isNaN(n)?.2:t/n),0===(i=Math.round(e*n/t)/n+" "+i).indexOf("1 ")&&(i=i.substring(0,i.length-1)),i}},window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(
e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},"stop"===(i=i?i.toLowerCase():"start")||"start"===i){if(o=o||"s_gttc",c?c="d"===c?864e5:"h"===c?36e5:"s"===c?1e3:6e4:(s=30,c=6e4),s=isNaN(s)?30:s,s*=c,u=cookieRead(o),c=new Date,"stop"===i&&u)return s=Math.round((c.getTime()-u)/1e3),cookieWrite(o,"",0),formatTime(s);"start"!==i||u?u&&Number(u)<c.getTime()+18e5&&cookieWrite(o,u,30):(i=String(c.getTime()),c.setTime(c.getTime()+s),cookieWrite(o,i,c))}}e.exports.getTimeToComplete=t}},"common-analytics-plugins/src/lib/plugins/getValOnce.js":{script:function(e){function t(e,t,n,a){var r=e,i=t,o=n,s=a;if(arguments&&"-v"===e)return{plugin:"getValOnce",version:"3.0"};var c=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==c&&(c.contextData.getValOnce="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},r&&(i=i||"s_gvo",o=o||0,s="m"===s?6e4:864e5,r!==this.c_r(i))?((c=new Date).setTime(c.getTime()+o*s),cookieWrite(i,r,0===o?0:s),r):""}e.exports.getValOnce=t}},"common-analytics-plugins/src/lib/plugins/getVisitDuration.js":{script:function(e){function t(e){if(arguments&&"-v"===e)return{plugin:"getVisitDuration",version:"2.1"};var t=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==t&&(t.contextData.getVisitDuration="2.1"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},t=(new Date).getTime();var n=cookieRead("s_dur"),a=0;return(isNaN(n)||18e5<t-n)&&(n=t),a=t-n,cookieWrite("s_dur",n+"",30),0===a?"first hit of visit":0===(a=Math.floor(a/6e4))?"less than a minute":1===a?"1 minute":a+" minutes"}e.exports.getVisitDuration=t}},"common-analytics-plugins/src/lib/plugins/getVisitNum.js":{script:function(e){function t(e,t){function n(e){return!isNaN(e)&&(0|parseFloat(e))===parseFloat(e)}function a(e){var t=new Date,n=isNaN(e)?0:Math.floor(e);if(t.setHours(23),t.setMinutes(59),t.setSeconds(59),"w"===e&&(n=6-t.getDay()),"m"===e){n=t.getMonth()+1;var a=t.getFullYear();n=new Date(a||1970,n||1,0).getDate()-t.getDate()}return t.setDate(t.getDate()+n),"y"===e&&(t.setMonth(11),t.setDate(31)),t}var r=e,i=t;if("-v"===r)return{plugin:"getVisitNum",version:"4.2"};var o=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==o&&(o.contextData.getVisitNum="4.2"),window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},r=r||365,i=void 0!==i?!!i:!!n(r);var s=(new Date).getTime();if(o=a(r),window.cookieRead("s_vnc"+r))var c=window.cookieRead("s_vnc"+r).split("&vn="),u=c[1];return window.cookieRead("s_ivc")?u?(window.cookieWrite("s_ivc",!0,30),u):"unknown visit number":void 0!==u?(u++,c=i&&n(r)?s+864e5*r:c[0],o.setTime(c),window.cookieWrite("s_vnc"+r,c+"&vn="+u,o),window.cookieWrite("s_ivc",!0,30),u):(c=n(r)?s+864e5*r:a(r).getTime(),window.cookieWrite("s_vnc"+r,c+"&vn=1",o),window.cookieWrite("s_ivc",!0,30),"1")}e.exports.getVisitNum=t}},"common-analytics-plugins/src/lib/plugins/inList.js":{script:function(e){function t(e,t,n,a){var r=e,i=t,o=n,s=a;if("-v"===r)return{plugin:"inList",version:"3.0"};e:{if("undefined"!=typeof window.s_c_il)for(var c=0;c<window.s_c_il.length;c++)if((n=window.s_c_il[c])._c&&"s_c"===n._c){c=n;break e}c=void 0}if(void 0!==c&&(c.contextData.inList="3.0"),"string"!=typeof i)return!1;if("string"==typeof r)r=r.split(o||",");else if("object"!=typeof r)return!1;for(o=0,c=r.length;o<c;o++)if(1==s&&i===r[o]||i.toLowerCase()===r[o].toLowerCase())return!0;return!1}e.exports.inList=t}},"common-analytics-plugins/src/lib/plugins/lowerCaseVars.js":{script:function(e){function t(e){var t=this;t[e]&&("events"!==e&&-1===e.indexOf("contextData")?(t[e]=t[e].toString(),0!==t[e].indexOf("D=")&&(t[e]=t[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),t.contextData[e]&&(t.contextData[e]=t.contextData[e].toString().toLowerCase())))}e.exports.lowerCaseVars=t}},"common-analytics-plugins/src/lib/plugins/manageVars.js":{script:function(e){function t(e,t,n){var a=e,r=t,i=n;if("-v"===a)return{plugin:"manageVars",version:"3.0"};var o=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==o){if(o.contextData.manageVars="3.0",o.blankVars=function(e){this[e]&&(e.indexOf("contextData")<0?this[e]="":(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]="")))},o.lowerCaseVars=function(e){this[e]&&("events"!==e&&-1===e.indexOf("contextData")?(this[e]=this[e].toString(),0!==this[e].indexOf("D=")&&(this[e]=this[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=this.contextData[e].toString().toLowerCase())))},o.cleanStr=function(e){function t(e){if("string"!=typeof e)return"";for(e=e.replace(/<\/?[^>]+(>|$)/g,"").trim().replace(/[\u2018\u2019\u201A]/g,"'").replace(/\t+/g,"").replace(/[\n\r]/g," ");-1<e.indexOf("  ");)e=e.replace(/\s\s/g," ");return e}this[e]&&"function"==typeof t&&(e.indexOf("contextData")<0?this[e]=t(this[e]):(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=t(this.contextData[e].toString()))))},o.pt=function(e,t,n,a){if(e&&this[n]){t=(e=e.split(t||",")).length;for(var r,i=0;i<t;i++)if(r=this[n](e[i],a))return r}},!o[a])return!1;r=r||"",i=i||!0;var s,c="pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID";for(s=1;s<76;s++)c+=",prop"+s;for(s=1;s<251;s++)c+=",eVar"+s;for(s=1;s<6;s++)c+=",hier"+s;for(s=1;s<4;s++)c+=",list"+s;for(s in o.contextData)c+=",contextData."+s;if(r){if(1==i)c=r.replace("['",".").replace("']","");else if(0==i){for(x in r=r.split(","),i=c.split(","),c="",r)for(y in-1<r[x].indexOf("contextData")&&(r[x]="contextData."+r[x].split("'")[1]),i)r[x]===i[y]&&(i[y]="");for(y in i)c+=i[y]?","+i[y]:""}return o.pt(c,",",a,0),!0}return!(""!==r||!i||(o.pt(c,",",a,0),0))}}e.exports.manageVars=t}},"common-analytics-plugins/src/lib/plugins/p_fo.js":{script:function(e){function t(e){if("-v"===e)return{plugin:"p_fo",version:"3.0"};e:{if("undefined"!=typeof window.s_c_il)for(var t,n=0;n<window.s_c_il.length;n++)if((t=window.s_c_il[n])._c&&"s_c"===t._c){n=t;break e}n=void 0}return void 0!==n&&(n.contextData.p_fo="3.0"),window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)}e.exports.p_fo=t}},"common-analytics-plugins/src/lib/plugins/performanceCheck.js":{script:function(e){function t(e,t){if(0<=e&&0<=t)return e-t<6e4&&0<=e-t?parseFloat((e-t)/1e3).toFixed(2):60}e.exports.performanceCheck=t}},"common-analytics-plugins/src/lib/plugins/performanceWriteFull.js":{script:function(e){function t(){var e=this,t=performance.timing;0<t.loadEventEnd&&(clearInterval(e.pi),""===e.c_r("s_plt")&&(e.c_w("s_plt",e.performanceCheck(t.loadEventEnd,t.navigationStart)),e.c_w("s_pltp",e.pageName))),e.ptc=t.loadEventEnd}e.exports.performanceWriteFull=t}},"common-analytics-plugins/src/lib/plugins/performanceWritePart.js":{script:function(e){function t(){var e=this,t=performance;0<t.getEntries().length&&(e.ppfe===t.getEntries().length?clearInterval(e.pwp):e.ppfe=t.getEntries().length),""===e.c_r("s_plt")&&(e.c_w("s_plt",((t.getEntries()[t.getEntries().length-1].responseEnd-t.getEntries()[0].startTime)/1e3).toFixed(2)),e.c_w("s_pltp",e.pageName))}e.exports.performanceWritePart=t}},"common-analytics-plugins/src/lib/plugins/handlePPVevents.js":{script:function(e){function t(){if("undefined"!=typeof s_c_il){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var n=s_c_il[e];break}if(n&&n.ppvID){var a=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+r,t=Math.min(Math.round(e/a*100),100);var i=Math.floor(e/r);r=Math.floor(a/r);var o="";if(!n.c_r("s_tp")||n.unescape(n.c_r("s_ppv").split(",")[0])!==n.ppvID||n.p_fo(n.ppvID)||1==n.ppvChange&&n.c_r("s_tp")&&a!=n.c_r("s_tp")){if((n.unescape(n.c_r("s_ppv").split(",")[0])!==n.ppvID||n.p_fo(n.ppvID+"1"))&&n.c_w("s_ips",e),n.c_r("s_tp")&&n.unescape(n.c_r("s_ppv").split(",")[0])===n.ppvID){n.c_r("s_tp");var s=-1<(o=n.c_r("s_ppv")).indexOf(",")?o.split(","):[];o=s[0]?s[0]:"",s=s[3]?s[3]:"";var c=n.c_r("s_ips");o=o+","+Math.round(s/a*100)+","+Math.round(c/a*100)+","+s+","+i}n.c_w("s_tp",a)}else o=n.c_r("s_ppv");var u=o&&-1<o.indexOf(",")?o.split(",",6):[];a=0<u.length?u[0]:escape(n.ppvID),s=1<u.length?parseInt(u[1]):t,c=2<u.length?parseInt(u[2]):t;var l=3<u.length?parseInt(u[3]):e,d=4<u.length?parseInt(u[4]):i;u=5<u.length?parseInt(u[5]):r,0<t&&(o=a+","+(s<t?t:s)+","+c+","+(l<e?e:l)+","+(d<i?i:d)+","+(u<r?r:u)),n.c_w("s_ppv",o)}}}e.exports.handlePPVevents=t}},"common-analytics-plugins/src/lib/plugins/getPercentPageViewed.js":{script:function(e){function t(e,t){function n(){if(window.ppvID){var e=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+t,a=Math.min(Math.round(n/e*100),100),r=Math.floor(n/t);t=Math.floor(e/t);var i="";if(!window.cookieRead("s_tp")||decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID)||1==window.ppvChange&&window.cookieRead("s_tp")&&e!=window.cookieRead("s_tp")){if((decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID+"1"))&&window.cookieWrite("s_ips",n),window.cookieRead("s_tp")&&decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])===window.ppvID){window.cookieRead("s_tp");var o=-1<(i=window.cookieRead("s_ppv")).indexOf(",")?i.split(","):[];i=o[0]?o[0]:"",o=o[3]?o[3]:"";var s=window.cookieRead("s_ips");i=i+","+Math.round(o/e*100)+","+Math.round(s/e*100)+","+o+","+r}window.cookieWrite("s_tp",e)}else i=window.cookieRead("s_ppv");var c=i&&-1<i.indexOf(",")?i.split(",",6):[];e=0<c.length?c[0]:encodeURIComponent(window.ppvID),o=1<c.length?parseInt(c[1]):a,s=2<c.length?parseInt(c[2]):a;var u=3<c.length?parseInt(c[3]):n,l=4<c.length?parseInt(c[4]):r;c=5<c.length?parseInt(c[5]):t,0<a&&(i=e+","+(o<a?a:o)+","+s+","+(u<n?n:u)+","+(l<r?r:l)+","+(c<t?t:c)),window.cookieWrite("s_ppv",i)}}var a=e,r=t;if("-v"===a)return{plugin:"getPercentPageViewed",version:"5.0.1"};var i=function(){if("undefined"!=typeof window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==i&&(i.contextData.getPercentPageViewed="5.0.1"),window.pageName=void 0!==i&&i.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,n){if("string"==typeof e){var a=window.location.hostname,r=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){r=2<r?r:2;var i=a.lastIndexOf(".");if(0<=i){for(;0<=i&&1<r;)i=a.lastIndexOf(".",i-1),r--;i=0<i?a.substring(i):a}}if(g=i,t=void 0!==t?""+t:"",n||""===t)if(""===t&&(n=-60),"number"==typeof n){var o=new Date;o.setTime(o.getTime()+6e4*n)}else o=n;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+o.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,n=t.indexOf(" "+e+"="),a=n<0?n:t.indexOf(";",n);return(e=n<0?"":decodeURIComponent(t.substring(n+2+e.length,a<0?t.length:a)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)};var o=window.cookieRead("s_ppv");o=-1<o.indexOf(",")?o.split(","):[],a=a||(window.pageName?window.pageName:document.location.href),o[0]=decodeURIComponent(o[0]),window.ppvChange=void 0===r||1==r,void 0!==i&&i.linkType&&"o"===i.linkType||(window.ppvID&&window.ppvID===a||(window.ppvID=a,window.cookieWrite("s_ppv",""),n()),window.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",n,!1),window.addEventListener("click",n,!1),window.addEventListener("scroll",n,!1)),this._ppvPreviousPage=o[0]?o[0]:"",this._ppvHighestPercentViewed=o[1]?o[1]:"",this._ppvInitialPercentViewed=o[2]?o[2]:"",this._ppvHighestPixelsSeen=o[3]?o[3]:"",this._ppvFoldsSeen=o[4]?o[4]:"",this._ppvFoldsAvailable=o[5]?o[5]:"")}e.exports.getPercentPageViewed=t}},"common-analytics-plugins/src/lib/plugins/pt.js":{script:function(e){function t(e,t,n,a){var r=e,i=t,o=n,s=a;if("-v"===r)return{plugin:"pt",version:"3.0"};e:{if("undefined"!=typeof window.s_c_il)for(var c,u=0;u<window.s_c_il.length;u++)if((c=window.s_c_il[u])._c&&"s_c"===c._c){u=c;break e}u=void 0}if(void 0!==u&&(u.contextData.pt="3.0",r&&u[o])){i=(r=r.split(i||",")).length;for(var l=0;l<i;l++)if(c=u[o](r[l],s))return c}}e.exports.pt=t}},"common-analytics-plugins/src/lib/plugins/rfl.js":{script:function(e){function t(e,t,n,a,r){var i=e,o=t,s=n,c=a,u=r;if("-v"===i)return{plugin:"rfl",version:"2.1"};e:{if("undefined"!=typeof window.s_c_il)for(var l,d=0;d<window.s_c_il.length;d++)if((l=window.s_c_il[d])._c&&"s_c"===l._c){d=l;break e}d=void 0}if(void 0!==d&&(d.contextData.rfl="2.1"),!i||!o)return"";d=[],l="",s=s||",",c=c||s,u=u||!1,s=(i=i.split(s)).length;for(var p=0;p<s;p++)-1<i[p].indexOf(":")&&((l=i[p].split(":"))[1]=l[0]+":"+l[1],i[p]=l[0]),-1<i[p].indexOf("=")&&((l=i[p].split("="))[1]=l[0]+"="+l[1],i[p]=l[0]),i[p]!==o&&l?d.push(l[1]):i[p]!==o?d.push(i[p]):i[p]===o&&u&&(l?d.push(l[1]):d.push(i[p]),u=!1),l="";return d.join(c)}e.exports.rfl=t}},"common-analytics-plugins/src/lib/plugins/twoDecimals.js":{script:function(e){function t(e){return void 0===e||void 0===e||isNaN(e)?0:Number(Number(e).toFixed(2))}e.exports.twoDecimals=t}},"common-analytics-plugins/src/lib/plugins/zeroPad.js":{script:function(e){function t(e,t){if(e=parseInt(e),t=parseInt(t),isNaN(e)||isNaN(t))return"";var n=t-e.toString().length+1;return Array(+(0<n&&n)).join("0")+e}e.exports.zeroPad=t}},"common-analytics-plugins/src/lib/plugins/randomNumber.js":{script:function(e){function t(e){e="number"==typeof e?Math.abs(e)<17?Math.round(Math.abs(e)):17:10;for(var t="1",n=0;n<e;n++)t+="0";return t=Number(t),(t=Math.floor(Math.random().toFixed(e)*t)+"").length!==e&&"undefined"!=typeof zeroPad&&(t=zeroPad(t,e)),t}e.exports.randomNumber=t}}}},"data-element-assistant":{displayName:"Data Element Assistant",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP196eab2aa710410f96139666b3732aa1/",modules:{"data-element-assistant/src/lib/dataElements/concatenate.js":{name:"concatenate",displayName:"Concatenate",script:function(e,t,n){"use strict";var o=n("./utils/logger"),s=n("./utils/findTargetValue"),c=n("./utils/is");e.exports=function(e){try{var t=e.dataElementsAndDelimiters,n=e.returnEmpty,a=!0,r=t.reduce(function(e,t){var n="";if("path"===t.inputType?(n=s(window,t.path),n=c.nil(n)?"":n):n=t.dataElement,c.nil(n)||""===n){if(!0===t.omitWhenEmpty)return e}else a=!1;return e+t.delimiter+n},"");return""!=e.trailingDelimiter&&(r+=e.trailingDelimiter),n&&a?void 0:r}catch(i){return o.log("error","Concatenate",i.message)}}}},"data-element-assistant/src/lib/dataElements/utils/logger.js":{script:function(e,t,n,i){var a,o=!1;e.exports=function(){if(o)return a;var r={error:"[Error]"};return o=!0,a={log:function(e,t,n){var a="DEA "+t+(r[e]||"")+": "+n;void 0!==i&&i.logger[e](a)}}}()}},"data-element-assistant/src/lib/dataElements/utils/findTargetValue.js":{script:function(e){e.exports=function n(e,t){return t.split(".").reduce(function(e,t){return(e||{})[t]},e)}}},"data-element-assistant/src/lib/dataElements/utils/is.js":{script:function(e){e.exports=function u(){function e(t){return function(e){return n.call(e)===t}}var n=Object.prototype.toString,t="[object Boolean]",a="[object String]",r="[object Number]",i="[object Object]",o="[object Function]",s="[object Null]",c="[object Undefined]";return{array:e("[object Array]"),object:e(i),"function":e(o),"null":e(s),undefined:e(c),string:e(a),number:e(r),"boolean":e(t),nil:function(e){return this["null"](e)||this.undefined(e)}}}()}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd4cc1ceaf01e4b56b84037ba2b54c9bb/",modules:{"core/src/lib/dataElements/constant.js":{name:"constant",displayName:"Constant",script:function(e){"use strict";e.exports=function(e){return e.value}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-cookie");e.exports=function(e){return a.get(e.name)}}},"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/javascriptVariable.js":{name:"javascript-variable",displayName:"JavaScript Variable",script:function(e,t,n){"use strict";var a=n("../helpers/getObjectProperty.js");e.exports=function(e){return a(window,e.path)}}},"core/src/lib/dataElements/visitorBehavior.js":{name:"visitor-behavior",displayName:"Visitor Behavior",script:function(e,t,n){"use strict";var a=n("../helpers/visitorTracking");e.exports=function(e){switch(e.attribute){case"landingPage":return a.getLandingPage();case"trafficSource":return a.getTrafficSource();case"minutesOnSite":return a.getMinutesOnSite();case"sessionCount":return a.getSessionCount();case"sessionPageViewCount":return a.getSessionPageViewCount();case"lifetimePageViewCount":return a.getLifetimePageViewCount();case"isNewVisitor":return a.getIsNewVisitor()}}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return a.location.href;case"hostname":return a.location.hostname;case"pathname":return a.location.pathname;case"protocol":return a.location.protocol;case"referrer":return a.referrer;case"title":return a.title}}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),s=n("@adobe/reactor-query-string");e.exports=function(e){var t=s.parse(o.location.search);if(!e.caseInsensitive)return t[e.name];for(var n=e.name.toLowerCase(),a=Object.keys(t),r=0;r<a.length;r++){var i=a[r];if(i.toLowerCase()===n)return t[i]}}}},"core/src/lib/dataElements/domAttribute.js":{name:"dom-attribute",displayName:"DOM Attribute",script:function(e){"use strict";e.exports=function(e){var t=document.querySelector(e.elementSelector);if(t){var n=e.elementProperty;return"text"===n?t.innerText||t.textContent:n in t?t[n]:t.getAttribute?t.getAttribute(n):undefined}}}},"core/src/lib/dataElements/randomNumber.js":{name:"random-number",displayName:"Random Number",script:function(e){"use strict";e.exports=function(e){var t=Math.ceil(e.min),n=Math.floor(e.max);return n<t?NaN:Math.floor(Math.random()*(n-t+1))+t}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,n){"use strict";var r=n("../helpers/stringAndNumberUtils").isString,a=n("../helpers/stringAndNumberUtils").isNumber,i=n("../helpers/stringAndNumberUtils").castToStringIfNumber,o=n("../helpers/stringAndNumberUtils").castToNumberIfString,s=function(e,t){return t&&r(e)?e.toLowerCase():e},c=function(a){return function(e,t,n){return e=i(e),t=i(t),r(e)&&r(t)&&a(e,t,n)}},u=function(n){return function(e,t){return e=o(e),t=o(t),a(e)&&a(t)&&n(e,t)}},l=function(a){return function(e,t,n){return a(s(e,n),s(t,n))}},d={equals:l(function(e,t){return e==t}),doesNotEqual:function(){return!d.equals.apply(null,arguments)},contains:c(l(function(e,t){return-1!==e.indexOf(t)})),doesNotContain:function(){return!d.contains.apply(null,arguments)},startsWith:c(l(function(e,t){return 0===e.indexOf(t)})),doesNotStartWith:function(){return!d.startsWith.apply(null,arguments)},endsWith:c(l(function(e,t){return e.substring(e.length-t.length,e.length)===t})),doesNotEndWith:function(){return!d.endsWith.apply(null,arguments)},matchesRegex:c(function(e,t,n){return new RegExp(t,n?"i":"").test(e)}),doesNotMatchRegex:function(){return!d.matchesRegex.apply(null,arguments)},lessThan:u(function(e,t){return e<t}),lessThanOrEqual:u(function(e,t){return e<=t}),greaterThan:u(function(e,t){return t<e}),greaterThanOrEqual:u(function(e,t){return t<=e}),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return d[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,n,i){"use strict";var o,a,r,s,c=n("@adobe/reactor-document"),u=n("@adobe/reactor-promise"),l=n("./helpers/decorateCode"),d=n("./helpers/loadCodeSequentially"),p=n("../../../node_modules/postscribe/dist/postscribe"),m=n("./helpers/unescapeHtmlCode"),f=n("../helpers/findPageScript").getTurbine,g=(a=function(e){p(c.body,e,{beforeWriteToken:function(t){var e=t.tagName&&t.tagName.toLowerCase();return o&&"script"===e&&(t.attrs.nonce=o),"script"!==e&&"style"!==e||(Object.keys(t.attrs||{}).forEach(function(e){t.attrs[e]=m(t.attrs[e])}),t.src&&(t.src=m(t.src))),t},error:function(e){i.logger.error(e.msg)}})},r=[],s=function(){if(c.body)for(;r.length;)a(r.shift());else setTimeout(s,20)},function(e){r.push(e),s()}),v=function(){if(c.currentScript)return c.currentScript.async;var e=f();return!e||e.async}();e.exports=function(e,t){var n;o=i.getExtensionSettings().cspNonce;var a={settings:e,event:t},r=a.settings.source;if(r)return a.settings.isExternal?d(r).then(function(e){return e?(n=l(a,e),g(n.code),n.promise):u.resolve()}):(n=l(a,r),v||"loading"!==c.readyState?g(n.code):c.write&&!1===i.propertySettings.ruleComponentSequencingEnabled?c.write(n.code):g(n.code),n.promise)}}},"core/src/lib/events/entersViewport.js":{name:"enters-viewport",displayName:"Enters Viewport",script:function(e,t,n){"use strict";var u=n("@adobe/reactor-document"),l=n("@adobe/reactor-window"),a=n("./helpers/weakMap"),r=n("./helpers/debounce"),i=n("./helpers/enableWeakMapDefaultValue"),o=n("./helpers/matchesSelector"),s=n("./helpers/matchesProperties"),c=n("../helpers/stringAndNumberUtils").castToNumberIfString,d=3e3,p=200,m={FIRST_ENTRY:"firstEntry",EVERY_ENTRY:"everyEntry"},f=-1!==l.navigator.appVersion.indexOf("MSIE 10"),g=i(new a,function(){return{timeoutIds:[],completedListeners:[],inViewport:!1}}),v={},h=function(e){var t;try{t=e.getBoundingClientRect()}catch(c){}var n=u.documentElement,a=u.body,r=n.clientTop||a.clientTop||0,i=n.clientLeft||a.clientLeft||0,o=l.pageYOffset||n.scrollTop||a.scrollTop,s=l.pageXOffset||n.scrollLeft||a.scrollLeft;return{top:t.top+o-r,left:t.left+s-i}},b=function(){var e=l.innerHeight,t=u.compatMode;return t&&(e="CSS1Compat"===t?u.documentElement.clientHeight:u.body.clientHeight),e},y=function(){return u.documentElement.scrollTop?u.documentElement.scrollTop:u.body.scrollTop},_=function(e,t,n){var a=h(e).top,r=e.offsetHeight;return u.body.contains(e)&&!(a+r<n||n+t<a)},w=function(a){var r=g.get(a);r.inViewport||(r.inViewport=!0,Object.keys(v).forEach(function(e){o(a,e)&&v[e].forEach(function(e){if(s(a,e.settings.elementProperties)&&-1===r.completedListeners.indexOf(e)){var t=function(){(e.settings.frequency||m.FIRST_ENTRY)===m.FIRST_ENTRY&&r.completedListeners.push(e),e.trigger({element:a,target:a,delay:e.settings.delay})};if(e.settings.delay){var n=setTimeout(function(){_(a,b(),y())&&t()},e.settings.delay);r.timeoutIds.push(n)}else t()}})}))},P=function(e){var t=g.get(e);t.inViewport=!1,t.timeoutIds.length&&(t.timeoutIds.forEach(clearTimeout),t.timeoutIds=[])},C=r(function(){var e=Object.keys(v);if(e.length)for(var t=u.querySelectorAll(e.join(",")),n=b(),a=y(),r=0;r<t.length;r++){var i=t[r];_(i,n,a)?w(i):P(i)}},p),E=function(){C(),setInterval(C,d),l.addEventListener("resize",C),l.addEventListener("scroll",C)};f?"complete"===u.readyState?E():l.addEventListener("load",E):"loading"!==u.readyState?E():u.addEventListener("DOMContentLoaded",E),e.exports=function(e,t){var n=v[e.elementSelector];n||(n=v[e.elementSelector]=[]),e.delay=c(e.delay),n.push({settings:e,trigger:t})}}},"core/src/lib/conditions/maxFrequency.js":{name:"max-frequency",displayName:"Max Frequency",script:function(e,t,n){"use strict";var o=n("../helpers/visitorTracking"),s=n("../helpers/getNamespacedStorage")("localStorage","maxFrequency"),c={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5};e.exports=function(e,t){var n=t.$rule.id+"."+e.unit;switch(e.unit){case"pageView":var a=o.getLifetimePageViewCount();if(a-Number(s.getItem(n)||0)>=e.count)return s.setItem(n,a),!0;break;case"session":var r=o.getSessionCount();if(r-Number(s.getItem(n)||0)>=e.count)return s.setItem(n,r),!0;break;case"visitor":if(!s.getItem(n))return s.setItem(n,"true"),!0;break;case"second":case"minute":case"hour":case"day":case"week":case"month":var i=(new Date).getTime();if(Number(s.getItem(n)||0)<=i-e.count*c[e.unit])return s.setItem(n,i),!0}return!1}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,n){"use strict";var a=n("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerLibraryLoadedTrigger(t)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,n){"use strict";var o=n("@adobe/reactor-window"),a=n("./helpers/createBubbly")(),s=new(n("./helpers/weakMap")),i=2,c=n("../helpers/stringAndNumberUtils").castToNumberIfString,u=function(e){if(e.ctrlKey||e.metaKey||e.button===i)return undefined;for(var t=e.target;t;){var n=t.tagName;if(n&&"a"===n.toLowerCase()){var a=t.getAttribute("href"),r=t.getAttribute("target");return a&&(!r||"_self"===r||"_top"===r&&o.top===o||r===o.name)?t:undefined}t=t.parentNode}};document.addEventListener("click",a.evaluateEvent,!0),e.exports=function(r,i){a.addListener(r,function(e){var t=e.nativeEvent;if(!t.s_fe){var n=c(r.anchorDelay);if(n&&!s.has(t)){var a=u(t);a&&(t.preventDefault(),setTimeout(function(){o.location=a.href},n)),s.set(t,!0)}i(e)}})},e.exports.__reset=a.__reset}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,n,i){"use strict";var o={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var n=o[e];if(n){var a={identifier:e,detail:t};n.forEach(function(e){e(a)});var r=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&r.push(t),i.logger.log.apply(i.logger,r)}else i.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var n=o[e.identifier];n||(n=o[e.identifier]=[]),n.push(t)}}},"core/src/lib/conditions/pageViews.js":{name:"page-views",displayName:"Page Views",script:function(e,t,n){"use strict";var a=n("../helpers/visitorTracking"),r=n("./helpers/compareNumbers"),i={LIFETIME:"lifetime",SESSION:"session"};e.exports=function(e){var t=e.duration===i.LIFETIME?"getLifetimePageViewCount":"getSessionPageViewCount";return r(a[t](),e.operator,e.count)}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var n=t.split("."),a=e,r=0,i=n.length;r<i;r++){if(null==a)return undefined;a=a[n[r]]}return a}}},"core/src/lib/helpers/visitorTracking.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-cookie"),r=n("@adobe/reactor-document"),i=n("@adobe/reactor-window"),o=n("./getNamespacedStorage"),s="_sdsat_",c="visitorTracking",u="cookiesMigrated",l=o("localStorage",c),d=o("sessionStorage",c),p=function(){var e=d.getItem("landingPage");return e||(d.setItem("landingPage",i.location.href),d.setItem("landingTime",(new Date).getTime())),!e},m=function(){return d.getItem("landingPage")},f=function(){return Number(d.getItem("landingTime"))},g=function(){return Number(l.getItem("sessionCount"))},v=function(){return Number(l.getItem("pagesViewed"))},h=function(){var e=(new Date).getTime();return Math.floor((e-f())/1e3/60)},b=function(){return d.getItem("trafficSource")},y=function(){return Number(d.getItem("pagesViewed"))},_=function(){return 1===g()},w=function(e){e&&l.setItem("sessionCount",g()+1)},P=function(){d.setItem("pagesViewed",y()+1)},C=function(){l.setItem("pagesViewed",v()+1)},E=function(){d.getItem("trafficSource")||d.setItem("trafficSource",r.referrer)},k=function(){var e=p();w(e),C(),P(),E()};(function(){if(!l.getItem(u)){var e=a.get(s+"session_count");e&&l.setItem("sessionCount",e);var t=a.get(s+"lt_pages_viewed");t&&l.setItem("pagesViewed",t),l.setItem(u,!0)}})(),k(),e.exports={getLandingPage:m,getLandingTime:f,getMinutesOnSite:h,getSessionCount:g,getLifetimePageViewCount:v,getSessionPageViewCount:y,getTrafficSource:b,getIsNewVisitor:_}}},"core/src/lib/helpers/getNamespacedStorage.js":{script:function(e,t,n){"use strict";var i=n("@adobe/reactor-window"),o="com.adobe.reactor.core";e.exports=function(a,e){var r=o+"."+e;return{getItem:function(e){try{return i[a].getItem(r+"."+e)}catch(t){return null}},setItem:function(e,t){try{return i[a].setItem(r+"."+e,t),!0}catch(n){return!1}}}}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){
return"number"==typeof e&&isFinite(e)},n=function(e){return"string"==typeof e||e instanceof String},a=function(e){return t(e)?String(e):e},r=function(e){return n(e)?Number(e):e};e.exports={isNumber:t,isString:n,castToStringIfNumber:a,castToNumberIfString:r}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,n){"use strict";var a=n("./decorators/decorateGlobalJavaScriptCode"),r=n("./decorators/decorateNonGlobalJavaScriptCode"),i={javascript:function(e,t){return e.settings.global?a(e,t):r(e,t)},html:n("./decorators/decorateHtmlCode")};e.exports=function(e,t){return i[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise"),r=n("./getSourceByUrl"),i=a.resolve();e.exports=function(t){var e=new a(function(n){var e=r(t);a.all([e,i]).then(function(e){var t=e[0];n(t)})});return i=e}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(n,a){!function r(e,t){"object"==typeof a&&"object"==typeof n?n.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof a?a.postscribe=t():e.postscribe=t()}(this,function(){return function(n){function a(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}var r={};return a.m=n,a.c=r,a.p="",a(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=a(n(1));e.exports=r["default"]},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function u(){}function l(){var e=c.shift();if(e){var t=o.last(e);t.afterDequeue(),e.stream=i.apply(undefined,e),t.afterStreamStart()}}function i(e,t,a){function r(e){e=a.beforeWrite(e),g.write(e),a.afterWrite(e)}(g=new m["default"](e,a)).id=f++,g.name=a.name||g.id,d.streams[g.name]=g;var n=e.ownerDocument,i={close:n.close,open:n.open,write:n.write,writeln:n.writeln};p(n,{close:u,open:u,write:function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join(""))},writeln:function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t.join("")+"\n")}});var o=g.win.onerror||u;return g.win.onerror=function(e,t,n){a.error({msg:e+" - "+t+": "+n}),o.apply(g.win,[e,t,n])},g.write(t,function(){p(n,i),g.win.onerror=o,a.done(),g=null,l()}),g}function d(e,t,n){if(o.isFunction(n))n={done:n};else if("clear"===n)return c=[],g=null,void(f=0);n=o.defaults(n,s);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,n];return e.postscribe={cancel:function r(){a.stream?a.stream.abort():a[1]=u}},n.beforeEnqueue(a),c.push(a),g||l(),e.postscribe}t.__esModule=!0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t["default"]=d;var m=r(n(2)),o=a(n(4)),s={afterAsync:u,afterDequeue:u,afterStreamStart:u,afterWrite:u,autoFix:!0,beforeEnqueue:u,beforeWriteToken:function v(e){return e},beforeWrite:function h(e){return e},done:u,error:function b(e){throw new Error(e.msg)},releaseAsync:!1},f=0,c=[],g=null;p(d,{streams:{},queue:c,WriteStream:m["default"]})},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){var n=S+t,a=e.getAttribute(n);return E.existy(a)?String(a):a}function w(e,t,n){var a=2<arguments.length&&n!==undefined?arguments[2]:null,r=S+t;E.existy(a)&&""!==a?e.setAttribute(r,a):e.removeAttribute(r)}t.__esModule=!0;var P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},C=r(n(3)),E=a(n(4)),k=!1,S="data-ps-",T="ps-style",j="ps-script",i=function(){function a(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};y(this,a),this.root=e,this.options=n,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new C["default"]("",{autoFix:n.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],w(this.proxyRoot,"proxyof",0)}return a.prototype.write=function n(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();E.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},a.prototype._callFunction=function r(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},a.prototype._writeImpl=function i(e){this.parser.append(e);for(var t=void 0,n=void 0,a=void 0,r=[];(t=this.parser.readToken())&&!(n=E.isScript(t))&&!(a=E.isStyle(t));)(t=this.options.beforeWriteToken(t))&&r.push(t);0<r.length&&this._writeStaticTokens(r),n&&this._handleScriptToken(t),a&&this._handleStyleToken(t)},a.prototype._writeStaticTokens=function o(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,k&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),k&&(t.actualInnerHTML=this.root.innerHTML),t):null},a.prototype._buildChunk=function l(e){for(var t=this.actuals.length,n=[],a=[],r=[],i=e.length,o=0;o<i;o++){var s=e[o],c=s.toString();if(n.push(c),s.attrs){if(!/^noscript$/i.test(s.tagName)){var u=t++;a.push(c.replace(/(\/?>)/," "+S+"id="+u+" $1")),s.attrs.id!==j&&s.attrs.id!==T&&r.push("atomicTag"===s.type?"":"<"+s.tagName+" "+S+"proxyof="+u+(s.unary?" />":">"))}}else a.push(c),r.push("endTag"===s.type?c:"")}return{tokens:e,raw:n.join(""),actual:a.join(""),proxy:r.join("")}},a.prototype._walkChunk=function s(){for(var e=void 0,t=[this.proxyRoot];E.existy(e=t.shift());){var n=1===e.nodeType;if(!n||!_(e,"proxyof")){n&&w(this.actuals[_(e,"id")]=e,"id");var a=e.parentNode&&_(e.parentNode,"proxyof");a&&this.actuals[a].appendChild(e)}t.unshift.apply(t,E.toArray(e.childNodes))}},a.prototype._handleScriptToken=function c(e){var t=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,function(){t._onScriptDone(e)}))},a.prototype._handleStyleToken=function u(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},a.prototype._writeStyleToken=function d(e){var t=this._buildStyle(e);this._insertCursor(t,T),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},a.prototype._buildStyle=function t(e){var n=this.doc.createElement(e.tagName);return n.setAttribute("type",e.type),E.eachKey(e.attrs,function(e,t){n.setAttribute(e,t)}),n},a.prototype._insertCursor=function p(e,t){this._writeImpl('<span id="'+t+'"/>');var n=this.doc.getElementById(t);n&&n.parentNode.replaceChild(e,n)},a.prototype._onScriptStart=function m(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},a.prototype._onScriptDone=function f(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},a.prototype._writeScriptToken=function g(e,t){var n=this._buildScript(e),a=this._shouldRelease(n),r=this.options.afterAsync;e.src&&(n.src=e.src,this._scriptLoadHandler(n,a?r:function(){t(),r()}));try{this._insertCursor(n,j),n.src&&!a||t()}catch(i){this.options.error(i),t()}},a.prototype._buildScript=function v(e){var n=this.doc.createElement(e.tagName);return E.eachKey(e.attrs,function(e,t){n.setAttribute(e,t)}),e.content&&(n.text=e.content),n},a.prototype._scriptLoadHandler=function h(t,n){function a(){t=t.onload=t.onreadystatechange=t.onerror=null}function r(){a(),null!=n&&n(),n=null}function i(e){a(),o(e),null!=n&&n(),n=null}function e(e,t){var n=e["on"+t];null!=n&&(e["_on"+t]=n)}var o=this.options.error;e(t,"load"),e(t,"error"),P(t,{onload:function s(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){i({msg:"onload handler failed "+e+" @ "+t.src})}r()},onerror:function c(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void i({msg:"onerror handler failed "+e+" @ "+t.src})}i({msg:"remote script failed "+t.src})},onreadystatechange:function u(){/^(loaded|complete)$/.test(t.readyState)&&r()}})},a.prototype._shouldRelease=function b(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},a}();t["default"]=i},function(n){!function a(e,t){n.exports=t()}(0,function(){return function(n){function a(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}var r={};return a.m=n,a.c=r,a.p="",a(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=a(n(1));e.exports=r["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var d=r(n(2)),p=r(n(3)),m=a(n(6)),i=n(5),f={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},o=function(){function c(e,t){var n=this,a=0<arguments.length&&e!==undefined?arguments[0]:"",r=1<arguments.length&&t!==undefined?arguments[1]:{};l(this,c),this.stream=a;var i=!1,o={};for(var s in d)d.hasOwnProperty(s)&&(r.autoFix&&(o[s+"Fix"]=!0),i=i||o[s+"Fix"]);i?(this._readToken=(0,m["default"])(this,o,function(){return n._readTokenImpl()}),this._peekToken=(0,m["default"])(this,o,function(){return n._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return c.prototype.append=function t(e){this.stream+=e},c.prototype.prepend=function n(e){this.stream=e+this.stream},c.prototype._readTokenImpl=function a(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},c.prototype._peekTokenImpl=function r(){for(var e in f)if(f.hasOwnProperty(e)&&f[e].test(this.stream)){var t=p[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},c.prototype.peekToken=function e(){return this._peekToken()},c.prototype.readToken=function i(){return this._readToken()},c.prototype.readTokens=function o(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},c.prototype.clear=function s(){var e=this.stream;return this.stream="",e},c.prototype.rest=function u(){return this.stream},c}();for(var s in(t["default"]=o).tokenToString=function(e){return e.toString()},o.escapeAttributes=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=(0,i.escapeQuotes)(e[n],null));return t},o.supports=d)d.hasOwnProperty(s)&&(o.browserHasFlaw=o.browserHasFlaw||!d[s]&&s)},function(e,t){"use strict";var n=!(t.__esModule=!0),a=!1,r=window.document.createElement("div");try{var i="<P><I></P></I>";r.innerHTML=i,t.tagSoup=n=r.innerHTML!==i}catch(o){t.tagSoup=n=!1}try{r.innerHTML="<P><i><P></P></i></P>",t.selfClose=a=2===r.childNodes.length}catch(o){t.selfClose=a=!1}r=null,t.tagSoup=n,t.selfClose=a},function(e,t,n){"use strict";function a(e){var t=e.indexOf("-->");if(0<=t)return new l.CommentToken(e.substr(4,t-1),t+3)}function r(e){var t=e.indexOf("<");return new l.CharsToken(0<=t?t:e.length)}function i(e){var o,s,c;if(-1!==e.indexOf(">")){var t=e.match(d.startTag);if(t){var n=(o={},s={},c=t[2],t[2].replace(d.attr,function(e,t,n,a,r,i){n||a||r||i?arguments[5]?(o[arguments[5]]="",s[arguments[5]]=!0):o[t]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(t)&&t||"":o[t]="",c=c.replace(e,"")}),{v:new l.StartTagToken(t[1],t[0].length,o,s,!!t[3],c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===n?"undefined":u(n)))return n.v}}}function o(e){var t=i(e);if(t){var n=e.slice(t.length);if(n.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var a=n.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(a)return new l.AtomicTagToken(t.tagName,a[0].length+t.length,t.attrs,t.booleanAttrs,a[1])}}}function s(e){var t=e.match(d.endTag);if(t)return new l.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=a,t.chars=r,t.startTag=i,t.atomicTag=o,t.endTag=s;var l=n(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=undefined;var c=n(5),a=t.Token=function a(e,t){s(this,a),this.type=e,this.length=t,this.text=""},r=(t.CommentToken=function(){function n(e,t){s(this,n),this.type="comment",this.length=t||(e?e.length:0),this.text="",this.content=e}return n.prototype.toString=function e(){return"<!--"+this.content},n}(),t.CharsToken=function(){function t(e){s(this,t),this.type="chars",this.length=e,this.text=""}return t.prototype.toString=function e(){return this.text},t}(),t.TagToken=function(){function i(e,t,n,a,r){s(this,i),this.type=e,this.length=n,this.text="",this.tagName=t,this.attrs=a,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1}return i.formatTag=function o(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:null,a="<"+e.tagName;for(var r in e.attrs)if(e.attrs.hasOwnProperty(r)){a+=" "+r;var i=e.attrs[r];"undefined"!=typeof e.booleanAttrs&&"undefined"!=typeof e.booleanAttrs[r]||(a+='="'+(0,c.escapeQuotes)(i)+'"')}return e.rest&&(a+=" "+e.rest),e.unary&&!e.html5Unary?a+="/>":a+=">",n!==undefined&&null!==n&&(a+=n+"</"+e.tagName+">"),a},i}());t.StartTagToken=function(){function o(e,t,n,a,r,i){s(this,o),this.type="startTag",this.length=t,this.text="",this.tagName=e,this.attrs=n,this.booleanAttrs=a,this.html5Unary=!1,this.unary=r,this.rest=i}return o.prototype.toString=function e(){return r.formatTag(this)},o}(),t.AtomicTagToken=function(){function i(e,t,n,a,r){s(this,i),this.type="atomicTag",this.length=t,this.text="",this.tagName=e,this.attrs=n,this.booleanAttrs=a,this.unary=!1,this.html5Unary=!1,this.content=r}return i.prototype.toString=function e(){return r.formatTag(this,this.content)},i}(),t.EndTagToken=function(){function n(e,t){s(this,n),this.type="endTag",this.length=t,this.text="",this.tagName=e}return n.prototype.toString=function e(){return"</"+this.tagName+">"},n}()},function(e,t){"use strict";function n(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:"";return e?e.replace(/([^"]*)"/g,function(e,t){return/\\/.test(t)?t+'"':t+'\\"'}):n}t.__esModule=!0,t.escapeQuotes=n},function(e,t){"use strict";function u(e){return e&&"startTag"===e.type&&(e.unary=a.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function l(e,t){var n=e.stream,a=u(t());return e.stream=n,a}function d(e,t){var n=t.pop();e.prepend("</"+n.tagName+">")}function p(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,n=0;t=this[n];n++)if(t.tagName===e)return!0;return!1},e}function n(n,a,t){function r(){var e=l(n,t);e&&o[e.type]&&o[e.type](e)}var i=p(),o={startTag:function s(e){var t=e.tagName;"TR"===t.toUpperCase()&&i.lastTagNameEq("TABLE")?(n.prepend("<TBODY>"),r()):a.selfCloseFix&&m.test(t)&&i.containsTagName(t)?i.lastTagNameEq(t)?d(n,i):(n.prepend("</"+e.tagName+">"),r()):e.unary||i.push(e)},endTag:function c(e){i.last()?a.tagSoupFix&&!i.lastTagNameEq(e.tagName)?d(n,i):i.pop():a.tagSoupFix&&(t(),r())}};return function e(){return r(),u(t())}}t.__esModule=!0,t["default"]=n;var a=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,m=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])})},function(e,t){"use strict";function a(e){return null!=e}function n(e){return"function"==typeof e}function r(e,t,n){var a=void 0,r=e&&e.length||0;for(a=0;a<r;a++)t.call(n,e[a],a)}function i(e,t,n){for(var a in e)e.hasOwnProperty(a)&&t.call(n,a,e[a])}function o(n,e){return n=n||{},i(e,function(e,t){a(n[e])||(n[e]=t)}),n}function s(e){try{return Array.prototype.slice.call(e)}catch(a){var t=(n=[],r(e,function(e){n.push(e)}),{v:n});if("object"===(void 0===t?"undefined":p(t)))return t.v}var n}function c(e){return e[e.length-1]}function u(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return u(e,"script")}function d(e){return u(e,"style")}t.__esModule=!0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=a,t.isFunction=n,t.each=r,t.eachKey=i,t.defaults=o,t.toArray=s,t.last=c,t.isTag=u,t.isScript=l,t.isStyle=d}])})}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-document").createElement("div");e.exports=function(e){return a.innerHTML=e,a.textContent||a.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,n){"use strict";var r=n("@adobe/reactor-document"),a=function(e){for(var t=r.querySelectorAll("script"),n=0;n<t.length;n++){var a=t[n];if(e.test(a.src))return a}},i=function(){return a(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:i,byRegexPattern:a}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:a.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,n){"use strict";var i=n("@adobe/reactor-promise"),o=0;e.exports=function(a,e){var r="_runScript"+ ++o,t=new i(function(e,n){_satellite[r]=function(t){delete _satellite[r],new i(function(e){e(t.call(a.event.element,a.event,a.event.target,i))}).then(e,n)}});return{code:'<script>_satellite["'+r+'"](function(event, target, Promise) {\n'+e+"\n});</script>",promise:t}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,n,a){"use strict";var r=n("@adobe/reactor-promise"),i=0,o={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=o[e];t&&(delete o[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=o[e];t&&(delete o[e],t.reject())};var s=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},u=function(e){return e.settings.isExternal};e.exports=function(e,t){var n;return u(e)&&(t=a.replaceTokens(t,e.event)),s(t)?(n=new r(function(e,t){o[String(i)]={resolve:e,reject:t}}),t=c(t,i),i+=1):n=r.resolve(),{code:t,promise:n}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-load-script"),r=n("@adobe/reactor-promise"),i=n("../../helpers/findPageScript").byRegexPattern,o={},s={},c=function(e){return s[e]||(s[e]=a(e)),s[e]};_satellite.__registerScript=function(e,t){var n;if(document.currentScript)n=document.currentScript.getAttribute("src");else{var a=new RegExp(".*"+e+".*");n=i(a).getAttribute("src")}o[n]=t},e.exports=function(t){return o[t]?r.resolve(o[t]):new r(function(e){c(t).then(function(){e(o[t])},function(){e()})})}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window").WeakMap;if(void 0===a){var r=Object.defineProperty,i=Date.now()%1e9;(a=function(){this.name="__st"+(1e9*Math.random()>>>0)+i+++"__"}).prototype={set:function(e,t){var n=e[this.name];return n&&n[0]===e?n[1]=t:r(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:undefined},"delete":function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=undefined,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=a}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(n,a,r){var i=null;return function(){var e=r||this,t=arguments;clearTimeout(i),i=setTimeout(function(){n.apply(e,t)},a)}}}},"core/src/lib/events/helpers/enableWeakMapDefaultValue.js":{script:function(e){"use strict";e.exports=function(t,n){var a=t.get;return t.get=function(e){return t.has(e)||t.set(e,n()),a.apply(this,arguments)},t}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,n,r){"use strict";e.exports=function(e,t){var n=e.matches||e.msMatchesSelector;if(n)try{return n.call(e,t)}catch(a){return r.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,n){"use strict";var r=n("./../../helpers/textMatch"),i=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(a,e){return!e||e.every(function(e){var t=i(a,e.name),n=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return r(t,n)})}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,n){"use strict";var a=n("@adobe/reactor-window"),r=n("@adobe/reactor-document"),i=-1!==a.navigator.appVersion.indexOf("MSIE 10"),o="WINDOW_LOADED",s="DOM_READY",c="PAGE_BOTTOM",u=[c,s,o],l=function(e,t){return{element:e,target:e,nativeEvent:t}},d={};u.forEach(function(e){d[e]=[]});var p=function(e,t){u.slice(0,f(e)+1).forEach(function(e){g(t,e)})},m=function(){return"complete"===r.readyState?o:"interactive"===r.readyState?i?null:s:void 0},f=function(e){return u.indexOf(e)},g=function(t,e){d[e].forEach(function(e){v(t,e)}),d[e]=[]},v=function(e,t){var n=t.trigger,a=t.syntheticEventFn;n(a?a(e):null)};a._satellite=a._satellite||{},a._satellite.pageBottom=p.bind(null,c),r.addEventListener("DOMContentLoaded",p.bind(null,s),!0),a.addEventListener("load",p.bind(null,o),!0),a.setTimeout(function(){var e=m();e&&p(e)},0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){d[c].push({trigger:e})},registerDomReadyTrigger:function(e){d[s].push({trigger:e,syntheticEventFn:l.bind(null,r)})},registerWindowLoadedTrigger:function(e){d[o].push({trigger:e,syntheticEventFn:l.bind(null,a)})}}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,n){"use strict";var a=n("./weakMap"),m=n("./matchesProperties"),f=n("./matchesSelector");e.exports=function(){var d=[],p=new a,e={addListener:function(e,t){d.push({settings:e,callback:t})},evaluateEvent:function(t,e){if(d.length&&!p.has(t)){for(var n=t.target,a=!1;n;){for(var r=!1,i=!1,o=0;o<d.length;o++){var s=d[o],c=s.settings.elementSelector,u=s.settings.elementProperties;if((!1!==s.settings.bubbleFireIfChildFired||!a)&&(n===t.target||!1!==s.settings.bubbleFireIfParent)&&(n===t.target||c||u&&Object.keys(u).length)&&(!c||f(n,c))&&(!u||m(n,u))){var l={};e?Object.keys(t).forEach(function(e){l[e]=t[e]}):l.nativeEvent=t,l.element=n,l.target=t.target,!1!==s.callback(l)&&(i=!0,s.settings.bubbleStop&&(r=!0))}}if(r)break;i&&(a=!0),n=n.parentNode}p.set(t,!0)}},__reset:function(){d=[]}};return e}}},"core/src/lib/conditions/helpers/compareNumbers.js":{script:function(e){"use strict";var a={GREATER_THAN:">",LESS_THAN:"<",EQUALS:"="},t=function(e,t,n){switch(t){case a.GREATER_THAN:return n<e;case a.LESS_THAN:return e<n;case a.EQUALS:return e===n}};e.exports=t}}}}},company:{orgId:"79655FCF5C1D42160A495E15@AdobeOrg"},property:{name:"01_a_spiegel.de_CORE",settings:{domains:["spiegel.de"],undefinedVarsReturnEmpty:!0,ruleComponentSequencingEnabled:!0},id:"PR911c23a705ea44e6bf254d60c5a765a7"},rules:[{id:"RL027a6f1b76dc40918c9abd205e91c510",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #020 [with previous click data, ref!=url] | [Analytics (set-vars), Clear Previous Click Data Cookie] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%click.custom.on-page-load-attributes:cookie%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%click.custom.on-page-load-referrer:cc%",rightOperand:"%page.info.canonical_url:sd%"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar21",type:"value",value:"%click.custom.on-page-load-click-id:cc%"},{name:"eVar23",type:"value",value:"%click.custom.on-page-load-headline:cc%"},{name:"eVar24",type:"value",value:"%click.custom.on-page-load-position:cc%"}]}},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC62978b44826a40e4b36039a2f226450c-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL028b28f8ad934be0a6cfb4f7eac5de7f",name:"Util:Performance | Enter Viewport | #001 [article|presentation -paywall; after 1000ms] | [SARAs_data.push (scroll:editorial complete)]",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{delay:1e3,frequency:"everyEntry",elementSelector:"main footer"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.type:sd%",rightOperand:"^article$|^presentation$"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC842254f41d8a4482a5effcb05a2c5135-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL2ff4e79bc8b64317b5b372c78eeca8c6",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#002 [-PUR:abo, cmp-complete, web, mobile, once every2days, -DS, -issue] | [Target (call-local-mbox: target-banner-marketing)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.info.platform:sd%",rightOperand:"web"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%user.custom.device-type:cc%",rightOperand:"^phone$|^tablet$"},timeout:2e3},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"day",count:2},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.attributes.channel_slug:sd%",rightOperand:"deinspiegel"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"issue"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC4d48a447dd9e423d95fb29503635d993-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL119135c78a4a495ba0a6dc86a799b888",name:"Media:Audio | SARAs:podlove-init | #001 | [DLC(sync: addWatcher)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"podlove-init"},ruleOrder:1}],conditions:[],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(e){try{var t=e.detail.state.event.attributes.player_id,n=navigator.webBridge.getPodloveWebplayerStore(t);_satellite.podwatcher.addWatcher(n,t)}catch(a){_satellite.logger.error(a)}}},timeout:2e3,delayNext:!0}]},{id:"RLb11c358657444b8e8b5bdb219793c690",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #001 | [Analytics (clear-vars), CC(clear-storage, reset-stats)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:1},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCbd0b29f2c58f47f3aff79781f034b0b9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL265a90bc470f4bf696c7309ee99751f8",name:"Media:All | SARAs:video|audio | #003 [first-minute -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"first-minute"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event141"},{name:"event138",value:"%Media | Playtime [co]%"}]}},timeout:2e3,delayNext:!0}]},{id:"RL2c79866d2dab43aa8f652bb4d87997a8",name:"Media:All | SARAs:video|audio | #003 [25% -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",
settings:{comparison:{operator:"contains"},leftOperand:"%event.info.name:sd%",rightOperand:"25%"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event133"},{name:"event138",value:"%Media | Playtime [co]%"}]}},timeout:2e3,delayNext:!0}]},{id:"RL89f098a3039e48379e00a182d1845f5b",name:"Base:Pageview | SARAs:page_data_ready+virtual_page+consent_granted | #002 [-video, -PUR:page] | [IVW (track-page), Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){return"consent_granted"!=e.detail.eventName||"useractioncomplete"==e.detail.state.consent.info.status||void 0}},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Util | Opt-Out Cookie: IVW [co]%",rightOperand:"notracking"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCe17030072d7d46d0b095fda02b54e066-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop72",type:"value",value:"%Page | IVW Site [co]%::%Page | IVW Code [co]%"}],events:[{name:"event2"}]}},timeout:3e3,delayNext:!0}]},{id:"RL36914794e7a04f258a731f2878ff760a",name:"Event:Scroll | SARAs_data:scroll | #100 [page complete; once in 5sec] | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"page complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"second",count:5},timeout:2e3}],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){s.prop1=null,s.prop2=null,s.prop3=null,s.prop4=null,s.prop5=null,s.prop6=null,s.prop7=null,s.prop8=null,s.prop9=null,s.prop10=null,s.eVar136=null}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var n=~~_satellite.getVar("Page | is PUR Tracking [co]");t.contextData["cm.ssf"]=n.toString(),t.contextData["opt.sell"]="N",t.list1=_satellite.getVar("Editorial | Topics:List [co]")}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar43",type:"value",value:"%page.timing.time-active-sec:cc%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"},{name:"event918"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL36beb1bdabcd42e5a5f90a3735ec81fd",name:"Event:Scroll | SARAs_data:scroll | #100 [editorial complete; once in 5sec] | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"editorial complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"second",count:5},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){switch(null===t.events&&(t.events=""),_satellite.getVar("page.category.route:sd")){case"article":t.events=t.apl(t.events,"event916"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event916");break;case"homepage":t.events=t.apl(t.events,"event917"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917")}}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar43",type:"value",value:"%page.timing.time-active-sec:cc%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL74d1964a485f4894b308eb3ec39735a2",name:"Target:Offer | SARAs:scroll_page_100 | #010 [-PUR:abo, article:creative, once per page] | [Target (call-local-mbox: target-banner-creative-article)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll_page_100"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"creative"},timeout:2e3},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCa0df9711517648c7a2a2bc80dcf4e697-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3cf8458968cf4d3494967422b8decb98",name:"Media:All | SARAs:video|audio | #004 [complete -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:4},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:4}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"complete"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event137"}]}},timeout:2e3,delayNext:!0}]},{id:"RL3d74122b577b4654a0d84fc9c1bd3101",name:"Media:Video | SARAs:video | #100 [-ivw] | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var n=~~_satellite.getVar("Page | is PUR Tracking [co]");t.contextData["cm.ssf"]=n.toString(),t.contextData["opt.sell"]="N",_satellite.getVar("Editorial | Topics:List [co]")}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar100",type:"value",value:"%event.attributes.item-media_id:sd%"},{name:"eVar101",type:"value",value:"%event.attributes.autostart:sd.rw%::%event.attributes.mute:sd.rw%"},{name:"eVar102",type:"value",value:"video"},{name:"eVar103",type:"value",value:"%event.attributes.item-type:sd%"},{name:"eVar104",type:"value",value:"%event.attributes.item-title:sd%"},{name:"eVar108",type:"value",value:"%Media | Stream Type [co]%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL99ff78407b85470a8dd8dc5138e295e3",name:"Base:Libraries | Library Loaded | #50 | [Media Time Tracker (init), JW-Video-Watcher (init), Podlove-Audio-Watcher (init)]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"/* === Time Tracker === //\nHelper to keep track of media time played\n- Call update() on any relevant media event, especially those that change the playState!\n- The function isPlaying() must be provided to the TimeTracker Instance on creation.\n- Whenever the media item changes call reset()\n- Use getTimeDelta() to get the time since the last call to this function. Used for e.g. time between events!\n- Use onEvery(increment,callback) to get a continous callback every increment of elapsed playtime\n// === */\n\n\nwindow._satellite.MediaTimeTracker = function (isPlaying) {\n    var playBackState = false\n    var timePlayed = 0;\n    var lastPlayBackUpdateTS = undefined;\n    var lastEventPlaytime = timePlayed; // performance.now()\n    var stateTS = performance.now();\n\n    var everyStore = (function () {\n        var everyStore = []\n        return {\n            add: function (increment, callback) {\n                everyStore.push({ increment: increment, callback: callback, progress: 0 })\n            },\n            update: function (timePlayed) {\n                everyStore.forEach(function (store) {\n                    var dt = timePlayed - store.progress\n                    if (dt >= store.increment) { store.callback() }\n                    store.progress = Math.floor(timePlayed / store.increment) * store.increment\n                })\n            },\n            resetTime: function () {\n                everyStore.forEach(function (store) {\n                    store.progress = 0;\n                })\n            }\n        }\n    })()\n\n    var self = {\n        getTimePlayed: function () {\n            return timePlayed + (isPlaying() ? (stateTS - lastPlayBackUpdateTS) : 0)\n        },\n        update: function () { // call this anytime a player starts or pauses playback\n            stateTS = performance.now();\n            if (isPlaying() !== playBackState) { // onStateSwitch\n                playBackState = isPlaying()\n                if (!playBackState) { timePlayed += stateTS - (lastPlayBackUpdateTS || stateTS); } // add delta since last pause\n                lastPlayBackUpdateTS = stateTS\n            }\n            everyStore.update(self.getTimePlayed())\n            //trace('TimeTrackerDebug', timePlayed, isPlaying(), getTimePlayed(), state);\n        },\n        reset: function () { // call this whenever the player loads new media\n            timePlayed = 0;\n            lastEventPlaytime = timePlayed;\n            playBackState = false;\n            lastPlayBackUpdateTS = undefined;\n            everyStore.resetTime()\n        },\n        getTimePlayerDelta: function () { // returns the time played between now and the last call to this function!\n            var t = self.getTimePlayed()\n            var dt = t - lastEventPlaytime;\n            lastEventPlaytime = t;\n            return dt\n        },\n        onEvery: everyStore.add  // (increment,callback)\n    }\n    return self\n}",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"// todo: callback every 10seconds... or callback every onTime if playing?\n\nwindow._satellite.jwwatcher = JWWatcher({\n    debug: true,\n    loggingFunction: _satellite.logger.debug\n})\nfunction JWWatcher(configObject) {\n    var config = {\n        debug: false,\n        loggingFunction: undefined\n    }\n    for (var ck in configObject) { config[ck] = configObject[ck] } // sufficient for flat config objects\n\n    var trace = function () { }\n    if (config.debug) {\n        trace = config.loggingFunction ? config.loggingFunction : Function.prototype.bind.apply(console.debug, [console, '[Engagement]'])\n    }\n\n    var milestones = {  // define the milestones: key => video duration in seconds, value: array of % completion\n        0: [0.95],\n        60: [0.5, 0.95],\n        300: [0.25, 0.5, 0.75, 0.95]\n    }\n    // sort milestones by integer keys\n    var mileStoneKeys = Object.keys(milestones).map(function (e) { return parseInt(e) }).sort(function (a, b) { return a - b });\n\n    var lastEventTS = performance.now()\n\n    function getMileStones(duration) {\n        var c = 0;\n        for (var i = 0, l = mileStoneKeys.length; i < l; i++) {\n            if (mileStoneKeys[i] > duration) break;\n            c = mileStoneKeys[i]\n        }\n        return milestones[c] ? milestones[c].slice() : [] // return a copy!\n    }\n\n    function formatItem(item) {\n        return {\n            title: item.title,\n            description: item.description,\n            file: item.file,\n            mediaid: item.mediaid,\n            type: item.sources && item.sources[0] && item.sources[0].type\n        }\n    }\n\n    function addWatcher(jwp) {\n        var dataAttribute = 'data-sara-jwwatcher'\n        if (jwp.getContainer().getAttribute(dataAttribute) !== null) {\n            trace('[JWWatcher]', jwp, 'already has an active watcher')\n            return\n        }\n        jwp.getContainer().setAttribute(dataAttribute, jwp.uniqueId)\n\n\n        // === states === // \n        var rms = getMileStones(jwp.getDuration())\n        var ivwFired = false;\n        var startMute = jwp.getConfig().mute;\n        var played = false;\n        trace('[JWWatcher] Added watcher on player', jwp)\n\n        var thresholdFired = false;\n        var threshold = 60 * 1000; // first minute\n\n        var timeTracking = _satellite.MediaTimeTracker(isPlaying)\n\n        timeTracking.onEvery(10000, function () {// allow for a short delay\n            trace('[JWWatcher] 10secondsPlayed')\n            try {\n                window.stats.engage(10000); \n            } catch (err) {\n                trace('onEvery Engage failed', err)\n            }\n        })\n\n        function isPlaying() {\n            return jwplayer().getState() === \"playing\"\n        }\n\n        function onPlaylistItem() { // when playlist item changes! but not the first time round!\n            trace('[JWWatcher]', jwp, 'event onPlaylistItem');\n            played = false; // reset played state\n            //var rms = getMileStones(jwp.getDuration()) // remaining milestones! => not available at this time!\n            //resetIWV() => not supposed to reset for ivw!\n            //startAutoplay = jwp.getConfig().autostart; // returns faulty values here!\n            startMute = jwp.getConfig().mute;\n            thresholdFired = false;\n            timeTracking.reset();\n        }\n\n        function fireIVWonPlayback(type) {\n            trace('[JWWatcher]', jwp, 'checking IVW Events resulting from', type, 'autostart:', jwp.getConfig().autostart, 'startMute:', startMute);\n            if (ivwFired) return;\n\n            // fire on first play click for [non-autoplay videos]\n            if (jwp.getConfig().autostart === false) {\n                sendEvent('ivw-click-to-play');\n                ivwFired = true;\n            }\n\n            // for on first play for [unmuted autoplaying videos]\n            if (jwp.getConfig().autostart === true && startMute === false) {\n                sendEvent('ivw-unmuted-autoplay');\n                ivwFired = true;\n            }\n        }\n\n        function onPlay(e) {\n            timeTracking.update();\n            if (played) return; // fires only once, reset by onPlaylistItem()\n            played = true;\n            rms = getMileStones(jwp.getDuration()); // get new milestones on first play\n            \n            if(jwp.getDuration()===Infinity) {\n              timeTracking.onEvery(5*60*1000, function() {\n                sendEvent('livestream-5-min-tracker');\n              })\n            }\n                                   \n            trace('[JWWatcher]', jwp, 'event onPlay. Duration', jwp.getDuration(), 'Milestones', rms.slice(), 'Event', e);\n            sendEvent('play');\n            fireIVWonPlayback('play')\n        }\n\n        function onAdImpression(e) {\n            timeTracking.update();\n            fireIVWonPlayback('adImpressions')\n        }\n\n        function onMute(e) {\n            timeTracking.update();\n            sendEvent(e.mute ? 'mute' : 'unmute')\n            // fire on first unmute for [muted autoplaying videos].\n            if (ivwFired === false && e.mute === false && jwp.getConfig().autostart === true && startMute === true) {\n                sendEvent('ivw-unmute-action');\n                ivwFired = true;\n            }\n        }\n\n        function onTime(e) {\n            timeTracking.update();\n            while (rms.length > 0 && rms[0] <= (e.position / e.duration)) { sendEvent('milestone ' + rms.shift() * 100 + '%') }\n\n            // track playback time\n            if (isPlaying()) {\n                if (timeTracking.getTimePlayed() > threshold && !thresholdFired) {\n                    thresholdFired = true\n                    sendEvent('first-minute')\n                }\n            }\n        }\n\n        function onComplete(e) {\n            timeTracking.update();\n            sendEvent('complete');\n        }\n\n        function sendEvent(identifier) {\n            var t = performance.now()\n            var dt = t - lastEventTS;\n            lastEventTS = t;\n\n            var ev = {\n                info: { action: \"video\", name: identifier },\n                attributes: {\n                    item: formatItem(jwp.getPlaylistItem()),\n                    autostart: jwp.getConfig().autostart,\n                    position: jwp.getPosition(),\n                    duration: jwp.getDuration(),\n                    progress: jwp.getPosition() / jwp.getDuration(),\n                    volume: jwp.getVolume(),\n                    mute: jwp.getMute(),\n                    state: jwp.getState(),\n                    viewable: jwp.getViewable(),\n                    playerID: jwp.id,\n                    dtPlayed: timeTracking.getTimePlayerDelta(),\n                    streamType: jwp.getConfig().streamType,\n                    source: 'launch|cc|jw-watcher'\n                }\n            }\n            trace('[JWWatcher]', jwp, ' Firing Analytics Event', ev)\n            window.SARAs_data = window.SARAs_data || []\n            window.SARAs_data.push({ event: ev })\n        }\n\n        // === Assign Functions === //\n        //jw.on('firstFrame', onFirst); // first has the problem that it runs AFTER play, but we need it for reset!\n        jwp.on('playlistItem', onPlaylistItem); // used to reset milestones etc. does not fire the first time round when the watcher is loaded.\n        jwp.on('adImpression', onAdImpression);\n\n        jwp.on('mute', onMute);\n        jwp.on('time', onTime);\n        jwp.on('complete', onComplete);\n\n        jwp.on('play', onPlay);\n        jwp.on('adPlay', timeTracking.update);\n        jwp.on('pause', timeTracking.update);\n        jwp.on('adPause', timeTracking.update);\n\n        return jwp\n    }\n\n    function init() {\n        var videoNodes = document.querySelectorAll('.jwplayer')\n        for (var i = 0, l = videoNodes.length; i < l; i++) {\n            var id = videoNodes[i].id\n            addWatcher(jwplayer(id))\n        }\n    }\n    trace('[JWWatcher] Ready. Video Milestones: ', milestones)\n    init()\n    return { addWatcher: addWatcher }\n}",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"// todo: callback every 10seconds... or callback every onTime if playing?\n\nwindow._satellite.podwatcher = PodWatcher({\n    debug: true,\n    loggingFunction: _satellite.logger.debug\n})\nfunction PodWatcher(configObject) {\n    var config = {\n        debug: false,\n        loggingFunction: undefined\n    }\n    for (var ck in configObject) { config[ck] = configObject[ck] } // sufficient for flat config objects\n\n    var trace = function () { }\n    if (config.debug) {\n        trace = config.loggingFunction ? config.loggingFunction : Function.prototype.bind.apply(console.debug, [console, '[Engagement]'])\n    }\n\n    var milestones = {  // define the milestones: key => video duration in seconds, value: array of % completion\n        0: [0.95],\n        60: [0.5, 0.95],\n        300: [0.25, 0.5, 0.75, 0.95]\n    }\n    // sort milestones by integer keys\n    var mileStoneKeys = Object.keys(milestones).map(function (e) { return parseInt(e) }).sort(function (a, b) { return a - b });\n\n    function getMileStones(duration) {\n        var c = 0;\n        for (var i = 0, l = mileStoneKeys.length; i < l; i++) {\n            if (mileStoneKeys[i] > duration) break;\n            c = mileStoneKeys[i]\n        }\n        return milestones[c] ? milestones[c].slice() : [] // return a copy!\n    }\n\n    function addWatcher(store, id) {\n        trace('[Podlove] Added watcher on player', id)\n        var rms = [];\n        var played = false;\n        var state = {} // updated by each event\n        var ivwFired = false;\n\n        var thresholdFired = false;\n        var threshold = 60 * 1000; // first minute\n\n        var timeTracking = _satellite.MediaTimeTracker(isPlaying)\n\n        timeTracking.onEvery(10000, function () {// allow for a short delay\n            trace('[Podlove] 10secondsPlayed')\n            /*\n            try {\n                window.stats.engage(10000); \n            } catch (err) {\n                trace('onEvery Engage failed', err)\n            }\n            */\n        })\n\n        function isPlaying() {\n            return state && state.driver && state.driver.playing === true;\n        }\n\n        function getMediaID(furl) {\n            // reading media id from url\n            // e.g. https://traffic.omny.fm/d/clips/5ac1e950-45c7-4eb7-87c0-aa0f018441b8/7fd46a07-f73f-4fac-bf5c-abc000ffb06b/1c61e4f1-2351-44d5-86e5-ad24010d0df2/audio.mp3?in_playlist=1e8914c2-db00-454c-9997-abc000ffb06f&utm_source=CustomPlayer2&download=true\n            var r = furl.match(/\\/([0-9a-fA-F]{8}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{4}\\-[0-9a-fA-F]{12})\\/audio.mp3/)\n            if (r) { return r[1] || '' }\n            return ''\n        }\n\n        function onPlay() { // runs only once - until reset\n            trace('[Podlove]', id, 'Play', rms)\n\n            // === initial play === //\n            if (played) { return }\n            played = true\n            rms = getMileStones(state.timepiece.duration / 1000) // set milestones on initial play. [ms] to [s]\n            sendEvent('play');\n            if (!ivwFired) { sendEvent('ivw-play'); ivwFired = true; } // never reset! Once per player\n        }\n      \n        function onInteraction(element) { // runs only once - until reset\n            trace('[Podlove]', id, 'Interaction', rms, element)\n            sendEvent('click-'+element);\n        }\n\n        function onTime() {\n\n            // milestones\n            while (rms.length > 0 && rms[0] <= (state.timepiece.playtime / state.timepiece.duration)) {\n                sendEvent('milestone ' + rms.shift() * 100 + '%')\n            }\n\n            // track playback time\n            if (isPlaying()) {\n                if (timeTracking.getTimePlayed() > threshold && !thresholdFired) {\n                    thresholdFired = true\n                    sendEvent('first-minute')\n                }\n            }\n        }\n\n        function onComplete() {\n            sendEvent('complete');\n        }\n\n        function reset() {\n            played = false;\n            rms = []\n            thresholdFired = false\n        }\n\n        function sendEvent(identifier) {\n            var ev = {\n                info: { action: \"audio\", name: identifier },\n                attributes: {\n                    item: {\n                        title: state.episode.title,\n                        series: state.show.title,\n                        description: state.episode.subtitle || '',\n                        file: state.files[0].url,\n                        mediaid: getMediaID(state.files[0].url),\n                        type: state.files[0].title\n                    },\n                    position: state.timepiece.playtime / 1000, // [ms] to [s]\n                    duration: state.timepiece.duration / 1000, // [ms] to [s]\n                    progress: state.timepiece.playtime / state.timepiece.duration,\n                    volume: state.audio.volume,\n                    mute: state.audio.muted,\n                    state: state.playstate,\n                    playerID: id,\n                    dtPlayed: timeTracking.getTimePlayerDelta()\n                }\n            }\n            trace('[Podlove]', id, 'Event', identifier)\n            window.SARAs_data = window.SARAs_data || []\n            window.SARAs_data.push({ event: ev })\n        }\n\n        store.subscribe(function () {\n            state = store.getState()\n            var action = state.lastAction.type;\n            var payload = state.lastAction.payload;\n\n            switch (action) {\n                case 'PLAYER_BACKEND_PLAY': timeTracking.update(); onPlay(); break;\n                case 'PLAYER_BACKEND_END': timeTracking.update(); onComplete(); break; // watched till end\n                case 'PLAYER_BACKEND_PAUSE': timeTracking.update(); break;\n                case 'PLAYER_BACKEND_PLAYTIME': timeTracking.update(); onTime(); break; // runs all the time during playback\n                case 'PLAYER_READY': timeTracking.reset(); reset(); break; // runs when new media is loaded? => Media Selector, see www.spiegel.de/audio/\n                case 'PLAYER_REQUEST_RESTART': timeTracking.reset(); reset(); break; // restart podcast\n                case 'BUTTON_SHOW_OVERLAY': timeTracking.update(); onInteraction('button-subscribe'); break; // restart podcast\n                case 'PLAYER_TOGGLE_TAB': timeTracking.update(); onInteraction('tab-'+payload); break; // restart podcast\n            }\n        })\n\n    }\n\n    trace('[Podlove] Ready. Audio Milestones: ', milestones)\n\n    return { addWatcher: addWatcher}\n}",language:"javascript"},timeout:3e3,delayNext:!0}]},{id:"RL4452fde05e7942f2a2f82548304f74a1",name:"Link:Component | Core:click | #001 [on article component] | [SARAs_data.push (component_click))]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"article section:not([data-app-hidden=true]) div[data-component]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCdcbe885ee09a4a72ad6fc1f54180d1c8-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLfa9ac5534e164c1aa86d3447d70c00d3",name:"Event:Scroll | SARAs_data:scroll | #001 [page complete; once p. p.; >20sec engage] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"page complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"lessThan"},leftOperand:"%page.timing.time-active-sec:cc%",rightOperand:20},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){switch(null===t.events&&(t.events=""),_satellite.getVar("page.category.route:sd")){case"article":t.events=t.apl(t.events,"event107"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event107");break;case"homepage":t.events=t.apl(t.events,"event195"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event195")}}},trackerProperties:{events:[{name:"event60"}]}},timeout:2e3,delayNext:!0}]},{id:"RLfb218e9e9261488cacd40ea99a609920",name:"Base:Pageview | SARAs:page_data_ready | #020 [-PUR:abo+page - native-Mercedes] | [NativeAd | Mercedes \u2013\xa0Z\xe4hlpixel)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%editorial.info.article_id:sd%",rightOperand:"dc802c92-e6fc-48e2-9cd3-2237f2c13542|48d473ff-ccdf-4299-a1fc-a2793682710a"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.type:sd%",rightOperand:"sponsored"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC8630f9a535bd4885b524bb2caa00f327-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6d7a379b2a3e4c898070f7138d118d32",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#003 [once per visitor, article|topic|channel, karriere|start, cmp-complete, -video, -paywall] |\xa0[Target (call-local-mbox: target-research-banner-u30)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"visitor"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic|channel"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.attributes.channel_slug:sd%",rightOperand:"karriere|start"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC7c81117b73424cde8f1799295cbcadd4-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL4cec88959b7b4b71b3936ef4c940f056",
name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #002 [article] | [AT(param2page) STA]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%qs.value.launch-environment:jsv%",rightOperand:"production"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{"entity.id":{value:"%editorial.info.article_id:sd%",checked:!0},"entity.rev_name":{value:"%editorial.info.headline:sd%",checked:!0},"entity.rev_intro":{value:"%editorial.info.intro:sd%",checked:!0},"entity.rev_channel":{value:"%editorial.info.channel:sd%",checked:!0},"entity.rev_pageUrl":{value:"%page.info.canonical_url:sd.rwAT%",checked:!0},"entity.rev_categoryId":{value:"%editorial.custom.[categories]:cc%",checked:!0},"entity.rev_headerImageId":{value:"%editorial.info.header_image_id:sd%",checked:!0},"entity.rev_editorial.type":{value:"%editorial.category.type:sd%",checked:!0},"paywall.rev_category.type":{value:"%paywall.category.type:sd%",checked:!0},"entity.rev_attribute.has_author":{value:"%editorial.attributes.has_author:sd.rw%",checked:!0},"paywall.rev_attributes.is_active":{value:"%paywall.attributes.is_active:sd.rwAT%",checked:!0},"entity.rev_attribute.date_modified":{value:"%editorial.info.date_modified:sd.rw%",checked:!0},"entity.rev_attributes.is_listExcluded":{value:"%editorial.attributes.is_listExcluded:sd%",checked:!0},"entity.rev_attributes.is_comments_enabled":{value:"%editorial.attributes.is_comments_enabled:sd%",checked:!0}}},timeout:2e3,delayNext:!0}]},{id:"RLfbd3693142b34270b561b93684676501",name:"Media:All | SARAs:video|audio | #003 [click-button-subscribe] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"click-button-subscribe"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event143"}]}},timeout:2e3,delayNext:!0}]},{id:"RL6d14696634764fd7b932896530024b94",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #003 [article] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.list1=_satellite.getVar("Editorial | Topics:List [co]")}},trackerProperties:{eVars:[{name:"eVar50",type:"value",value:"%editorial.info.article_id:sd%"},{name:"eVar51",type:"value",value:"%paywall.category.type:sd%"},{name:"eVar52",type:"value",value:"%paywall.attributes.is_active:sd.rw%"},{name:"eVar57",type:"value",value:"%editorial.category.genre:sd%"},{name:"eVar58",type:"value",value:"%editorial.category.style:sd.rw%"},{name:"eVar59",type:"value",value:"%editorial.category.type:sd%"},{name:"eVar60",type:"value",value:"%editorial.info.channel:sd%"},{name:"eVar61",type:"value",value:"%editorial.info.channel+subchannel:cc%"},{name:"eVar62",type:"value",value:"%editorial.info.date_published:sd%"},{name:"eVar63",type:"value",value:"%editorial.info.date_modified:sd%"},{name:"eVar65",type:"value",value:"%editorial.info.headline:sd%"},{name:"eVar66",type:"value",value:"%editorial.info.headline_social:sd%"},{name:"eVar67",type:"value",value:"%editorial.attributes.has_author:sd.rw%"},{name:"eVar68",type:"value",value:"%editorial.attributes.has_noAds:sd.rw%"},{name:"eVar69",type:"value",value:"%editorial.attributes.has_noContentAds:sd.rw%"},{name:"eVar70",type:"value",value:"%editorial.attributes.is_breaking:sd.rw%"},{name:"eVar72",type:"value",value:"%editorial.attributes.is_exclusive:sd.rw%"},{name:"eVar74",type:"value",value:"%editorial.attributes.is_listExcluded:sd.rw%"},{name:"eVar79",type:"value",value:"%editorial.attributes.has_video:sd.rw%"},{name:"eVar80",type:"value",value:"%editorial.attributes.has_gallery:sd.rw%"},{name:"eVar81",type:"value",value:"%editorial.attributes.is_comments_enabled:sd.rw%"},{name:"eVar82",type:"value",value:"%Editorial | has Affiliate [co]%"},{name:"eVar83",type:"value",value:"%editorial.attributes.magazine:sd%"},{name:"eVar85",type:"value",value:"%editorial.attributes.has_audio:sd.rw%"},{name:"eVar95",type:"value",value:"%editorial.author.abbreviation:sd%"},{name:"eVar96",type:"value",value:"%editorial.author.departments:sd%"},{name:"eVar97",type:"value",value:"%editorial.author.names:sd%"}],props:[{name:"prop4",type:"value",value:"%page.custom.name-concat:dea%"},{name:"prop5",type:"value",value:"%RADAR | Subscription String [gl]%"}],events:[{name:"event100"},{id:"%editorial.info.article_id:sd.rw.20char%",name:"event101"}]}},timeout:2e3,delayNext:!0}]},{id:"RLb62dfa78971e49e1b9abcd3e394ee190",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#003 [fuermich, -loggedIn, cmp-complete] | [Target (call-local-mbox: target-fuermich-loggedOut)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"fuermich"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.is_loggedIn:sd%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCd186aaa97b8b4e35b841470088a655db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL12ec565f73434a7489f4435aac10a34a",name:"Base:Pageview | SARAs:page_data_ready+virtual_page+consent_granted | #003 [article, cmp-complete] | [VG Wort (track-page)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCff556031fe1647e8a7f3c3c3c0324d69-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaa3e7754dd7849f58b620a499c2e455c",name:"Base:Activation | DirectCall:consent_ready | #001 [once p.p.] | DLC (activate)",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"consent_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1},timeout:2e3}],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/activate.js",settings:{firePreviousEvents:"%Consent | CMP ready [co]%"},timeout:2e3,delayNext:!0}]},{id:"RL06edbf881b2c4e82860a811bf05274ff",name:"Base:Pageview | SARAs:consent_granted | #001 [useractioncomplete] | [Consent (opt-in:aam), Analytics (track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP eventStatus [co]%",rightOperand:"useractioncomplete"},timeout:2e3}],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){"object"!=typeof adobe.optIn||adobe.optIn.permissions.aam||(adobe.optIn.approve(["aam"]),adobe.optIn.complete())}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar43",type:"value",value:"%page.timing.time-active-sec:cc%"},{name:"eVar180",type:"value",value:"%User | has Consent [gl]%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL7ac1065a43134d4d987f895057146d2b",name:"Media:All | SARAs:video|audio | #003 [livestream -ivw] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"livestream"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event142"},{name:"event138",value:"%Media | Playtime [co]%"}]}},timeout:2e3,delayNext:!0}]},{id:"RL292bd4d16cd34dbd935f777db4c0550d",name:"Base:Libraries | Library Loaded | #001 [-PUR:page] | [Target (global-settings, init, test-success-listener), IVW (init), Engagement Tracker (init), SARAs_data.push (timer)]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'<script type="text/javascript" src="https://script.ioam.de/iam.js?m=1"> </script>',language:"html"},timeout:2e3,delayNext:!0},{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){window.targetGlobalSettings={overrideMboxEdgeServer:!1,secureOnly:!0}}},timeout:2e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{},timeout:3e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, function(resp) {\n  try {\n    var nonA4TActivities = ['344502', '344510', '377083']; // Test for EW\u2013hp\u2013channelbox - Klimakrise Kampagne A/B/C Activity (PROD und DEV) und Test neue Ausspielung PROD\n    \n    if (resp.detail.responseTokens){\n      for (var i = 0; i < resp.detail.responseTokens.length; i++) {\n\n        var curActivityId = resp.detail.responseTokens[i]['activity.id'],\n          curExperienceId = resp.detail.responseTokens[i]['experience.id'],\n          curExperienceName = resp.detail.responseTokens[i]['experience.name'];\n        if ( nonA4TActivities.indexOf(curActivityId) > -1) {\n          // mvp: use one getOffers for all matching activities\n          adobe.target.getOffer({ \n            mbox: \"a4t-mbox-\" + curActivityId,\n            \"params\": { \n               \"experienceId\": curExperienceId,\n               \"experienceName\": curExperienceName\n            },\n            success: function(offer) { \n            },\t\n            error: function(status, error) { \n            } \n          })\n\n        }\n\n      }\n    }\n  } catch(e){\n  _satellite.logger.error('[AT Error]:', e);} \n}); \n",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"var track_tag = 'Engagement Tracker';\ntry {\n  window.stats = EngagementTracker({\n      debug: true,\n      loggingFunction: _satellite.logger.debug\n  })\n  if (window.stats.supported) {\n      var events = ['keydown', 'keyup', 'mouseup', 'mousedown', 'scroll', 'touchstart', 'touchend']; // 'wheel'; 'mousemove'\n      function handler() { window.stats.engage(10000) }\n      events.forEach(function (ev) { document.addEventListener(ev, handler, false) })\n  }\n  \n  // https://developer.mozilla.org/en-US/docs/Web/API/Event/timeStamp => cannot use. Internet explorer returns faulty times! => use performance.now()\n  // bot High Res and Non-High Res are Measured in Milliseconds (!)\n  // performance.now() is also DOMHighResTimeStamp!\n\n  function EngagementTracker(configObject) {\n      //https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API\n      var config = {\n          debug: false,\n          loggingFunction: undefined,\n          setupEngagementScore: 10000, // ms,\n          tabviewEngagementScore: 10000 // ms\n      }\n      for (var ck in configObject) { config[ck] = configObject[ck] } // sufficient for flat config objects\n\n      var trace = function () { }\n      if (config.debug) {\n          trace = config.loggingFunction ? config.loggingFunction : Function.prototype.bind.apply(console.debug, [console, '[Engagement]'])\n      }\n\n      var hidden, visibilityChange;\n      if (typeof document.hidden !== \"undefined\") { // Opera 12.10 and Firefox 18 and later support \n          hidden = \"hidden\";\n          visibilityChange = \"visibilitychange\";\n      }\n      else if (typeof document.mozHidden !== \"undefined\") {\n          hidden = \"mozHidden\";\n          visibilityChange = \"mozvisibilitychange\";\n      }\n      else if (typeof document.msHidden !== \"undefined\") {\n          hidden = \"msHidden\";\n          visibilityChange = \"msvisibilitychange\";\n      } else if (typeof document.webkitHidden !== \"undefined\") {\n          hidden = \"webkitHidden\";\n          visibilityChange = \"webkitvisibilitychange\";\n      }\n      var supported = !(typeof document.addEventListener === \"undefined\" || hidden === undefined);\n      //supported = false;\n      if (!supported) { trace('Visibility API not supported') }\n\n      var initialized = false;\n\n      var times = {\n          start: 0,\n          lastUpdate: 0,\n          onTabOut: 0,\n          tabbedOut: 0,\n          firstVisible: undefined,\n\n          engaged: 0,\n          lastEngageUpdate: 0,\n          onEngageRenew: undefined // timestamp captured when the engagement timeout was last set or renewed\n      }\n\n      // === Engagement Module === //\n      var isEngaged = false;\n      var timeoutInstance = undefined;\n      var currentTimeToEngage = 0; // the last call to engage() exteneded the engagement by this amount\n      function _engagementChange() {\n          if (!isEngaged) {\n              times.engaged += performance.now() - times.lastEngageUpdate\n          }\n          trace(isEngaged ? 'Engaged' : 'Disengaged')\n      }\n      function engage(timeToEngage) {\n          try {\n              if (!supported || !initialized) { return false }\n              if (!isTabVisible()) { trace('cannot engage hidden tab'); return false }\n              if (typeof timeToEngage !== 'number') { trace('timeToEngage must be a number'); return false }\n              var t = performance.now()\n\n              if (!isEngaged) {\n                  times.onEngageRenew = t\n                  currentTimeToEngage = timeToEngage;\n                  times.lastEngageUpdate = t;\n                  isEngaged = true; _engagementChange()\n              }\n              var remainder = currentTimeToEngage - (t - times.onEngageRenew)\n              // trace('TimeToAdd', timeToEngage, 'Active Remainder:', remainder, 'isEngaged', isEngaged)\n              if (timeToEngage >= remainder) { // replace timeout if new one adds time!\n                  clearTimeout(timeoutInstance)\n                  timeoutInstance = setTimeout(disengage, timeToEngage);\n                  times.onEngageRenew = t\n                  currentTimeToEngage = timeToEngage;\n                  return true\n              } else { return false }\n          } catch (e) {\n              trace(e)\n              return false\n          }\n      }\n      function disengage() {\n          try {\n              if (!supported || !initialized) { return false }\n              clearTimeout(timeoutInstance)\n              if (isEngaged) { isEngaged = false; _engagementChange(); }\n              return true;\n          } catch (e) {\n              trace(e)\n              return false\n          }\n      }\n\n      // === Visibility Module === //\n      function isTabVisible() { return supported && !document[hidden] }\n      function visibilityHandler() {\n          try {\n              var t = performance.now(); // CANNOT USE EVENT TIMESTAMPS! => Internet explorer!\n              times.lastUpdate = t\n              if (isTabVisible()) { // user tabbed in\n                  times.firstVisible = times.firstVisible || t - times.start\n                  times.tabbedOut += t - times.onTabOut // update total time tabbed out\n                  engage(config.tabviewEngagementScore);\n              }\n              else { // user just tabbed out\n                  times.onTabOut = t\n                  disengage();\n              }\n              trace(isTabVisible() ? 'Tab In' : 'Tab Out', getStatus())\n          } catch (e) {\n              trace(e)\n          }\n      }\n      var initiallyVisible = isTabVisible()\n\n      function reset(t) { // accepts optional timestamp. Allows us to use event timestamps! => useful for SPA pageviews\n          try {\n              if (!supported || !initialized) { return false }\n              // === visibility === //\n              var t = t ? t : performance.now()\n              times.lastUpdate = t\n              times.start = t\n              times.onTabOut = t\n              times.tabbedOut = 0\n              initiallyVisible = isTabVisible()\n              times.firstVisible = isTabVisible() ? 0 : undefined\n\n              // === engagement === //\n              times.onEngageRenew = undefined;\n              currentTimeToEngage = 0;\n              disengage(); // resets timeout, status, calls engagement (if changed)\n              times.engaged = 0\n              times.lastEngageUpdate = t\n          } catch (e) {\n              trace(e)\n              return false\n          }\n      }\n\n      function getStatus() {\n          // returns empty object on error / not supported / not init\n          try {\n              if (!supported || !initialized) { return {} }\n              var t = performance.now()\n              var r = {\n                  timeTotal: (t - times.start) >> 0,  // bitshift for millisecond integers\n                  timeTabbedOut: (times.tabbedOut + (isTabVisible() ? 0 : t - times.onTabOut)) >> 0, // if checking whilst being tabbed in > add time\n                  timeFirstVisible: times.firstVisible === undefined ? times.firstVisible : times.firstVisible >> 0,\n                  isTabVisible: isTabVisible(),\n                  initiallyVisible: initiallyVisible,\n                  timeEngaged: (times.engaged + (isEngaged ? t - times.lastEngageUpdate : 0)) >> 0, // if checking whilst being engaged > add time\n                  isEngaged: isEngaged\n              }\n              r.timeTabbedIn = Math.max(0, r.timeTotal - r.timeTabbedOut)\n              return r;\n          } catch (e) {\n              trace(e)\n              return {}\n          }\n      }\n\n      function setup(optionalStart) {\n          try {\n              initialized = true\n              var t;\n              if (optionalStart !== undefined && optionalStart.timeStamp) { t = optionalStart.timeStamp }\n              else t = performance.now()\n              reset(t);\n\n              trace('Init on Domready', getStatus())\n              if (isTabVisible()) { engage(config.setupEngagementScore) }\n              document.addEventListener(visibilityChange, visibilityHandler, false);\n          } catch (e) {\n              trace(e)\n          }\n      }\n\n      // time from dom complete onwards!\n      if (supported) {\n          if (document.readyState === 'complete') { setup({ timeStamp: performance.timing.domComplete - performance.timing.navigationStart }) } // fallback: attempt to reconstuct domready timestamp\n          else {\n              document.addEventListener('readystatechange', function () {\n                  if (document.readyState === 'complete') { setup() }\n              });\n          }\n      }\n\n      return {\n          supported: supported,\n          get initialized() { return initialized },\n          get status() { return getStatus() },\n          reset: reset,\n          engage: engage,\n          disengage: disengage,\n          get isTabVisible() { return isTabVisible() },\n          get isEngaged() { return isEngaged },\n          version: \"1.0.0\"\n      }\n  }\n\n  /* === dont really need to be part of this library... right? === //\n  function save() { localStorage.setItem('stats', JSON.stringify(getStatus())) }\n  function load() {\n      var s = localStorage.getItem('stats')\n      if (s !== null) { s = JSON.parse(s) }\n      return s\n  }\n  */\n} catch(e) {\n  _satellite.logger.error(track_tag, e);\n}",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try{  // Simple Timer Tracking:\n  function track_time() {\n    if (performance.now() > 3650000) //3600000\n      return\n    SARAs_data.push({\n      "event": {\n        "info": {\n          "action":"timer",\n          "name":"total - 15 Minutes"\n        },\n        "attributes": {\n          "source":"launch|cc|simple-time-handler"\n        }\n      }\n    })\n    setTimeout(track_time, 899000); //899000\n  }\n  setTimeout(track_time, 900000); //900000\n} catch (e) {\n}',language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var track_tag = 'Add Listener: Track Unload';\ntry {\n  _satellite.track_unload = (function track_unload(window) {\n    'use strict';                  \n    window.addEventListener(\"beforeunload\", track_unload)\n  \n    /*\n    if (document.addEventListener) {\n      document.addEventListener('beforeunload', set_teaserStorage, false);\n      _satellite.logger.info('event listener added: set_teaserStorage');\n    } else {\n      document.attachEvent('onclick', set_teaserStorage);\n      _satellite.logger.info('event listener added: set_teaserStorage');\n    }\n    */\n    \n    function track_unload(event) {\n      window.SARAs_data.push({\n          'event' : {'info' : {'action': 'page_unload'}}\n        });\n      }\n      _satellite.logger.info(track_tag,'unload listener added');      \n  })(window);\n\n} catch (e) {\n  _satellite.logger.error(track_tag, e);\n}",language:"javascript"}}]},{id:"RLa507b34af60545dfa27669c2671206ed",name:"Event:Scroll | SARAs_data:view_element | #100 | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"view_element"},ruleOrder:100}],conditions:[],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){s.prop1=null,s.prop2=null,s.prop3=null,s.prop4=null,s.prop5=null,s.prop6=null,s.prop7=null,s.prop8=null,s.prop9=null,s.prop10=null,s.eVar136=null}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar43",type:"value",value:"%page.timing.time-active-sec:cc%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event301"},{name:"event3"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL97853f0366a3414aaeb63ee997bce576",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#003 [once in 3 weeks, article|topic, cmp-complete, sample 850-1000 (1000), pageview > 1, -video, -paywall] |\xa0[Target (call-local-mbox: target-research-banner)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"week",count:3},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(_satellite.cookie.get("sara_randomnumber")===undefined){var e=Math.floor(1e3*Math.random());_satellite.cookie.set("sara_randomnumber",e,{expires:14})}else _satellite.cookie.get("sara_randomnumber")!=undefined&&(e=_satellite.cookie.get("sara_randomnumber"));return 850<=e}},timeout:2e3},{modulePath:"core/src/lib/conditions/pageViews.js",settings:{count:1,duration:"session",operator:">"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC44fe3509411f4f788c7da80405899dcd-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL70089abf9a714ef58bb3731c7b3507a6",name:"Target:Offer | SARAs:page_data_ready | #020 [paywall_is_active] | [Target (call-local-mbox: target-paywall-)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCde80cd60f8364bda844fe117017ad210-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL56c8528194224c3394445ae55d66de6e",name:"Vermarktung:Adserve | SARAs:adpos-init | #001 [-PUR:abo, homepage, marktplatz_1] | [Google Adserver (set-marktplatz)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"adpos-init"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.custom.url-search:jsv%",rightOperand:"?testZone=adverserve&adType=test_Marktplatz-Widget_Empty_Adobe_test"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.attributes.pos:sd%",rightOperand:"marktplatz_1"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC1e7381e39a8a479e8601360a69d0c4bf-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL5884dfe825464596bb3116581eb04543",name:"Link:Exit | SARAs:click | #100 | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"spiegel.de"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.attributes.target_url:sd%",rightOperand:"#"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%event.attributes.target_url:sd%"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar21",type:"value",value:"%event.attributes.click_id:sd%"},{name:"eVar22",type:"value",value:"%Click | Component Name [co]%"},{name:"eVar23",type:"value",value:"%event.attributes.headline:sd%"},{name:"eVar24",type:"value",value:"%event.attributes.pos:sd%"},{name:"eVar25",type:"value",value:"%event.custom.click-type:map%"},{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"},{name:"event5"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.attributes.target_url:sd%",linkType:"e"},timeout:2e3,delayNext:!0}]},{id:"RL8855efa7fef749fa86f351fe0e2e2449",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#002 [homepage, cmp-complete] | [Target (call-local-mbox: target-hp-channelbox, target-hp-reco)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"homepage"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC1e54e6f67de1490c867e01fa340d53af-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCde9b2193f3d04b2a84cbd006d0a1618a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14de200b07b44740b22d54bab2810f05",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#003 [once in 2 days, article|topic, cmp-complete, pageview > 1, -video, -paywall] |\xa0[Target (call-local-mbox: target-research-banner-all)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"day",count:2},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/pageViews.js",settings:{count:1,duration:"session",operator:">"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC1dfebf67b6b444a2bef4a143dc49def9-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL8526b1057926439f8b12a26c8efb2fdb",name:"Base:Pageview | SARAs:page_data_ready | #002 [404] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.custom.url-search-from:qsp%",rightOperand:404},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.pageType="errorPage"}},trackerProperties:{eVars:[{name:"eVar19",type:"value",value:"%page.custom.referrer-url:pi%"}],props:[{name:"prop40",type:"value",value:"D=v19"}],referrer:"%page.custom.url-search-referrer:qsp%"}},timeout:2e3,delayNext:!0}]},{id:"RLa8a69a0584834667b3ef159a7760a802",name:"Media:Audio | SARAs:audio | #100 [-ivw] | [Analytics (set-vars, track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){var n=~~_satellite.getVar("Page | is PUR Tracking [co]");t.contextData["cm.ssf"]=n.toString(),t.contextData["opt.sell"]="N",_satellite.getVar("Editorial | Topics:List [co]")}},trackerProperties:{eVars:[{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar100",type:"value",value:"%event.attributes.item-media_id:sd%"},{name:"eVar101",type:"value",value:"%event.attributes.state:sd%"},{name:"eVar102",type:"value",value:"audio"},{name:"eVar103",type:"value",value:"%event.attributes.item-type:sd%"},{name:"eVar104",type:"value",value:"%event.attributes.item-title:sd%"},{name:"eVar105",type:"value",value:"%event.attributes.item-series:sd%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLbb92ef4f54de44868de046fed7a31d6b",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #100 | [Analytics (set-vars, track-page), CC(performance.mark)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:100},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:100}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){function n(e){t[e]=null}t.eVar13=t.getPreviousValue(t.pageName,"sara_gpv_page"),t.eVar145=t.getValOnce(t.eVar145,"sara_cid_int"),t.eVar146=t.getValOnce(t.eVar146,"sara_cid_any"),t.eVar153=t.getValOnce(t.eVar153,"sara_cid_fb"),t.eVar154=t.getValOnce(t.eVar154,"sara_cid_nl",5,"m"),t.campaign=t.getValOnce(t.campaign,"sara_cid_ext"),t.hier2=t.apl(t.hier2,_satellite.getVar("Page | URL: Path L4 [gl]"),"|"),-1<_satellite.getVar("page.category.route:sd").indexOf("issue")&&(t.eVar83=_satellite.getVar("editorial.attributes.magazine:sd")),t.linkTrackVars=t.apl(t.linkTrackVars,"list1,prop50,contextData.cm.ssf,contextData.opt.sell");var a=["events","hier1","prop1","prop2","prop3","prop4","prop5","prop6","prop7","prop8","prop9","prop12","prop32","prop40","prop41","prop42","prop43","prop70","prop71","eVar9","eVar10","eVar11","eVar12","eVar13","eVar14","eVar15","eVar19","eVar20","eVar21","eVar22","eVar23","eVar24","eVar25","eVar35","eVar38","eVar41","eVar42","eVar43","eVar44","eVar100","eVar101","eVar102","eVar103","eVar104","eVar105","eVar106","eVar107","eVar115","eVar116","eVar117","eVar118","eVar119","eVar120","eVar121","eVar122","eVar123","eVar124","eVar125","eVar126","eVar127","eVar130","eVar131","eVar132","eVar133","eVar134","eVar135","eVar136","eVar137","eVar138","eVar139","eVar145","eVar146","eVar147","eVar148","eVar149","eVar153","eVar154","eVar161","eVar162","eVar163","eVar164","eVar165","eVar166","eVar167","eVar175","eVar176","eVar177","eVar178","eVar179","eVar180","eVar183","eVar185","eVar186","eVar187","eVar188","eVar200"];t.registerPostTrackCallback(function(e,t){t.forEach(n),_satellite.logger.info("variables cleared: ",t)},a)}},trackerProperties:{eVars:[{name:"eVar1",type:"value",value:"D=pageName"},{name:"eVar2",type:"value",value:"%page.info.canonical_url:sd%"},{name:"eVar3",type:"value",value:"%page.info.platform:sd%"},{name:"eVar4",type:"value",value:"%page.category.route:sd%"},{name:"eVar5",type:"value",value:"%page.category.type:sd%"},{name:"eVar7",type:"value",value:"%page.info.title:sd%"},{name:"eVar8",type:"value",value:"%page.custom.url-hostname:pi%"},{name:"eVar9",type:"value",value:"%page.custom.url-search:jsv%"},{name:"eVar10",type:"value",value:"%page.custom.url-hash:jsv%"},{name:"eVar11",type:"value",value:"%page.custom.referrer-domain:cc%"},{name:"eVar12",type:"value",value:"%page.custom.referrer-url-without-search:cc%"},{name:"eVar15",type:"value",value:"D=c2"},{name:"eVar16",type:"value",value:"%Page | PUR Tracking [co]%"},{name:"eVar18",type:"value",value:"%Page | URL: Host + Path  [gl]%"},{name:"eVar19",type:"value",value:"%Page | Referrer: default  [gl]%"},{name:"eVar33",type:"value",value:"%user.custom.device-type:cc%"},{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"},{name:"eVar36",type:"value",value:"%User | New or Returning [gl]%"},{name:"eVar38",type:"value",value:"%Cookie | Day Usage [co]%"},{name:"eVar40",type:"value",value:"%page.custom.visibility-state:jsv%"},{name:"eVar145",type:"value",value:"%page.custom.url-search-sara_icid:qsp%"},{name:"eVar146",type:"value",value:"%page.custom.campaign-id-all:cc%"},{name:"eVar147",type:"value",value:"D=v0"},{name:"eVar148",type:"value",value:"D=v145"},{name:"eVar149",type:"value",value:"D=v146"},{name:"eVar153",type:"value",value:"%Page URL | Facebook Click ID [gl]%"},{name:"eVar154",type:"value",value:"%Page URL | Newsletter ID [co]%"},{name:"eVar175",type:"value",value:"%user.segment.is_loggedIn:sd.rw%"},{name:"eVar177",type:"value",value:"%user.segment.has_paid_access:sd.rw%"},{name:"eVar178",type:"value",value:"%user.segment.has_conditional_access:sd.rw%"},{name:"eVar179",type:"value",value:"%user.segment.has_spiegelNoAdsMonthly_access:sd.rw%"},{name:"eVar180",type:"value",value:"%User | has Consent [gl]%"},{name:"eVar185",type:"value",value:"D=mid"},{name:"eVar186",type:"value",value:"%user.info.tracking_id:sd%"},{name:"eVar187",type:"value",value:"%user.info.device_advertising_id:sd%"},{name:"eVar200",type:"value",value:"D=User-Agent"}],props:[{name:"prop1",type:"value",value:"%page.custom.name-concat:dea%"},{name:"prop2",type:"value",value:"%page.custom.referrer-category:map%"},{name:"prop3",type:"value",value:"%click.custom.on-page-load-position:cc%"},{name:"prop7",type:"value",value:"%page.custom.referrer-category:map%"},{name:"prop8",type:"value",value:"%editorial.info.channel:sd%"},{name:"prop9",type:"value",value:"%page.custom.url-path:pi%"},{name:"prop12",type:"value",value:"D=pid"},{name:"prop31",type:"value",value:"%App | Version [co]%"},{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop55",type:"value",value:"%User | has Consent updated [gl]%"},{name:"prop60",type:"value",value:"%User | has Emetriq ID [co]%"},{name:"prop61",type:"value",value:"%User | has Visitor API [gl]%"},{name:"prop62",type:"value",value:"%User | has SSO ID [gl]%"},{name:"prop65",type:"value",value:"%Cookie | Dynamic Paygate [co]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"},{name:"prop73",type:"value",value:"%_qs.value.launch-property-turbine:dea%"},{name:"prop74",type:"value",value:"%_qs.value.launch-build:dea%"},{name:"prop75",type:"value",value:"%_config.value.data-model-version:const%"}],events:[{name:"event1"}],server:"%page.custom.url-hostname:pi%",channel:"%page.attributes.channel_slug:sd%",pageURL:"%page.info.canonical_url:sd%",campaign:{type:"value",value:"%page.custom.campaign-id-external:cc%"},pageName:"%page.custom.name-concat:dea%",referrer:"%Page | Referrer [gl]%",hierarchies:[{name:"hier1",sections:["%page.custom.name-prefix:map%","%page.custom.url-subdomains:cc%","%page.attributes.channel_slug:sd%","%page.attributes.subchannel_slug:sd%"],delimiter:"|"},{name:"hier2",sections:["%page.custom.url-hostname:pi%","%Page | URL: Path L1 [gl]%","%Page | URL: Path L2 [gl]%","%Page | URL: Path L3 [gl]%"],delimiter:"|"}]}},timeout:5e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"},timeout:3e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCf0d04f38b05d4c25ae1c43d3f64d2b04-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLab0c51fa5b64433496002401d9068380",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #020 [loggedIn, -PUR:page] | [ECID (sso_id)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.is_loggedIn:sd%"},timeout:2e3}],actions:[{modulePath:"adobe-mcid/src/lib/actions/setCustomerIds.js",settings:{customerIds:[{value:"%user.info.tracking_id:sd%",hashType:"",authState:1,integrationCode:"sso_id_sync"}]},timeout:2e3,delayNext:!0}]},{id:"RLabf71480d7634a55b697a105f05a58f1",name:"Link:Exit | SARAs:click | #002 [homepage] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"www.spiegel.de"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"homepage"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%event.attributes.target_url:sd%"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop1",type:"value",value:"%event.custom.url-name-concat:dea%"},{name:"prop2",type:"value",value:"from_int_homepage"}],events:[{name:"event4"}]}},timeout:2e3,delayNext:!0}]},{id:"RL88724a4c96b949e1b9fb17593a0be28f",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #010 [article +from homepage] | [ Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.custom.referrer-category:map%",rightOperand:"from_int_homepage"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event4"}]}},timeout:2e3,delayNext:!0}]},{id:"RLb2f42183721d4f5ead95fdab72cd2790",name:"Media:Video | SARAs:jw-init | #001 | [DLC(sync: addWatcher)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"jw-init"},ruleOrder:1}],conditions:[],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(e){try{var t=e.detail.state.event.attributes.player_id;_satellite.logger.warn(t),_satellite.jwwatcher.addWatcher(jwplayer(t))}catch(n){_satellite.logger.error(n)}}},timeout:2e3,delayNext:!0}]},{id:"RL4cf66a34733c497498bd5cc484454f88",name:"Target:Offer | SARAs:adpos-init | #001 [slot from list, contains_ad, -GnD]| [Target (call-local-mbox: target-emptyadslot)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"adpos-init"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotContain"},leftOperand:"%target.elements.eigenwerbung:const%",rightOperand:"%event.attributes.pos:sd%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalse"},leftOperand:"%event.attributes.contains_ad:sd%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%Editorial |\xa0Topics:String [co]%",rightOperand:"Gesellschaft neu denken"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.info.canonical_url:sd%",rightOperand:"https://www.spiegel.de/thema/gesellschaft-neu-denken/"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCfd253ade1898458f9ad12262a5647dfd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb760469b772f4347ac6c4470c68d68ce",name:"Link:Exit | SARAs:click | #011 [to abo.spiegel] | [Analytics (set-vars)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:11}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"www.spiegel.de"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%event.attributes.target_url:sd%",rightOperand:"abo.spiegel.de"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event310"}]}},timeout:2e3,delayNext:!0}]},{id:"RLb83dad2573054b418c736b1dd336d873",name:"Event:Scroll | SARAs_data:scroll | #001 [editorial complete; once p. p.; >20sec engage] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"scroll"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"editorial complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"lessThan"},leftOperand:"%page.timing.time-active-sec:cc%",rightOperand:20},negate:!0,timeout:2e3}],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){switch(null===s.events&&(s.events=""),_satellite.getVar("page.category.route:sd")){case"article":s.events=s.apl(s.events,"event106"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event106");break;case"homepage":s.events=s.apl(s.events,"event190"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event190")}}},timeout:2e3,delayNext:!0}]},{id:"RL90b2dbd3db334fcc936c1fef39991c20",name:"Link:Component | SARAs:component_click | #001 [on GalleryTeaser] | [AA(set)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"component_click"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Click | Component Name [co]%",rightOperand:"GalleryTeaser"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar115",type:"value",value:"gallery"}],events:[{name:"event168"}]}},timeout:2e3,delayNext:!0}]},{id:"RL8b89b74ac59c44bdbe1d86905a876434",name:"Base:Libraries | Core:Library Loaded | #001 | [performance.mark (load), TCF-API (consent), Day Usage Marker, Click Attribute Handling, Plugins (gpv,apl,inList,p_fo,getQueryParam,getValOnce)]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"performance.mark('sara_load_libraries')",language:"javascript"},timeout:2e3,delayNext:!0},{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){function e(e){function t(){"function"==typeof window.__tcfapi?window.__tcfapi("addEventListener",2,function(e,t){return n(e,t)}):(_satellite.logger.warn("[SARA-TCFWatcher]: TCData window.__tcfapi is not available!"),c("tcf_error","api error",!1,"error","none"))}function n(e,t){!t||e&&e.cmpStatus&&"error"===e.cmpStatus?i("CMP status error"):e&&e.eventStatus&&p._lastEventStatus!==e.eventStatus&&(p._lastEventStatus=e.eventStatus,a(e)),d("[SARA-TCFWatcher]: api callback",e,t,p)}function a(e){(p._tcData=e)&&e.eventStatus&&"loaded"==e.cmpStatus?r(e):i("cmpStatus not defined"),d("[SARA-TCFWatcher]:: saras_tcdata_changed",e,p)}function r(e){var t,n,a,r;p._ready=!0,"tcloaded"==e.eventStatus&&e.purpose.consents[1]?(o(e.eventStatus),n="consent_granted",a="complete"):"cmpuishown"==e.eventStatus?(o(e.eventStatus),n="consent_ready",a="waiting"):"useractioncomplete"==e.eventStatus&&(o(e.eventStatus),n="consent_granted",a="complete"),c(n,"sourcepoint consent",p._ready,a,e.eventStatus,r,{allow_list:s(e)}),d("SARA-TCF: on_ready",p,t)}function i(e){c("consent_error","sourcepoint error",!(p._errorOccurred=!0),"error","none",e),_satellite.logger.error("[SARA-TCFWatcher]: on_error",p)}function o(e){p._dlcActivated||(_satellite.track("consent_ready",{activation:!0,trigger:e}),p._dlcActivated=!0)}function s(e){var t=e.vendor.consents;return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}function c(e,t,n,a,r,i,o){var s={event:{info:{action:e,name:t}},consent:{info:{ready:n,action:a,status:r,message:i}},vendors:o||{}};SARAs_data.push(s)}var u={debug:!1,loggingFunction:undefined};for(var l in e)u[l]=e[l];var d=function(){};u.debug&&(d=u.loggingFunction?u.loggingFunction:Function.prototype.bind.apply(console.debug,[console,"[Engagement]"]));var p={_init:t,_dlcActivated:!1,_ready:!1,_errorOccurred:!1,_tcData:undefined,_lastEventStatus:undefined},m="no tc string  > waiting for activation";return _satellite.getVar("User | has TC-Consent-String [gl]")&&(o("tcstring"),m="tc string ready > DLC activation triggered"),t(),d("[SARA-TCFWatcher]: Ready",m,p),p}window._satellite.tcfwatcher=e({debug:!0,loggingFunction:_satellite.logger.debug})}},timeout:3e3,delayNext:!0},{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){try{var e,t,n,a,r=_satellite.getVar("_config.store.sara-user-day:const"),i=_satellite.getVar("_config.store.sara-user-session:const"),o=_satellite.getVar("Cookie | Session [co]"),s=_satellite.getVar("Cookie | Day Usage [co]")||"0.x:0.x|0.x:0.x",c=_satellite.getVar("user.segment.is_loggedIn:sd"),u=".x:0.x",l="1.d:1.v",d=new Date;switch(d.setHours(24,0,0,0),day_string_p1day=s.split("|")[0],e=parseInt(day_string_p1day.split(":")[0].split(".")[0]),t=parseInt(day_string_p1day.split(":")[1].split(".")[0]),0==e&&0==t?day_string_p1day=l:0<e&&1<=t&&!o?(t=1,day_string_p1day=++e+".f:"+t+".f"):0<e&&1<=t&&"active"==o&&(day_string_p1day=e+".f:"+ ++t+".f"),day_string_p2login=s.split("|")[1],n=parseInt(day_string_p2login.split(":")[0].split(".")[0]),a=parseInt(day_string_p2login.split(":")[1].split(".")[0]),c){case!1:0<a&&(day_string_p2login=-n+u);break;case!0:0==n&&0==a?day_string_p2login=l:0<n&&1==t?day_string_p2login=++n+".f:"+t+".f":0<n&&0<a&&1<t?day_string_p2login=n+".f:"+ ++a+".f":n<0&&(day_string_p2login=1+(n*=-1)+".f:1.v")}s=day_string_p1day+"|"+day_string_p2login,_satellite.cookie.set(r,s,{expires:d,domain:location.hostname.match(/(\w+\.)?\w+\.\w+$/)[0]}),_satellite.cookie.set(i,"active",{domain:location.hostname.match(/(\w+\.)?\w+\.\w+$/)[0]}),_satellite.logger.info("DAY COOKIE SAVED: ",s)}catch(p){}}}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var track_tag = 'Add Listener: Store Click Data';\ntry {\n    _satellite.track_teaser = (function track_teaser(window) {\n      'use strict';\n\n      if (document.addEventListener) {\n        document.addEventListener('click', set_teaserStorage, false);\n        _satellite.logger.info('event listener added: set_teaserStorage');\n      } else {\n        document.attachEvent('onclick', set_teaserStorage);\n        _satellite.logger.info('event listener added: set_teaserStorage');\n      }\n\n      function set_teaserStorage(ev) {\n        var track_tag = \"track_teaser\";\n        var teaser_obj = (_satellite.getVar('event.info.action:sd', event) == 'click' && _satellite.getVar('event.attributes.target_url:sd', event).length > 1) ? {'click_id' : _satellite.getVar('event.attributes.click_id:sd', event), 'pos' : _satellite.getVar('event.attributes.pos:sd', event), 'target_url' : _satellite.getVar('event.attributes.target_url:sd:rw', event), 'headline' : _satellite.getVar('event.attributes.headline:sd', event)} : {'click_id': 'not_set'};\n        teaser_obj.referrer = _satellite.getVar('page.info.canonical_url:sd');\n        var valid_tags = ['A', 'H1', 'IMG', 'path', 'SPAN', 'svg'];\n        ev = ev || window.event;\n\n        if (valid_tags.indexOf(ev.target.tagName) == -1 || valid_tags.indexOf(ev.target.parentElement.tagName) == -1) {\n          _satellite.logger.info(\"NO Click Data saved:\",ev);\n          return;\n        } else {\n          _satellite.cookie.set(_satellite.getVar('_config.store.sara-click-attributes:const'), JSON.stringify(teaser_obj), {expires: 1});\n          _satellite.logger.info(\"Click Data saved:\",teaser_obj);\n        }\n      }\n  })(window);\n\n} catch(e) {\n  _satellite.logger.error(track_tag, e);\n}\n",language:"javascript"}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js",settings:{},timeout:2e3,delayNext:!0},{modulePath:"common-analytics-plugins/src/lib/actions/initializeApl.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeInList.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeP_fo.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetQueryParam.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetValOnce.js",settings:{},timeout:2e3,delayNext:!0}]},{id:"RLbe3aae9838744f9491d94db80074827d",name:"Util:Performance | Enter Viewport | #001 [after 1000ms] | [SARAs_data.push (scroll:page complete)]",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{delay:1e3,frequency:"everyEntry",elementSelector:'footer[data-area="footer"]'},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC7e89ae19d2a943c784f47398d89de591-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLc0b9842fb9ff4e81b33c83e675713d10",name:"Media:All | SARAs:video|audio | #002 [play -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"play"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event130"},{id:"%event.attributes.item-media_id:sd%",name:"event131"}]}},timeout:2e3,delayNext:!0}]},{id:"RLc0de5e7737f64e63a0cc27d481ee6284",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #010 [article +paid +paywall] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%paywall.category.type:sd%",rightOperand:"paid|conditional"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar135",type:"value",value:"%editorial.info.article_id:sd%"},{name:"eVar136",type:"value",value:"+1"},{name:"eVar137",type:"value",value:"%paywall.category.type:sd%"},{name:"eVar138",type:"value",value:"%paywall.info.position:sd%"}],events:[{name:"event110"},{name:"event300"}]}},timeout:2e3,delayNext:!0}]},{id:"RLc31c3d842e084236863471d8d813ff8a",name:"Media:All | SARAs:video|audio | #003 [unmute -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.info.name:sd%",rightOperand:"unmute"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event140"}]}},timeout:2e3,delayNext:!0}]},{id:"RLc6f0eba6aad449d08bf52bab4bd38082",name:"Base:Pageview | SARAs:virtual_page | #001 | [CC(reset-stats)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC4e8716532dea42faad1ac90c7608e4c1-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLcf52a4630e1e4fd9ac2de1ae2aaaec5e",name:"Media:Video | SARAs:video | #001 [ivw] |  [IVW (track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Config | is PUR Tracking [co]%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC334b884e5e554d8895c835c585ac2acc-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{props:[{name:"prop72",type:"value",value:"%Page | IVW Site [co]%::%Page | IVW Code [co]%"}],events:[{name:"event2"}]}},timeout:2e3,delayNext:!0}]},{id:"RLd135e21c6dfa4d32969aafbd8df46e5d",name:"Event:Time | SARAs:timer | #001 | Analytics (set-vars, track-link)",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"timer"},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar40",type:"value",value:"%page.custom.visibility-state:jsv%"},{name:"eVar44",type:"value",value:"+900"}],props:[{name:"prop41",type:"value",value:"%Hit | Visibility Stats [co]%"},{name:"prop42",type:"value",value:"%Hit | Timing Stats (minutes) [co]%"},{name:"prop43",type:"value",value:"%Hit | Timing Stats (seconds) [co]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event972"},{name:"event973",value:"%page.timing.time-total:jsv%"}]}},timeout:2e3,delayNext:!0},{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){_satellite.logger.debug("[20 Minute Timer]: ",window.stats.status)}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RLd1ea77a4d3814cabb36d0946dd24b873",name:"Base:Pageview | SARAs:page_unload | #001 | [CC(save data)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_unload"},ruleOrder:1}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCcffdc7785b3d4b72a7742d3044d11091-source.min.js",language:"javascript",isExternal:!0
},timeout:2e3,delayNext:!0}]},{id:"RLd52c7cb1e90647d9a02c38e062e25ef0",name:"Base:Pageview | SARAs:page_data_ready | #002 [purchase, app, once:session] | [SARAs_data.push (products), Analytics (set-vars, products)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%Product | ID in App [co]%"},timeout:2e3},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"session",count:1},timeout:2e3}],actions:[{modulePath:"fm-spon-data-layer-constructor/src/lib/actions/synchronousCode.js",settings:{callback:function(){var e={info:{id:_satellite.getVar("Product | ID in App [co]")},attributes:{paywall_id:_satellite.getVar("editorial.info.article_id:sd")},category:{type:_satellite.getVar("Product | Type in App [co]")},price:{price:_satellite.getVar("Product | Price in App [co]")}};window.SARAs_data.push(["mode:append",{product:[e]}])}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){t.products=_satellite.getVar("product.custom.string:sd.rw")}},trackerProperties:{props:[{name:"prop4",type:"value",value:"%page.custom.name-concat:dea%"},{name:"prop5",type:"value",value:"%RADAR | Conversion String [gl]%"}],events:[{name:"purchase"}],channel:"%editorial.info.channel:sd%",pageURL:"%page.info.canonical_url:sd%",campaign:{type:"queryParam",value:"sara_ecid"},pageName:"%page.custom.name-concat:dea%"}},timeout:2e3,delayNext:!0}]},{id:"RLa6ca885222cc414eb632c9f8119923f8",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#003 [once in 3 weeks, article|topic, cmp-complete, sample 400-700 (1000), pageview > 1, -video, -paywall] |\xa0[Target (call-local-mbox: target-research-banner-gross-2)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"week",count:3},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(_satellite.cookie.get("sara_randomnumber")===undefined){var e=Math.floor(1e3*Math.random());_satellite.cookie.set("sara_randomnumber",e,{expires:14})}else _satellite.cookie.get("sara_randomnumber")!=undefined&&(e=_satellite.cookie.get("sara_randomnumber"));return 400<=e&&e<700}},timeout:2e3},{modulePath:"core/src/lib/conditions/pageViews.js",settings:{count:1,duration:"session",operator:">"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC600a1ea647154c8db7dbd8068f83026d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL56424ec7f43d4a2b9bc154729d1cbc08",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#002 [-PUR:abo, cmp-complete, once per 360min, -DS. -issue] | [Target (call-local-mbox: target-article-banner]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"minute",count:360},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.attributes.channel_slug:sd%",rightOperand:"deinspiegel"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"issue"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCf64c463d264945749cf22a7af960340f-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLd75d15736f424c02a334449813562e43",name:"Link:Component | SARAs:button_click | #100 | [Analytics (set-vars, track-link)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"button_click"},ruleOrder:100}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar21",type:"value",value:"%event.attributes.click_id:sd%"},{name:"eVar22",type:"value",value:"%Click | Component Name [co]%"},{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL0deeac22f41747318ba6a0a047b78130",name:"Base:Pageview | SARAs:page_data_ready | #020 [with previous page data] | [Analytics (set-vars), Clear Previous Page Data Cookie]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:20}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isFalsy"},leftOperand:"%page.custom.on-page-load-previous-data:cookie%"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar53",type:"value",value:"%page.custom.previous-article-id:cc%"},{name:"eVar94",type:"value",value:"%page.custom.previous-article-channel:cc%"}],events:[{name:"event40",value:"%page.timing.previous-performance-server-response:cc%"},{name:"event41",value:"%page.timing.previous-performance-response-complete:cc%"},{name:"event42",value:"%page.timing.previous-performance-page-render:cc%"},{name:"event43",value:"%page.timing.previous-performance-dom-complete:cc%"},{name:"event44",value:"%page.timing.previous-performance-load-libraries:cc%"},{name:"event45",value:"%page.timing.previous-performance-track-pageview:cc%"},{name:"event50",value:"%page.timing.previous-time-first-visible:cc%"},{name:"event51",value:"%page.timing.previous-time-visible:cc%"},{name:"event52",value:"%page.timing.previous-time-hidden:cc %"},{name:"event53",value:"%page.timing.previous-time-active:cc%"},{name:"event54",value:"%page.timing.previous-time-total:cc%"},{name:"event360",value:"%page.custom.previous-free-adslots-count:cc%"}]}},timeout:3e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC1866afe0c20e492c8ff7f66f9ebe9704-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd8d85b5aaf0043e19c914f977e495863",name:"Link:Exit | SARAs:click | #002 [paywall +purchase] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"www.spiegel.de"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"endsWith"},leftOperand:"%event.attributes.click_id:sd%",rightOperand:"paywall-purchase-button"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTruthy"},leftOperand:"%event.attributes.target_url:sd%"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar146",type:"value",value:"%editorial.info.article_id:sd%"},{name:"eVar149",type:"value",value:"D=v146"}],props:[{name:"prop4",type:"value",value:"%page.custom.name-concat:dea%"},{name:"prop5",type:"value",value:"paywall:click:%page.info.platform:sd%"}],events:[{name:"event303"}]}},timeout:2e3,delayNext:!0}]},{id:"RLe3e6e063014f45388f8aa073210d014e",name:"Media:All | SARAs:video|audio | #003 [95% -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%event.info.name:sd%",rightOperand:"95%"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event136"},{name:"event138",value:"%Media | Playtime [co]%"}]}},timeout:2e3,delayNext:!0}]},{id:"RL683aaf07df024e0fa32d96fc48a1073d",name:"Media:All | SARAs:video|audio | #003 [50% -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%event.info.name:sd%",rightOperand:"50%"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event134"},{name:"event138",value:"%Media | Playtime [co]%"}]}},timeout:2e3,delayNext:!0}]},{id:"RL6b029d4c23d0496690fadbc50ea6ba06",name:"Util:Performance | Enter Viewport | #001 [homepage] | [SARAs_data.push (scroll:editorial complete)]",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{frequency:"everyEntry",elementSelector:'section[data-area="block>video"]'},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.type:sd%",rightOperand:"homepage"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC7d89571b5e6d446a906f1f3243571046-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL6cd347f3fbac40bc8b21fdeb66404718",name:"Link:Exit | SARAs:click | #011 [to friendly domain] | [AA(set)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"click"},ruleOrder:11}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"doesNotEqual"},leftOperand:"%event.custom.url-hostname:cc%",rightOperand:"www.spiegel.de"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%event.custom.url-hostname-is-friendly:map%",rightOperand:"is_friendly"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event6"}]}},timeout:2e3,delayNext:!0}]},{id:"RL6d1938f9af4f48b090479fffe16c9759",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #010 [homepage] | [Analytics (set-vars)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"homepage"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event12"}],channel:"Homepage"}},timeout:2e3,delayNext:!0}]},{id:"RL94e9c8258e234292adfd7184e2568542",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#003 [fuermich, loggedIn, cmp-complete] | [Target (call-local-mbox: target-fuermich-loggedIn, target-fuermich-loggedIn-comment, target-fuermich-loggedIn-history)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"fuermich"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.is_loggedIn:sd%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCff4e926b23084c8aaf2cce963c8eb7ca-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC93685b455db7429a919f361f75653e33-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCa7059c6b5a5c46a4bc130a82b1137401-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2be686059ec64ae7bb92a4ac3d382655",name:"Target:Offer | SARAs:page_data_ready+consent_granted | #010+#003 [once in 3 weeks, article|topic, cmp-complete, sample 000-300 (1000), pageview > 1, -video, -paywall] |\xa0[Target (call-local-mbox: target-research-banner-gross-1)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"week",count:3},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%page.category.route:sd%",rightOperand:"article|topic"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(_satellite.cookie.get("sara_randomnumber")===undefined){var e=Math.floor(1e3*Math.random());_satellite.cookie.set("sara_randomnumber",e,{expires:14})}else _satellite.cookie.get("sara_randomnumber")!=undefined&&(e=_satellite.cookie.get("sara_randomnumber"));return 0<=e&&e<300}},timeout:2e3},{modulePath:"core/src/lib/conditions/pageViews.js",settings:{count:1,duration:"session",operator:">"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%editorial.category.style:sd%",rightOperand:"video"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},negate:!0,timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCd9c7140c74ec44ffa8abab2e54fc161d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLe9db7794ba7442f89cdaf0e2e1110d17",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #010 [article +paid -paywall] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:10},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:10}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%paywall.category.type:sd%",rightOperand:"paid|conditional"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event111"}]}},timeout:2e3,delayNext:!0}]},{id:"RLed165c3348c445d2a9d41b288b09d087",name:"Media:All | SARAs:video|audio | #003 [75% -ivw] | [AA(set)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"video"},ruleOrder:3},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"audio"},ruleOrder:3}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"startsWith"},leftOperand:"%event.info.name:sd%",rightOperand:"ivw"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%event.info.name:sd%",rightOperand:"75%"},timeout:2e3}],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{events:[{name:"event135"},{name:"event138",value:"%Media | Playtime [co]%"}]}},timeout:2e3,delayNext:!0}]},{id:"RLf23e60a4b7db4a54954633dfd56829f2",name:"Link:Component | SARAs:component_click | #100 | [Analytics (set-vars, track-link)] ",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"component_click"},ruleOrder:100}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar21",type:"value",value:"%event.attributes.click_id:sd%"},{name:"eVar22",type:"value",value:"%Click | Component Name [co]%"},{name:"eVar35",type:"value",value:"%Hit | Timestamp HH:MM [gl]%"}],props:[{name:"prop32",type:"value",value:"%Hit | Timestamp ISO [gl]%"},{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event3"},{name:"event200"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL9d14016a0bfd43b7a5ff852e1293763e",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #005 [-PUR:page] | [Target (set-params2all, track-page)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:5},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:5}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-target-v2/lib/addParams.js",settings:{params:{at_property:{value:"%target.custom.property:map%",checked:!1},"page.info.platform":{value:"%page.info.platform:sd%",checked:!1},"user.custom.device-type":{value:"%user.custom.device-type:cc%",checked:!1},"user.segment.is_loggedIn":{value:"%user.segment.is_loggedIn:sd%",checked:!1},"user.segment.target_test":{value:"%target_test_cookie%",checked:!0},"application.info.app_version":{value:"%App | Version [co]%",checked:!0},"user.segment.has_paid_access":{value:"%user.segment.has_paid_access:sd%",checked:!1},"user.segment.has_pur_subscription":{value:"%user.segment.has_spiegelNoAdsMonthly_access:sd%",checked:!1}}},timeout:3e3,delayNext:!0},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"#data-target-hide {opacity: 0 !important}",bodyHidingEnabled:!0},timeout:2e3,delayNext:!0}]},{id:"RLf4fdccb09dad4f6d9146172182d92c1c",name:"Base:Pageview | SARAs:page_data_ready+virtual_page | #002 [article] | [Target (param2page) PROD]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:2},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"virtual_page"},ruleOrder:2}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.route:sd%",rightOperand:"article"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%qs.value.launch-environment:jsv%",rightOperand:"production"},negate:!0,timeout:2e3}],actions:[{modulePath:"adobe-target-v2/lib/addPageLoadParams.js",settings:{params:{"entity.id":{value:"%editorial.info.article_id:sd%",checked:!0},"entity.name":{value:"%editorial.info.headline:sd%",checked:!0},"entity.intro":{value:"%editorial.info.intro:sd%",checked:!0},"entity.channel":{value:"%editorial.info.channel:sd%",checked:!0},"entity.pageUrl":{value:"%page.info.canonical_url:sd.rwAT%",checked:!0},"entity.categoryId":{value:"%editorial.custom.[categories]:cc%",checked:!0},"entity.headerImageId":{value:"%editorial.info.header_image_id:sd%",checked:!0},"entity.editorial.type":{value:"%editorial.category.type:sd%",checked:!0},"paywall.category.type":{value:"%paywall.category.type:sd%",checked:!0},"entity.editorial.style":{value:"%editorial.category.style:sd%",checked:!0},"entity.attributes.has_audio":{value:"%editorial.attributes.has_audio:sd%",checked:!0},"entity.attributes.has_video":{value:"%editorial.attributes.has_video:sd%",checked:!0},"entity.attributes.has_author":{value:"%editorial.attributes.has_author:sd.rw%",checked:!0},"paywall.attributes.is_active":{value:"%paywall.attributes.is_active:sd.rwAT%",checked:!0},"entity.attribute.date_modified":{value:"%editorial.info.date_modified:sd.rw%",checked:!0},"entity.attributes.is_listExcluded":{value:"%editorial.attributes.is_listExcluded:sd%",checked:!0},"entity.attributes.is_comments_enabled":{value:"%editorial.attributes.is_comments_enabled:sd%",checked:!0}}},timeout:2e3,delayNext:!0}]},{id:"RLf6bed5b148c947788859b52201a98055",name:"Link:Form | SARAs:submit | #001 | Analytics (set-vars, track-link)",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"submit"},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{trackerProperties:{eVars:[{name:"eVar22",type:"value",value:"%Click | Component Name [co]%"},{name:"eVar130",type:"value",value:"%Form | Name [gl]%"},{name:"eVar131",type:"value",value:"%Form | Class [gl]%::%Form | Type [gl]%"},{name:"eVar132",type:"value",value:"%Form | Fields Total Count [gl]%::%Form | Field Opt-In (String) [gl]%::%Form | Field email [gl]%"},{name:"eVar133",type:"value",value:"%Form | Status [gl]%::%Form | Status Code [gl]%::%Form | Status Message [gl]%"},{name:"eVar154",type:"value",value:"%Event Item | Newsletter ID [co]%"}],props:[{name:"prop70",type:"value",value:"%Event | Source [co]%"},{name:"prop71",type:"value",value:"%_qs.value.event-action-name-label:dea%"}],events:[{name:"event505"},{name:"event3"}]}},timeout:2e3,delayNext:!0},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]},{id:"RL71bb5d1ccd9f4266a94448b494298959",name:"Util:Performance | Enter Viewport | #001 [article +paywall; once after 1000ms] | [SARAs_data.push (view_element:paywall; scroll)]",events:[{modulePath:"core/src/lib/events/entersViewport.js",settings:{delay:1e3,frequency:"firstEntry",elementSelector:"[data-area=paywall-purchase-button]"},ruleOrder:1}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%page.category.type:sd%",rightOperand:"article"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%paywall.attributes.is_active:sd%"},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC6c655f49cc3f4c66a876dc606af5937d-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RLb829a9ed5f7844949bbc4a7e79f77f94",name:"Marketing:Pageview | SARAs:page_data_ready+virtual_page+consent_granted | #200 [cmp-complete, once.p.p, -PUR] | [Facebook (init 2x, track-base, track-page-events), Google Adwords (init-gtag, track-base), Microsoft Bing Ads (track-base), Outbrain (track-base), performance.mark (marketing)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"page_data_ready"},ruleOrder:200},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_granted"},ruleOrder:200}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Consent | CMP action [co]%",rightOperand:"complete"},timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%user.segment.has_spiegelNoAdsMonthly_access:sd%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"isTrue"},leftOperand:"%Page | is PUR Tracking [co]%"},negate:!0,timeout:2e3},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"pageView",count:1},timeout:2e3}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC6c86574a49e448128baf4728aac8b663-source.min.js",language:"html",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC36a503c2a94145d1a7d3163016cb4817-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC8231ec1aecf149cf83e19707c6f8b092-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RC4f8567dc418a4a8593bccf53b05050ce-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0},{modulePath:"bing-ads-extension/src/lib/actions/baseTag.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCb9b42d9a19ba46578bcd34bcb455591a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/cc10f7b4369d/bc7780f78333/07798a877c83/RCb9a231dda11845a68deee43c18ffdc68-source.min.js",language:"javascript",isExternal:!0},timeout:2e3,delayNext:!0}]},{id:"RL3a736ce83d2948a39b370d777ea56b1f",name:"Error:Consent | SARAs:tcf_error+consent_error | #001 | [Analytics (track-link)]",events:[{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"tcf_error"},ruleOrder:1},{modulePath:"fm-spon-data-layer-constructor/src/lib/events/dataLayerPush.js",settings:{eventName:"consent_error"},ruleOrder:1}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.info.action:sd%::%event.info.name:sd%",linkType:"o"},timeout:2e3,delayNext:!0}]}]};var _satellite=function(){"use strict";function s(e){if(null===e||e===undefined)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(e){a[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(r){return!1}}function t(n){if(n.__esModule)return n;var a=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(e){var t=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(a,e,t.get?t:{enumerable:!0,get:function(){return n[e]}})}),a}function n(e){var t={exports:{}};return e(t,t.exports),t.exports}function a(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}function u(e){return Boolean(e&&"undefined"!=typeof e.length)}function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function c(a,r){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,o._immediateFn(function(){var e=1===a._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(a._value)}catch(n){return void d(r.promise,n)}l(r.promise,t)}else(1===a._state?l:d)(r.promise,a._value)})):a._deferreds.push(r)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void p(e);if("function"==typeof n)return void f(i(n,t),e)}e._state=1,e._value=t,p(e)}catch(a){d(e,a)}}function d(e,t){e._state=2,e._value=t,p(e)}function p(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function m(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,d(t,e))})}catch(a){if(n)return;n=!0,d(t,a)}}function g(e){return!0===ze(e)&&"[object Object]"===Object.prototype.toString.call(e)}function v(e,t){
return Object.prototype.hasOwnProperty.call(e,t)}function h(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function b(e){return e.substr(0,e.indexOf("["))}function y(e,t,n){if(e.length&&Ge(t)){var a=e[0];if(1!==e.length){var r=e.slice(1);if(!h(a))return y(r,t[a],n);var i=t[a=b(a)];Array.isArray(i)&&i.forEach(function(e){return y(r,e,n)})}else t.hasOwnProperty(a)&&"string"==typeof t[a]&&(t[a]=n(t[a]))}}if(window.atob){var _=document,w=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,E=e()?Object.assign:function(e){for(var t,n,a=s(e),r=1;r<arguments.length;r++){for(var i in t=Object(arguments[r]))P.call(t,i)&&(a[i]=t[i]);if(w){n=w(t);for(var o=0;o<n.length;o++)C.call(t,n[o])&&(a[n[o]]=t[n[o]])}}return a},k=window,S=function(e,t,n){var a,r=Array.isArray(t),i=Boolean(r&&e),o=document.createElement("a");if(o.href=e,(!/^https?:\/\/.*/.test(e)||!o.host)&&r){var s=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw s.code="dynamic_host_resolver_constructor_error",s}if(r&&-1===t.indexOf(o.hostname)){var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}var u=function(){if(null!=a)return a;if(i){var e=o.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),a="https://"+e}else a="";return a},l=function(e){return i&&"string"==typeof e?[u(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},d={getTurbineHost:u,decorateWithDynamicHost:l,get isDynamicEnforced(){return r}};return k&&n.onDebugChanged(function(e){e?k.dynamicHostResolver=d:delete k.dynamicHostResolver}),d},T=function(e){var n=[];return e.forEach(function(t){t.events&&t.events.forEach(function(e){n.push({rule:t,event:e})})}),n.sort(function(e,t){return e.event.ruleOrder-t.event.ruleOrder})},j="debug",x=function(t,e){var n=function(){return"true"===t.getItem(j)},a=function(e){t.setItem(j,e)},r=[],i=function(e){r.push(e)};return e.outputEnabled=n(),{onDebugChanged:i,getDebugEnabled:n,setDebugEnabled:function(t){n()!==t&&(a(t),e.outputEnabled=t,r.forEach(function(e){e(t)}))}}},O="Module did not export a function.",A=function(s,c,u){return function(e,t,n){n=n||[];var a=s.getModuleExports(e.modulePath);if("function"!=typeof a)throw new Error(O);var r=s.getModuleDefinition(e.modulePath),i=e.settings||{};!e.hasTransformedFilePaths&&r.filePaths&&(u(i,r.filePaths,e.modulePath),e.hasTransformedFilePaths=!0);var o=c(i,t);return a.bind(null,o).apply(null,n)}},V=function(e){return"string"==typeof e?e.replace(/\s+/g," ").trim():e},I={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},D="\ud83d\ude80",N=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":D,L=!1,R=function(e){if(L&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(N),e!==I.DEBUG||window.console[e]||(e=I.INFO),window.console[e].apply(window.console,t)}},M=R.bind(null,I.LOG),F=R.bind(null,I.INFO),U=R.bind(null,I.DEBUG),q=R.bind(null,I.WARN),H=R.bind(null,I.ERROR),B={log:M,info:F,debug:U,warn:q,error:H,deprecation:function(){var e=L;L=!0,R.apply(null,Array.prototype.concat(I.WARN,Array.prototype.slice.call(arguments))),e||(L=!1)},get outputEnabled(){return L},set outputEnabled(e){L=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:M.bind(null,t),info:F.bind(null,t),debug:U.bind(null,t),warn:q.bind(null,t),error:H.bind(null,t)}}},W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},z=n(function(a){!function(e){if(a.exports=e(),!!0){var t=window.Cookies,n=window.Cookies=e();n.noConflict=function(){return window.Cookies=t,n}}}(function(){function c(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var a in n)t[a]=n[a]}return t}function l(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function e(u){function s(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=c({path:"/"},s.defaults,n)).expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var a=JSON.stringify(t);/^[\{\[]/.test(a)&&(t=a)}catch(o){}t=u.write?u.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r="";for(var i in n)n[i]&&(r+="; "+i,!0!==n[i]&&(r+="="+n[i].split(";")[0]));return document.cookie=e+"="+t+r}}function t(e,t){if("undefined"!=typeof document){for(var n={},a=document.cookie?document.cookie.split("; "):[],r=0;r<a.length;r++){var i=a[r].split("="),o=i.slice(1).join("=");t||'"'!==o.charAt(0)||(o=o.slice(1,-1));try{var s=l(i[0]);if(o=(u.read||u)(o,s)||l(o),t)try{o=JSON.parse(o)}catch(c){}if(n[s]=o,e===s)break}catch(c){}}return e?n[e]:n}}return s.set=n,s.get=function(e){return t(e,!1)},s.getJSON=function(e){return t(e,!0)},s.remove=function(e,t){n(e,"",c(t,{expires:-1}))},s.defaults={},s.withConverter=e,s}return e(function(){})})}),G={get:z.get,set:z.set,remove:z.remove},J="com.adobe.reactor.",$=function(a,e){var r=J+(e||"");return{getItem:function(e){try{return k[a].getItem(r+e)}catch(t){return null}},setItem:function(e,t){try{return k[a].setItem(r+e,t),!0}catch(n){return!1}}}},Y="_sdsat_",K="dataElements.",Q="dataElementCookiesMigrated",X=$("localStorage"),Z=$("sessionStorage",K),ee=$("localStorage",K),te={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},ne={},ae=function(e){var t;try{t=JSON.stringify(e)}catch(n){}return t},re=function(e,t,n){var a;switch(t){case te.PAGEVIEW:return void(ne[e]=n);case te.SESSION:return void((a=ae(n))&&Z.setItem(e,a));case te.VISITOR:return void((a=ae(n))&&ee.setItem(e,a))}},ie=function(e,t){var n=G.get(Y+e);n!==undefined&&re(e,t,n)},oe={setValue:re,getValue:function(e,t){var n;switch(t){case te.PAGEVIEW:return ne.hasOwnProperty(e)?ne[e]:null;case te.SESSION:return null===(n=Z.getItem(e))?n:JSON.parse(n);case te.VISITOR:return null===(n=ee.getItem(e))?n:JSON.parse(n)}},migrateCookieData:function(t){X.getItem(Q)||(Object.keys(t).forEach(function(e){ie(e,t[e].storageDuration)}),X.setItem(Q,!0))}},se=function(e,t,n,a){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+n+(a?"\n"+a:"")},ce=function(u,l,d,p,m){return function(e,t){var n=l(e);if(!n)return p?"":undefined;var a,r,i=n.storageDuration;try{a=u.getModuleExports(n.modulePath),r=u.getModuleDefinition(n.modulePath)}catch(c){return void B.error(se(n,e,c.message,c.stack))}if("function"==typeof a){var o,s=n.settings||{};!n.hasTransformedFilePaths&&r.filePaths&&(m(s,r.filePaths,n.modulePath),n.hasTransformedFilePaths=!0);try{o=a(d(s,t),t)}catch(c){return void B.error(se(n,e,c.message,c.stack))}return i&&(null!=o?oe.setValue(e,i,o):o=oe.getValue(e,i)),null==o&&null!=n.defaultValue&&(o=n.defaultValue),"string"==typeof o&&(n.cleanText&&(o=V(o)),n.forceLowerCase&&(o=o.toLowerCase())),o}B.error(se(n,e,"Module did not export a function."))}},ue={text:function(e){return e.textContent},cleanText:function(e){return V(e.textContent)}},le=function(e,t,n){for(var a,r=e,i=0,o=t.length;i<o;i++){if(null==r)return undefined;var s=t[i];if(n&&"@"===s.charAt(0)){var c=s.slice(1);r=ue[c](r)}else if(r.getAttribute&&(a=s.match(/^getAttribute\((.+)\)$/))){var u=a[1];r=r.getAttribute(u)}else r=r[s]}return r},de=function(i,o,s){return function(e,t){var n;if(o(e))n=s(e,t);else{var a=e.split("."),r=a.shift();"this"===r?t&&(n=le(t.element,a,!0)):"event"===r?t&&(n=le(t,a)):"target"===r?t&&(n=le(t.target,a)):n=le(i[r],a)}return n}},pe=function(n,a){return function(e){var t=e.split(".")[0];return Boolean(a(e)||"this"===t||"event"===t||"target"===t||n.hasOwnProperty(t))}},me=function(e,t,n){var a={exports:{}};return e.call(a.exports,a,a.exports,t,n),a.exports},fe=function(){var o={},n=function(e){var t=o[e];if(!t)throw new Error("Module "+e+" not found.");return t},e=function(){Object.keys(o).forEach(function(e){try{a(e)}catch(n){var t="Error initializing module "+e+". "+n.message+(n.stack?"\n"+n.stack:"");B.error(t)}})},a=function(e){var t=n(e);return t.hasOwnProperty("exports")||(t.exports=me(t.definition.script,t.require,t.turbine)),t.exports};return{registerModule:function(e,t,n,a,r){var i={definition:t,extensionName:n,require:a,turbine:r};i.require=a,o[e]=i},hydrateCache:e,getModuleExports:a,getModuleDefinition:function(e){return n(e).definition},getModuleExtensionName:function(e){return n(e).extensionName}}},ge=!1,ve=function(a){return function(t,n){var e=a._monitors;e&&(ge||(B.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),ge=!0),e.forEach(function(e){e[t]&&e[t](n)}))}},he=function(r,i,o){var n,a,s,c,u=[],l=function(e,t,n){if(!r(t))return e;u.push(t);var a=i(t,n);return u.pop(),null==a&&o?"":a};return n=function(e,n){var t=/^%([^%]+)%$/.exec(e);return t?l(e,t[1],n):e.replace(/%(.+?)%/g,function(e,t){return l(e,t,n)})},a=function(e,t){for(var n={},a=Object.keys(e),r=0;r<a.length;r++){var i=a[r],o=e[i];n[i]=c(o,t)}return n},s=function(e,t){for(var n=[],a=0,r=e.length;a<r;a++)n.push(c(e[a],t));return n},c=function(e,t){return"string"==typeof e?n(e,t):Array.isArray(e)?s(e,t):"object"==typeof e&&null!==e?a(e,t):e},function(e,t){return 10<u.length?(B.error("Data element circular reference detected: "+u.join(" -> ")),e):c(e,t)}},be=function(r){return function(e,t){if("string"==typeof e)r[arguments[0]]=t;else if(arguments[0]){var n=arguments[0];for(var a in n)r[a]=n[a]}}},ye=setTimeout;o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return c(this,new m(e,t,n)),n},o.prototype["finally"]=a,o.all=function(t){return new o(function(r,i){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){o(t,e)},i)}s[t]=e,0==--c&&r(s)}catch(a){i(a)}}if(!u(t))return i(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(t);if(0===s.length)return r([]);for(var c=s.length,e=0;e<s.length;e++)o(e,s[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(r){return new o(function(e,t){if(!u(r))return t(new TypeError("Promise.race accepts an array"));for(var n=0,a=r.length;n<a;n++)o.resolve(r[n]).then(e,t)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){ye(e,0)},o._unhandledRejectionFn=function qt(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var _e=t(Object.freeze({__proto__:null,"default":o})),we="undefined"!=typeof window&&window.Promise||void 0!==W&&W.Promise||_e["default"]||_e,Pe=function(u,n,a){return function(s,t,c,e){return e.then(function(){var i,o=s.delayNext;return new we(function(e,t){var n=u(s,c,[c]);if(!o)return e();var a=s.timeout,r=new we(function(e,t){i=setTimeout(function(){t(new Error("A timeout occurred because the action took longer than "+a/1e3+" seconds to complete. "))},a)});we.race([n,r]).then(e,t)})["catch"](function(e){return clearTimeout(i),e=n(e),a(s,t,e),we.reject(e)}).then(function(){clearTimeout(i)})})}},Ce=function(c,n,a,r,u){return function(o,t,s,e){return e.then(function(){var i;return new we(function(e,t){var n=c(o,s,[s]),a=o.timeout,r=new we(function(e,t){i=setTimeout(function(){t(new Error("A timeout occurred because the condition took longer than "+a/1e3+" seconds to complete. "))},a)});we.race([n,r]).then(e,t)})["catch"](function(e){return clearTimeout(i),e=n(e),r(o,t,e),we.reject(e)}).then(function(e){if(clearTimeout(i),!a(o,e))return u(o,t),we.reject()})})}},Ee=we.resolve(),ke=function(a,r,e){return function(t,n){return t.conditions&&t.conditions.forEach(function(e){Ee=a(e,t,n,Ee)}),t.actions&&t.actions.forEach(function(e){Ee=r(e,t,n,Ee)}),Ee=(Ee=Ee.then(function(){e(t)}))["catch"](function(){})}},Se=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},Te=function(o,s,c,u){return function(e,t){var n;if(e.conditions)for(var a=0;a<e.conditions.length;a++){n=e.conditions[a];try{var r=o(n,t,[t]);if(Se(r))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!s(n,r))return c(n,e),!1}catch(i){return u(n,e,i),!1}}return!0}},je=function(n,a){return function(e,t){n(e,t)&&a(e,t)}},xe=function(n){return function(e){var t=n.getModuleDefinition(e.modulePath);return t&&t.displayName||e.modulePath}},Oe=function(r){return function(e){var t=e.rule,n=e.event,a=r.getModuleDefinition(n.modulePath).name;return{$type:r.getModuleExtensionName(n.modulePath)+"."+a,$rule:{id:t.id,name:t.name}}}},Ae=function(s,c,u,l,d,p){return function(n,e){var a=e.rule,t=e.event;t.settings=t.settings||{};try{var r=d(e);c(t,null,[function i(e){var t=u(r,e);n(function(){s(t,a)})}])}catch(o){p.error(l(t,a,o))}}},Ve=function(r,i,o,s){return function(e,t,n){var a=i(e);o.error(r(a,t.name,n)),s("ruleActionFailed",{rule:t,action:e})}},Ie=function(r,i,o,s){return function(e,t,n){var a=i(e);o.error(r(a,t.name,n)),s("ruleConditionFailed",{rule:t,condition:e})}},De=function(a,r,i){return function(e,t){var n=a(e);r.log('Condition "'+n+'" for rule "'+t.name+'" was not met.'),i("ruleConditionFailed",{rule:t,condition:e})}},Ne=function(t,n){return function(e){t.log('Rule "'+e.name+'" fired.'),n("ruleCompleted",{rule:e})}},Le=function(i,o,s){return function(e,t){var n;if(e.actions)for(var a=0;a<e.actions.length;a++){n=e.actions[a];try{i(n,t,[t])}catch(r){return void o(n,e,r)}}s(e)}},Re=function(n,a,r,i){return function(e,t){i("ruleTriggered",{rule:t}),n?r(t,e):a(t,e)}},Me=function(e,t,n){return'Failed to execute "'+e+'" for "'+t+'" rule. '+n.message+(n.stack?"\n"+n.stack:"")},Fe=function(e,t){return t&&!e.negate||!t&&e.negate},Ue=[],qe=!1,He=function(e){qe?e():Ue.push(e)},Be=function(e,t,n){e(t).forEach(function(e){n(He,e)}),qe=!0,Ue.forEach(function(e){e()}),Ue=[]},We=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},ze=function Ht(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Ge=function Ge(e){var t,n;return!1!==g(e)&&("function"==typeof(t=e.constructor)&&(!1!==g(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))},Je=function(e,t){return Ge(t=t||{})?t=E({},t,e):E(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return B.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},$e=function(c,u){return function(e,t){var n=c[e];if(n){var a=n.modules;if(a)for(var r=Object.keys(a),i=0;i<r.length;i++){var o=r[i],s=a[o];if(s.shared&&s.name===t)return u.getModuleExports(o)}}}},Ye=function(e,t){return function(){return t?e(t):{}}},Ke=function(n,a,r){return function(e){if(r){var t=e.split(".");t.splice(t.length-1||1,0,"min"),e=t.join(".")}return n(a)+e}},Qe=".js",Xe=function(e){return e.substr(0,e.lastIndexOf("/"))},Ze=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},et=function(e,t){Ze(t,Qe)||(t+=Qe);var n=t.split("/"),a=Xe(e).split("/");return n.forEach(function(e){e&&"."!==e&&(".."===e?a.length&&a.pop():a.push(e))}),a.join("/")},tt=function(n,a){return new we(function(e,t){a.onload=function(){e(a)},a.onerror=function(){t(new Error("Failed to load script "+n))}})},nt=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var n=tt(e,t);return document.getElementsByTagName("head")[0].appendChild(t),n},at=function(e,t,n,a){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var i=/\+/g;e=e.split(t);var o=1e3;a&&"number"==typeof a.maxKeys&&(o=a.maxKeys);var s=e.length;0<o&&o<s&&(s=o);for(var c=0;c<s;++c){var u,l,d,p,m=e[c].replace(i,"%20"),f=m.indexOf(n);0<=f?(u=m.substr(0,f),l=m.substr(f+1)):(u=m,l=""),d=decodeURIComponent(u),p=decodeURIComponent(l),v(r,d)?Array.isArray(r[d])?r[d].push(p):r[d]=[r[d],p]:r[d]=p}return r},rt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},it=function(n,a,r,e){return a=a||"&",r=r||"=",null===n&&(n=undefined),"object"==typeof n?Object.keys(n).map(function(e){var t=encodeURIComponent(rt(e))+r;return Array.isArray(n[e])?n[e].map(function(e){return t+encodeURIComponent(rt(e))}).join(a):t+encodeURIComponent(rt(n[e]))}).join(a):e?encodeURIComponent(rt(e))+r+encodeURIComponent(rt(n)):""},ot=n(function(e,t){t.decode=t.parse=at,t.encode=t.stringify=it}),st="@adobe/reactor-",ct={cookie:G,document:_,"load-script":nt,"object-assign":E,promise:we,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),ot.parse(e)},stringify:function(e){return ot.stringify(e)}},window:k},ut=function(a){return function(e){if(0===e.indexOf(st)){var t=e.substr(st.length),n=ct[t];if(n)return n}if(0===e.indexOf("./")||0===e.indexOf("../"))return a(e);throw new Error('Cannot resolve module "'+e+'".')}},lt=function(s,c,u,l,d,p,m){var f=s.extensions,g=s.buildInfo,v=s.environment,h=s.property.settings;if(f){var b=$e(f,c);Object.keys(f).forEach(function(a){var r=f[a],e=r.settings;Array.isArray(r.filePaths)&&(e=p(e,r.filePaths));var t=Ye(l,e);if(r.modules){var n=B.createPrefixedLogger(r.displayName),i=Ke(m,r.hostedLibFilesBaseUrl,g.minified),o={buildInfo:g,environment:v,property:{name:s.property.name,id:s.property.id},getDataElementValue:d,getExtensionSettings:t,getHostedLibFileUrl:i,getSharedModule:b,logger:n,propertySettings:h,replaceTokens:l,onDebugChanged:u.onDebugChanged,get debugEnabled(){return u.getDebugEnabled()}};Object.keys(r.modules).forEach(function(n){var e=r.modules[n],t=ut(function(e){var t=et(n,e);return c.getModuleExports(t)});c.registerModule(n,e,a,t,o)})}}),c.hydrateCache()}return c},dt=function(e,t,n,a,r){var i=B.createPrefixedLogger("Custom Script");e.track=function(e){B.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=i,e.notify=function(e,t){switch(B.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:i.info(e);break;case 4:i.warn(e);break;case 5:i.error(e);break;default:i.log(e)}},e.getVar=a,e.setVar=r,e.setCookie=function(e,t,n){var a="",r={};n&&(a=", { expires: "+n+" }",r.expires=n);var i='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+a+").";B.deprecation(i),G.set(e,t,r)},e.readCookie=function(e){return B.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),G.get(e)},e.removeCookie=function(e){B.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),G.remove(e)},e.cookie=G,e.pageBottom=function(){},e.setDebug=n;var o=!1;Object.defineProperty(e,"_container",{get:function(){return o||(B.warn("_satellite._container may change at any time and should only be used for debugging."),o=!0),t}})},pt=function(e){for(var t=_.querySelectorAll("script"),n=0;n<t.length;n++){var a=t[n];if(e.test(a.src))return a}},mt=function(a,r){return function(t,e,n){return a&&Ge(t)&&Object.keys(t).length&&Array.isArray(e)&&e.length&&e.forEach(function(e){Boolean(null!=n&&/^core\/.*actions.*\/customCode\.js$/.test(n))&&"source"===e&&!t.isExternal||y(e.split("."),t,r)}),t}},ft={getTurbine:function(){return pt(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))},byRegexPattern:pt}.getTurbine,gt=window._satellite;if(gt&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var vt=gt.container;delete gt.container;var ht=E({},vt.buildInfo);Object.defineProperty(ht,"environment",{get:function(){return B.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),vt.environment.stage}}),vt.buildInfo=ht;var bt,yt=x($("localStorage"),B),_t="";_.currentScript&&_.currentScript.getAttribute("src")?_t=_.currentScript.getAttribute("src"):ft()&&(_t=ft().getAttribute("src"));try{bt=S(_t,vt.company.cdnAllowList,yt)}catch(Bt){throw B.warn("Please review the following error:"),Bt}var wt,Pt=mt(bt.isDynamicEnforced,bt.decorateWithDynamicHost),Ct=fe(),Et=vt.property.settings.undefinedVarsReturnEmpty,kt=vt.property.settings.ruleComponentSequencingEnabled,St=vt.dataElements||{};oe.migrateCookieData(St);var Tt=function(e){return St[e]},jt=ce(Ct,Tt,function(){return wt.apply(null,arguments)},Et,Pt),xt={},Ot=be(xt),At=pe(xt,Tt),Vt=de(xt,Tt,jt);wt=he(At,Vt,Et),dt(gt,vt,yt.setDebugEnabled,Vt,Ot),lt(vt,Ct,yt,wt,jt,Pt,bt.decorateWithDynamicHost);var It=ve(gt),Dt=A(Ct,wt,Pt),Nt=xe(Ct),Lt=De(Nt,B,It),Rt=Ie(Me,Nt,B,It),Mt=Ve(Me,Nt,B,It),Ft=Ne(B,It),Ut=Ae(Re(kt,je(Te(Dt,Fe,Lt,Rt),Le(Dt,Mt,Ft)),ke(Ce(Dt,We,Fe,Rt,Lt),Pe(Dt,We,Mt),Ft),It),Dt,Je,Me,Oe(Ct),B);Be(T,vt.rules||[],Ut)}return gt}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();